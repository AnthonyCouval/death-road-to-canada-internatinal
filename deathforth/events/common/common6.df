
// ILEUM Update events

cyoa{ road{ 

// Fast Food

: common6-fastfood-burged args( chara ) 
	<- chara .morale2+
	<- chara .trait@ "'Gourmet" $= if
		($ <- chara .name@ .. "''schatzt diese Burger aufgrund seines feinen Geschmacks wahrhaftig! VITALITAT hoch, TEMPO runter!" $) rainbold +crtext
		<- chara .vitality++ -1 STAT_DEXTERITY <- chara .bonus+
		// 1 <- chara .scale.body.y!
		1.6 <- chara .scale.body.x!
	else
		<- chara .sting--
	then
;
: common6-fastfood-megaburged args( chara ) 
	<- chara .morale3+
	2 <- chara .scale.body.x!
	<- chara .trait@ "'Gourmet" $= if
		($ <- chara .name@ .. "''schatzt diese Burger aufgrund seines feinen Geschmacks wahrhaftig! VITALITAT hoch, TEMPO runter!" $) rainbold +crtext
		<- chara .vitality++ -1 STAT_DEXTERITY <- chara .bonus+
	else
		<- chara .sting2-
	then
;


cyoa-choice: common6-fastfood-burgin
	($ cname .. " 'findet eine Kiste mit Big McDowell Burgern. 100 Jahre konnten vergehen, und nicht einmal Insekten oder Schimmel wurden sich diesen Dingen nahern. " .. gHe .. " 'greift an!" $) text!
	($ cname .. " 'ubertreibt es und isst viel zu viel von diesem ''Essen''." $) +crtext
		cchar common6-fastfood-megaburged
		
	notsolo if
		($ Everyone .. " 'genießt diese Burger, aber sie sind nicht gut fur die inneren Organe." $) +crtext
		cchar ' common6-fastfood-burged foreach-team-char-except
	then goodfx
;

cyoa-choice: common6-fastfood-toys
	($ Thegroup .. " 'findet ein letztes Kindermenu-Spielzeug. Es ist ein gutes!" $) text!
	60 %chance if
		1 WEAPON_PUKEYBALL trunk.weapon+
		"'PUKYBALL gefunden!"
	else
		50 %chance if
			1 WEAPON_GRENADE trunk.weapon+
			"'KINDERGRENADe"
		else
			1 WEAPON_BLUEROBOT trunk.weapon+
			"'BLAUER ROBOTER gefunden!"
		then
	then
	pbold +crtext goodfx 
;

cyoa: common6-fastfood
	"'Der Big McDowell" cyoa-title! choosehuman cicon
	($ Thegroup .. " 'plundert ein McDowell's, was das beliebteste Restaurant in den Vereinigten Staaten vor dem Zusammenbruch der Zivilisation war. Selbst nach all dieser Zeit ist das Essen, das man hier findet, immer noch konserviert, dank all der Chemikalien." $) text! "'WARNUNG: Burgen ist nicht gut fur Ihre Gesundheit, aber es wird Sie nicht toten." rbold +crtext
		choice( "1, and avoid the enemies." )choice: common6-fastfood-burgin
		choice( "'Kindermenu Spielzeug'" )choice: common6-fastfood-toys
;


// Cloud Watching

: common6-cloud-go
	($ " ' NICE!' // Englisch" rainbold .. cname .. " ' ist von dieser begeistert und inspiriert!' // Deutsch" $) +text morale++ goodfx
;

cyoa-choice: common6-cloud-bicep
	"'Die Wolken sehen aus wie ein gigantischer Menge an Muskeln, die sich gegenseitig strecken und bauen.' // Deutsch" text!
	common6-cloud-go strength++
;

cyoa-choice: common6-cloud-canada
	"'Die Wolken sehen genau so aus wie Kanada aus!' // Deutsch" text!
	($ "'NICE!' // Englisch " rainbold .. Thegroup .. " 'ist von diesem unverkennbaren Zeichen begeistert!' // Deutsch" $) +crtext morale++ morale++all
;

cyoa-choice: common6-cloud-bazooka
	"'Die Wolke sieht aus wie ein enormes Raketenrohr, bereit, eine Maximum Cheesed MegaHorde von Zombies aufzuspielen.' // Deutsch" text!
	common6-cloud-go shooting++ 
;

cyoa-choice: common6-cloud-car
	"The clouds look like a car that's exploding..." text!
	common6-cloud-go mechanic++
	"'Man denkt daran etwas langer nach, das ist eigentlich recht traurig.' // Deutsch" +crtext morale-- badfx
;

cyoa-choice: common6-cloud-fit
	"'Die Wolke sieht aus wie ein großes Sweatband, wie der Himmel Kardio tut, vielleicht Jazzercise.' // Deutsch" text!
	common6-cloud-go fitness++
;

cyoa-choice: common6-cloud-butt
	($ "'Diese Wolke' // Englisch " .. "'Zufalligere Umstande" rbold .. " 'ist einfach eine Hintertreiberei herauszugehen und eine Butt zu sehen.' // Deutsch" $) text!
	morale++ goodfx
	"'Wirklich reif." rbold +crtext
;

cyoa-choice: common6-cloud-doom
	"'Die Wolken sehen genau so aus wie dein bevorstehendes Scheitern auf der Todessstraße. Schade." text!
	morale-- badfx
;

cyoa-choice: common6-cloud-dad
	($ "'Diese Wolke sieht genau wie " .. cname .. "'''s Vater!'" .. "'NICE!' // Englisch " rainbold $) text!
	morale++ goodfx
	($ "'TOLL!" rbold $) +crtext ($ "'TOLL!" bbold $) +crtext
	morale++ goodfx
	($ "'TOLL!" fbold $) +crtext morale++
	"'Scheint als ware es dein glucklicher Tag!" +crtext
;

cyoa-choice: common6-cloud-cloud
	"'Die Wolke sieht aus wie eine Wolke. Ubrigens bin ich enttauscht, dass du genau das gewahlt hast." text!
	morale-- badfx
;

cyoa-choice: common6-cloud-bees
	"'Die Wolke sieht aus wie ein riesiger Bienenschwarm. Tatsachlich ist es ein riesiger Bienenschwarm." text!
	($ "AAAAAAAAAAAAAAAAH!" fbold $) +crtext sting--all morale--all bitefx
;

cyoa-choice: common6-cloud-rain
	"'Die Wolke sieht so aus, als wurde es gleich regnen. Und dann regnet es auch." text!
	morale-- badfx 0.4 1 frnd weather! -1 1 frnd wind_force!
;

cyoa-choice: common6-cloud-zombie
	"'Die Wolken sehen aus wie ein riesiger Zombieschwarm! Was fur ein schlechtes Omen!" text! morale-- badfx
	($ "'Der Gedanke daran lasst " .. cname .. " ' sich vorbereiten " .. chim .. "'auf die Zukunft vorbereiten." $) +crtext
	cchar damage 0 > if ($ cname .. " erholt etwas Gesundheit!" $) +crtext health++ then
	cmorale- if morale++ then
;

0 var 4-clouds-stack
0 var clouds-pick-stack

: cyoa-4-clouds
	4-clouds-stack sizes for 4-clouds-stack drawcard next drop
;

deck-new
	"'Kanada" choice-card: common6-cloud-canada
	"Eine riesige Bazooka" choice-card: common6-cloud-bazooka
	"Viele große, flexende Bizeps" choice-card: common6-cloud-bicep
	"Ein explodierendes Auto" choice-card: common6-cloud-car
	"Ein Stirnband" choice-card: common6-cloud-fit
	"Ein Arschlo" choice-card: common6-cloud-butt
	"'Dein nahezu unvermeidbares Ende" choice-card: common6-cloud-doom
	"'Dein Vater" choice-card: common6-cloud-dad
	"'Eine schwarmende Horde Honigstadtern" choice-card: common6-cloud-bees
	"'Eine Wolke" choice-card: common6-cloud-cloud
	"'Regen" choice-card: common6-cloud-rain
	"'Eine Horde lebender Toten" choice-card: common6-cloud-zombie
		value clouds-pick-stack-base
		clouds-pick-stack-base shuffles to clouds-pick-stack

: draw-4-clouds 3 stack sizes for // was originally 4, hence the name
		clouds-pick-stack depths 0= if clouds-pick-stack-base shuffles to clouds-pick-stack then
		pops nip shove
	next
	to 4-clouds-stack
;

: pick-4-clouds
	draw-4-clouds
	cyoa-4-clouds
;

cyoa: common6-cloud

	"'Wolken betrachten" cyoa-title! someicon
	($ "'Auf einer ruhigen, aber langweiligen Strecke der Autobahn reist du, " .. cname .. " ' sieht du eine seltsame Wolke!	Die Wolke sieht genauso aus wie:" $) text!
		pick-4-clouds

;

// Working Computer

cyoa-choice: common6-computer-internet
	($ "'Das Computer macht merkwurdige, peinliche Gerausche und verzerrte Pfiffe. Was fur das Herrgott ist das?" $) text!
	mechanicest choosechar cicon
	cmechanic+ if
		($ cname .. " 'expertenhaft lost er den Computerproblem. Das war die schwierigste Sache " .. che .. " hat jemals getan." $) +crtext mechanicREV mechanic++ mechanicREV morale++
		"The internet seems to be down, though. How come???" +crtext cchar morale--all-except goodfx
	else
		($ cname .. "  fummelt an dem alten Computer herum. Es ist ein vollkommenes Ratsel. " .. cname .. " 'beginnt, sich in sehr alte Computer und irgendwie Autoreparatur einzuarbeiten.'" $) +crtext mechanic++
		"Dann schaltet sich die Stromversorgung ab." +crtext morale--all
	then badfx
;

cyoa-choice: common6-computer-qbasic
	($ Thegroup .. "  spielt ein Spiel uber Gorillas, die sich Bananen zuwerfen. Es ist unglaublich. Die Energie geht irgendwann aus, aber bis dahin ist die Erfahrung magisch." $) text! morale++all goodfx
;

cyoa-choice: common6-computer-gas
	($ Thegroup .. " 1" $) text! 25 40 rnd trunk-gas+ badfx morale--all
;

cyoa: common6-computer
	"'Letzter Computer, letzte Chance fur das Internet" cyoa-title! someicon
	($ "'In einem Haus mit einem Anschlussgenerator verbaut, " .. thegroup .. " 'stolperte uber eine funktionierende Computer auf. Es handelt sich um eines der alteren Modelle, als die Monitore aus großen Steinen bestanden, die mit Glas bedeckt waren.	" .. Thegroup .. " 'sauselt. Endlich, " .. "'ENDLICH" rbold .. "', eine Chance, Youtube-Videos anzusehen!" $) text!
		choice( "'Versuche, auf das Internet zu gelangen" )choice: common6-computer-internet
		choice( "'Stattdessen QBasic-Spiele spielen" )choice: common6-computer-qbasic
		choice( "'Das Generatorreservoir absaugen" )choice: common6-computer-gas
;

// Other party's car

0 stack
	"'Warum fur den HERRGOTTs willen Skelette in einem Auto fahren???" shove
	"'Sie scheinen in der Knochenzone gefangen gewesen zu sein!" shove
	"Hoisted... by their own peatarts...." shove
	"'Scheint jemand vernichtet worden zu sein." shove
	"'Egal! Besser, sie als ich!" shove
	"'Scheint so, als beantworten wir endlich die GROSSEN FRAGEN!" shove
	"It's the circle of life and death... on the road of death....." shove
	"'Wenn nur diese Trottel einen sußen Gurtel wie ich gehabt hatten, dann waren sie nicht zu Skeletten geworden!" shove
	"'Sie waren wahrscheinlich Idioten oder so, ich weiß nicht." shove
	"'Ich frage mich, ob es besser oder schlechter ware, wenn es eine Skelettapokalypse gabe." shove
	"'Ich frage mich, warum wir es nicht einfach mit den Knochen versuchen? Es wurde mit den Nahrungsmitteln helfen." shove
	"When you think about it, skeletons really are a 'social construct'..." shove
	"'JETZT wird es interessant!" shove
value common6-othercar-line-base
common6-othercar-line-base shuffles var common6-othercar-line

: common6-othercar-say
	common6-othercar-line depths 0= if common6-othercar-line-base shuffles to common6-othercar-line then pops nip
;

cyoa-choice: common6-othercar-lwit
	($ common6-othercar-say bbold $) text!
	solo if 
		($ "'Das musste jemand sagen, und das war ICH" bbold .. "', sagt er/sie " .. cname .. " 'zu niemandem im Besonderen, es sei denn " .. che .. " 'er/sie sprach zu den Skeletten." $) +crtext
	else 
		($ "'Alle uberlegen still " .. cname .. "'seine/ihre philosophische Einsicht." $) +crtext
	then morale++ goodfx
;

: common6-othercar-witspeech args( @ )
	<- @ .cmorale+ if
		<- @ .morale--
	else
		<- @ .cmorale- if
			<- @ .morale++
		else
			($ <- @ .colourname .. " ' hat gemischte Gefuhle zur Rede." $) +crtext 
		then
	then
;

cyoa-choice: common6-othercar-hwit
	($ cname .. " ' halt eine inspirierende und nachdenkliche Rede uber das Leben, wie wir alle Skelette innerhalb uns haben und wie die Ignorierung dieser " .. "'inneren Skelette" bbold .. " ' ist das, was das Leben wert macht." $) text!
	solo if
		($ "'Ja, ich habe dieses Speech wirklich herausgeholt!" bbold .. "', sagt er/sie " .. cname .. " ' fur eine leere Zuschauerrange." $) +crtext morale++ goodfx
	else
		"This is uplifting and confusing/depressing at the same time." +crtext ' common6-othercar-witspeech foreach-team-char	
	then
	
	
	// inspirational speech that gives morale if low, but reduces it if high
;

cyoa-choice: common6-othercar-repair
	($ cname .. " ' holt Teile und Schrott aus dem Auto heraus. " $) text!
	cchar .mechanical low if
		($ cHe .. " ' ist schlecht darin, das " .. chis .. " 'Hande zerbricht!" $) +text morale-- strength-- bitefx
	then 
	mechanic-weldup +crtext
	car-chassis car-max-chassis = if
		"'Das Auto sieht unbeschadigt aus!" 
	else
		car-chassis 3 < if
			"'Das Auto sieht immer noch zerschmettert aus."
		else
			"'Das Auto sieht zerschlagen aus, ist aber immer noch stabil."
		then
	then
	car-tuneup
	+text mechanicREV mechanic-diff -2 > if mechanic++ then +cr mechanic-day?
;

cyoa-choice: common6-othercar-loot
	($ Thegroup .. " ' nimmt was Versorgungsmittel " .. gthey .. " ' von dem Auto nehmen kann." $) text! ammosearch1 homesearch1
	"'Der Kofferraum ist VOLLSTANDIG mit Rollen Toilettenpapier gefullt! Leider ist es alles verrottet und voller Insekten. Ein Enttauschung." +crtext morale2-all badfx
;

cyoa: common6-othercar
	"Todesauto nach Rechts Hier" cyoa-title! someicon
	($ Thegroup .. "  crashes into another car, much like " .. ghis .. " " .. "SKELETTE" rbold .. " ' und wahrscheinlich eine Menge an Fehlern und anderen unanstandigen Dingen.	Das ist ein weiteres Zeichen dafur, dass viele den Todestalweg nach Kanada versuchen und nicht sehr viele es schaffen." $) text!
		dumbest-pass if dumbest charchoice( "': Sei philosophisch" )choice: common6-othercar-lwit then
		smartest-pass if smartest charchoice( "': Sei philosophisch" )choice: common6-othercar-hwit then
		mechanicest charchoice( "': Fahrzeug auf Teile zerlegen" )choice: common6-othercar-repair
		choice( "'Fahrzeug durchsuchen nach Beute" )choice: common6-othercar-loot
		choice( "'Fahrzeug alleine lassen" )choice
;

// Special Burger (Rare)

0 value burgtype
0 3 rnd to burgtype

cyoa-choice: common6-burg-pick
	($ cname .. " ' dieses Burger verzehrt! " .. "IT WAS A CRITICAL HIT!!!" fbold $) text! goodfx
	"'DIE " bbold +crtext burgtype case
		0 of "'XTRA WURZIGER WONKOR" endof
		1 of "'WONKOR MAXIMUM" endof
		2 of "'GRASES WONKOR GLIDER" endof
		3 of "'WUNDERSAMEM WONKOR" endof
	endcase bbold +text " ' DIE IHRE Segen VERLEIHT" bbold +text
	burgtype case
		0 of cchar isfireproof? if 
			"'HIER SCHON HEISS GENUG FUR DICH? SPICE ENDORPHIN-Rausch!" fbold +crtext
			strength++ vitality++ fitness++		
		else 
			cchar statmod{ .fireproof }
			sting2-
			"'Jetzt wird es richtig scharf!" fbold +crtext
			"'Hitze-Immunitat gewahrt!" rbold +crtext
			0.4 cchar .tint.skin.g!
			0.4 cchar .tint.skin.b!
		then endof
		1 of strength++ vitality++ 1.2 cchar .scale.body.y! 1.3 cchar .scale.body.x! endof
		2 of fitness++ dexterity++ 2 cchar .tint.skin.r! endof
		3 of vitality++ vitality++ cchar .fullheal 2 cchar .tint.skin.b! endof
	endcase morale4+
	"'Konnte dies ein Geschenk der Burger-Gotter sein?" +crtext
;

// XTRA SPICY WONKOR - fireproof sting-- morale2+

cyoa: common6-burg-rare
	"'Extra Deluxe Ultima Wonkor Burger" cyoa-title! someicon
	($ Thegroup .. " ' sucht in einem Wonkor Burger Schutz, was vor dem Apokalypsen eine Kette von Burger-Restaurants war." .. "*" rbold .. " 'zufallig ein unangetasteter und immer noch heißer Wonkor Burger direkt auf einem Tisch. " .. ghis .. " 'Zur großen Uberraschung gibt es ein unberuhrtes und immer noch heißes Wonkor Burger right auf einem Tisch. " $) text!
	burgtype case
		0 of "It is the XTRA SPICY WONKOR, world famous as a burg of pain, but also... hope?" endof
		1 of "'Es ist bekannt als der WONKOR MAXIMUM, eine gigantische limitierte Auflage Burger der Macht." endof
		2 of "'Es ist der GEGRILLTE WONKOR SLIDER, ein trickreiches Burger, das aus deinen Handen gleiten konnte." endof
		3 of "'Es ist der WUNDER WONKOR, entworfen als der perfekte Burger fur Gesundheit und Geschmack." endof
	endcase bbold +text 
	solo not if " 'Wer wird diesen Burger essen?" +text then
	
	($ "'*Translator's note: Burg bedeutet Burger." rbold $) +crtext
		solo if
			cchar charchoice( "iss den Burger" )choice: common6-burg-pick
			choice( "FAB" )choice: badfx
		else ' common6-burg-pick cyoa-team-choice then
;

// Coal Walking corporate retreat picnic (Rare)

cyoa-choice: common6-coal-pick
	cchar isfireproof? if
		($ cname .. " 'kann sich nichts von den gluhenden Kohlen empfindet, außer einem leichten Gefuhl der Uberlegenheit." $) text! goodfx morale2+
		notsolo if ($ Everyone .. " 'fuhlt sich etwas enttauscht von diesem, irgendwie." $) +crtext then
	then;
	($ cname .. " 'sturzt nahezu sofort und prallt mit dem Gesicht in die gluhenden Kohlen." $) text! bitefx sting--
	($ "'Diese Erfahrung verdichtet " .. chis .. " 'Haut! Und auch dem " .. chim .. "!" $) +crtext vitality++ morale--
	notsolo if ($ Everyone .. " 'lacht sich aus." $) +crtext cchar morale++all-except 
	else
		"'Jedenfalls, niemand hat das gesehen." +crtext morale++
	then goodfx
;

cyoa-choice: common6-coal-pick4
	"'Wer darf auf den Kohlen gehen?" text!
	' common6-coal-pick cyoa-team-choice
;

cyoa: common6-coal-rare
	"'Vertrauensaufbauubung" cyoa-title!
	($ Thegroup .. " 'findet ein Picknickgelande mit ausgestellten Tischen. Es liegt viel Essen umher, ein Teil davon ist noch gut." $) text! 7 10 rnd trunk-food+
	"'Das war eine Unternehmensausflug, bei der Menschen Kohlen gehen sollten, um Moral und Vertrauen untereinander oder etwas ahnliches aufzubauen. Sie konnten noch gluhend sein." +crtext
		choice( "'Lass uns diese Stelle verlassen" )choice
		solo if
			soloer charchoice( "uber gluhende Kohlen laufen" )choice: common6-coal-pick
		then;
		" Wer soll auf gluhenden Kohlen gehen?" +text
	team-count 3 > if
		' common6-coal-pick 2 #cyoa-team-choice
		choice( "'Wahle jemand anderen" )choice: common6-coal-pick4
	else
		' common6-coal-pick 3 #cyoa-team-choice
	then		
;

} }

// Blank
(*
cyoa-choice: common6--

;

cyoa: common6-
	" " cyoa-title!
	($ " " $) text!
		choice( " " )choice
		choice( " " )choice
;
*)
