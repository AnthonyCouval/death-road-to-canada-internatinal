
// ILEUM Update events

cyoa{ road{ 

// Fast Food

: common6-fastfood-burged args( chara ) 
	<- chara .morale2+
	<- chara .trait@ "Gourmet" $= if
		($ <- chara .name@ .. "les gouts exquises de lui permettent une vraie appreciation de ces burgers ! vitalite a la hausse, vitesse a la baisse !" $) rainbold +crtext
		<- chara .vitality++ -1 STAT_DEXTERITY <- chara .bonus+
		// 1 <- chara .scale.body.y!
		1.6 <- chara .scale.body.x!
	else
		<- chara .sting--
	then
;
: common6-fastfood-megaburged args( chara ) 
	<- chara .morale3+
	2 <- chara .scale.body.x!
	<- chara .trait@ "Gourmet" $= if
		($ <- chara .name@ .. "les gouts exquises de lui permettent une vraie appreciation de ces burgers ! vitalite a la hausse, vitesse a la baisse !" $) rainbold +crtext
		<- chara .vitality++ -1 STAT_DEXTERITY <- chara .bonus+
	else
		<- chara .sting2-
	then
;


cyoa-choice: common6-fastfood-burgin
	($ cname .. " decouvrez une boite de big mcdowell, des burgers. passez cent ans et rien, ni insectes ni moisissure, ne parviendra a les atteindre. " .. gHe .. " creuse profondement !" $) text!
	($ cname .. " mange excessivement de cette nourriture." $) +crtext
		cchar common6-fastfood-megaburged
		
	notsolo if
		($ Everyone .. " il a un vrai gout pour ces burgers, mais ils ne sont pas excellents pour les anciens organes interne." $) +crtext
		cchar ' common6-fastfood-burged foreach-team-char-except
	then goodfx
;

cyoa-choice: common6-fastfood-toys
	($ Thegroup .. " trouve un jouet restant de repas pour enfant. c'est bien cool !" $) text!
	60 %chance if
		1 WEAPON_PUKEYBALL trunk.weapon+
		"Nous avons trouve la boule puke!"
	else
		50 %chance if
			1 WEAPON_GRENADE trunk.weapon+
			"Une grenade a enfants"
		else
			1 WEAPON_BLUEROBOT trunk.weapon+
			"Robot bleu trouve !"
		then
	then
	pbold +crtext goodfx 
;

cyoa: common6-fastfood
	"Le grand mcdowell" cyoa-title! choosehuman cicon
	($ Thegroup .. " une personne pille un mcdo, qui etait le restaurant le plus populaire aux etats-unis avant que la civilisation s'effondre. malgre le temps qui est passe, les aliments trouves ici sont toujours conserves grace a tous les chimiques." $) text! "Avertissement : le burging n'est pas tres sain pour votre sante mais ne vous tue pas." rbold +crtext
		choice( "Trouvez et mangez des burgers, payez la prix du burger." )choice: common6-fastfood-burgin
		choice( "Rechercher des jouets de repas pour enfants." )choice: common6-fastfood-toys
;


// Cloud Watching

: common6-cloud-go
	($ " Magnifique !" rainbold .. cname .. " est releve et inspire par cela !" $) +text morale++ goodfx
;

cyoa-choice: common6-cloud-bicep
	"Les nuages ressemblent a une grosse quantite de biceps relies l'un a l'autre, qui se contractent en pompue." text!
	common6-cloud-go strength++
;

cyoa-choice: common6-cloud-canada
	"Les nuages ressemblent exactement au pays du canada !" text!
	($ "BRAVO ! " rainbold .. Thegroup .. " cette instruction est inspiree par ce signe evident !" $) +crtext morale++ morale++all
;

cyoa-choice: common6-cloud-bazooka
	"L'nuage ressemble a une grosse bazooka prete a exploser une horde maximale de zombies au fromage maximum." text!
	common6-cloud-go shooting++ 
;

cyoa-choice: common6-cloud-car
	"The clouds look like a car that's exploding..." text!
	common6-cloud-go mechanic++
	"C'est vraiment un peu triste a penser a cela de plus en plus." +crtext morale-- badfx
;

cyoa-choice: common6-cloud-fit
	"La nuage ressemble a une grande bandelette de sueur, comme si le ciel faisait du sport, peut-etre du jazzercise." text!
	common6-cloud-go fitness++
;

cyoa-choice: common6-cloud-butt
	($ "Cette nuage " .. "PAR CHANCE HEUREUSE, PAR CHANCE MALHEUREUSE" rbold .. " ressembler a une cul. vraiment mur." $) text!
	morale++ goodfx
	"Vraiment mur." rbold +crtext
;

cyoa-choice: common6-cloud-doom
	"Les nuages ressemblent exactement a votre echec imminent sur la route de la mort. c'est dommage." text!
	morale-- badfx
;

cyoa-choice: common6-cloud-dad
	($ "Cette nuage a le meme aspect que " .. cname .. "pere de !" .. " TRES BIEN !" rainbold $) text!
	morale++ goodfx
	($ "BLAH !" rbold $) +crtext ($ "BLAH !" bbold $) +crtext
	morale++ goodfx
	($ "BLAH !" fbold $) +crtext morale++
	"C'est heureusement votre jour chanceux !" +crtext
;

cyoa-choice: common6-cloud-cloud
	"Ce nuage ressemble a un nuage... je suis desappointe de votre choix en realite." text!
	morale-- badfx
;

cyoa-choice: common6-cloud-bees
	"En fait, c'est en realite une grande ruche d'abeilles." text!
	($ "AAAAAAAAAAAAAAAAH!" fbold $) +crtext sting--all morale--all bitefx
;

cyoa-choice: common6-cloud-rain
	"La nuage semble annoncer une pluie... et puis elle tombe." text!
	morale-- badfx 0.4 1 frnd weather! -1 1 frnd wind_force!
;

cyoa-choice: common6-cloud-zombie
	"Ces nuages ressemblent a une horde monstrueuse de zombies ! . . 	quel mauvais presage !" text! morale-- badfx
	($ "Cette idee me fait penser a : " .. cname .. " accolade " .. chim .. "pour l'avenir, moi-meme." $) +crtext
	cchar damage 0 > if ($ cname .. " recupere de la sante !" $) +crtext health++ then
	cmorale- if morale++ then
;

0 var 4-clouds-stack
0 var clouds-pick-stack

: cyoa-4-clouds
	4-clouds-stack sizes for 4-clouds-stack drawcard next drop
;

deck-new
	"Le canada" choice-card: common6-cloud-canada
	"Un gros lance-roquettes" choice-card: common6-cloud-bazooka
	"Plusieurs gros biceps souples" choice-card: common6-cloud-bicep
	"Voiture explosive" choice-card: common6-cloud-car
	"Un ruban de sueur" choice-card: common6-cloud-fit
	"Un gros bout ou une bouteille de vin" choice-card: common6-cloud-butt
	"Votre doom imminent" choice-card: common6-cloud-doom
	"Mon pere" choice-card: common6-cloud-dad
	"Une ruee saccadee de bourdons" choice-card: common6-cloud-bees
	"Un nuage" choice-card: common6-cloud-cloud
	"Pluie" choice-card: common6-cloud-rain
	"Une horde de zombies" choice-card: common6-cloud-zombie
		value clouds-pick-stack-base
		clouds-pick-stack-base shuffles to clouds-pick-stack

: draw-4-clouds 3 stack sizes for // was originally 4, hence the name
		clouds-pick-stack depths 0= if clouds-pick-stack-base shuffles to clouds-pick-stack then
		pops nip shove
	next
	to 4-clouds-stack
;

: pick-4-clouds
	draw-4-clouds
	cyoa-4-clouds
;

cyoa: common6-cloud

	"Observation des nuages" cyoa-title! someicon
	($ "Dans une tranquille et ennuyeuse etendue de route, " .. cname .. " une nuage bizarre qui ressemble a:" $) text!
		pick-4-clouds

;

// Working Computer

cyoa-choice: common6-computer-internet
	($ "Cette ordinateur fait des bruits etranges et desagreables, des gemissements et des trilles deformes. qu'est-ce qui se passe reellement ?" $) text!
	mechanicest choosechar cicon
	cmechanic+ if
		($ cname .. " expertement fait fonctionner l'ordinateur. c'etait la tache la plus dure. " .. che .. " a fait au moins une fois." $) +crtext mechanicREV mechanic++ mechanicREV morale++
		"The internet seems to be down, though. How come???" +crtext cchar morale--all-except goodfx
	else
		($ cname .. " travaille a l'ancien ordinateur. c'est une enigme complete et absolue. " .. cname .. " commence a progresser dans la comprehension des ordinateurs tres anciens et, de quelque maniere que ce soit, dans la reparation de voitures." $) +crtext mechanic++
		"Alors le courant s'arrete." +crtext morale--all
	then badfx
;

cyoa-choice: common6-computer-qbasic
	($ Thegroup .. " je joue a un jeu ou des singes jettent des bananes l'un a l'autre. cela est incroyable. la puissance finit par s'eteindre, mais jusqu'alors, l'experience est magique." $) text! morale++all goodfx
;

cyoa-choice: common6-computer-gas
	($ Thegroup .. " extraction du gaz du generateur de la maison. il en reste assez. ... 	la puissance s'arrete, avec les possibilites d'acceder a internet." $) text! 25 40 rnd trunk-gas+ badfx morale--all
;

cyoa: common6-computer
	"Dernier ordinateur, derniere chance pour internet" cyoa-title! someicon
	($ "Dans une maison equipee d'un generateur : " .. thegroup .. " tombe sur un ordinateur fonctionnel. c'est une des anciennes versions, ou les moniteurs etaient construits comme de gigantesques briques avec du verre a l'avant... ." .. Thegroup .. " s'etale de la salive. enfin, " .. "EN FIN DE COMPTE" rbold .. "vous avez la chance de regarder des videos youtube !" $) text!
		choice( "Tentez d'acceder a internet." )choice: common6-computer-internet
		choice( "Jouez aux jeux qbasic a la place" )choice: common6-computer-qbasic
		choice( "Raccorder un siphon au generateur" )choice: common6-computer-gas
;

// Other party's car

0 stack
	"Pourquoi les cranes conduisent une voiture ?" shove
	"Ces gens semblent etre bloques dans la zone osseuse !" shove
	"Hoisted... by their own peatarts...." shove
	"Quelqu'un a ete humilie ou battu a merveille." shove
	"C'est rien grave, je me suis mordu." shove
	"Enfin, nous allons reellement repondre aux grandes questions !" shove
	"It's the circle of life and death... on the road of death....." shove
	"Si seuls ces gadgets avaient une belle boucle de ceinturon comme moi, ils n'auraient pas devenus des squelettes !" shove
	"Ils etaient probablement des gens mechants ou de quoi que ce soit, je ne sais pas exactement." shove
	"Si c'etait une apocalypse d'os au lieu de celle-ci, je me demande s'il serait meilleur ou pire." shove
	"Pourquoi ne essayons-nous simplement de manger les os ? cela aiderait avec les approvisionnements en nourriture." shove
	"When you think about it, skeletons really are a 'social construct'..." shove
	"Maintenant, les choses commencent a etre interessantes !" shove
value common6-othercar-line-base
common6-othercar-line-base shuffles var common6-othercar-line

: common6-othercar-say
	common6-othercar-line depths 0= if common6-othercar-line-base shuffles to common6-othercar-line then pops nip
;

cyoa-choice: common6-othercar-lwit
	($ common6-othercar-say bbold $) text!
	solo if 
		($ "C'etait moi qui avais a dire cela." bbold .. "dire : " .. cname .. " a personne en particulier, sauf " .. che .. " parle aux ossements." $) +crtext
	else 
		($ "Tout le monde reflechit tranquillement. " .. cname .. "la pensee philosophique de s." $) +crtext
	then morale++ goodfx
;

: common6-othercar-witspeech args( @ )
	<- @ .cmorale+ if
		<- @ .morale--
	else
		<- @ .cmorale- if
			<- @ .morale++
		else
			($ <- @ .colourname .. " a des sentiments mitiges a propos du discours." $) +crtext 
		then
	then
;

cyoa-choice: common6-othercar-hwit
	($ cname .. " 'tous nous possedons des ossements interieurs, des secrets qui s'entretuent dans l'ombre de notre ame. ignorer ces aspects sombres de nous-memes ne fait qu'elever des murs entre nous et la comprehension profonde de nos vies. embrasser les ombres, reconnaitre les skeletons et leur donner la parole peut nous conduire vers une paix interieure et une comprehension plus grande de notre humainite.' " .. "se leche" bbold .. " c'est ce qui fait la precieuse de la vie." $) text!
	solo if
		($ "Je suis reellement satisfait de ce discours" bbold .. "dire : " .. cname .. " a une audience absolue de personne." $) +crtext morale++ goodfx
	else
		"This is uplifting and confusing/depressing at the same time." +crtext ' common6-othercar-witspeech foreach-team-char	
	then
	
	
	// inspirational speech that gives morale if low, but reduces it if high
;

cyoa-choice: common6-othercar-repair
	($ cname .. " recupere les pieces detachees et ferraille utiles pour la voiture. " $) text!
	cchar .mechanical low if
		($ cHe .. " c'est terrible pour lui a cela, et il parvient a detruire " .. chis .. " groovy est une langue de programm" $) +text morale-- strength-- bitefx
	then 
	mechanic-weldup +crtext
	car-chassis car-max-chassis = if
		"L'automobile semble intacte !" 
	else
		car-chassis 3 < if
			"La voiture encore parait completement endommagee."
		else
			"La voiture a l'aspect battue et usee, mais elle reste solide."
		then
	then
	car-tuneup
	+text mechanicREV mechanic-diff -2 > if mechanic++ then +cr mechanic-day?
;

cyoa-choice: common6-othercar-loot
	($ Thegroup .. " prenne des approvisionnements " .. gthey .. " on peut la trouver a partir de la voiture." $) text! ammosearch1 homesearch1
	"La tronc est totalement rempli de rouleaux de papier hygienique ! malheureusement, c'est tout rancune et plein d'insectes. quel deception." +crtext morale2-all badfx
;

cyoa: common6-othercar
	"Voiture de mort ici a droite" cyoa-title! someicon
	($ Thegroup .. " se rencontre avec une voiture, approximativement la meme chose qu'une collision avec une autre voiture. " .. ghis .. " voiture. elle est en ruines, presque totalement detruite, et elle est pleine de : " .. "OSSEMENTS" rbold .. " signal d'autres essais infructueux de la route du mort vers le canada et probablement beaucoup de bogues et autres choses degoutantes ... . 	" $) text!
		dumbest-pass if dumbest charchoice( ": sois philosophique." )choice: common6-othercar-lwit then
		smartest-pass if smartest charchoice( ": sois philosophique." )choice: common6-othercar-hwit then
		mechanicest charchoice( "demonter la voiture pour pieces detachees." )choice: common6-othercar-repair
		choice( "Rechercher une voiture pour des butins" )choice: common6-othercar-loot
		choice( "Laisser la voiture seule" )choice
;

// Special Burger (Rare)

0 value burgtype
0 3 rnd to burgtype

cyoa-choice: common6-burg-pick
	($ cname .. " consomme cette bourg ! " .. "IT WAS A CRITICAL HIT!!!" fbold $) text! goodfx
	"LA LETTRE " bbold +crtext burgtype case
		0 of "GOURMET WONKOR A LA SAVEUR EXTREMEMENT EPICE." endof
		1 of "WONKOR - HAUT NIVEAU" endof
		2 of "GLISSEE DE WONKOR :" endof
		3 of "MIRACLE WONKOR : MIROIR DE L'ESPOIR" endof
	endcase bbold +text " ACCORDE SA BENEDICTION." bbold +text
	burgtype case
		0 of cchar isfireproof? if 
			"AS-TU AS SUFFISAMMENT CHAUD ? RUSH D'ENDORPHINES A LA SAVEUR !" fbold +crtext
			strength++ vitality++ fitness++		
		else 
			cchar statmod{ .fireproof }
			sting2-
			"MAINTENANT LES CHOSES COMMENCENT A S'EPICER !" fbold +crtext
			"IMMUNITE A LA CHALEUR ACCORDEE !" rbold +crtext
			0.4 cchar .tint.skin.g!
			0.4 cchar .tint.skin.b!
		then endof
		1 of strength++ vitality++ 1.2 cchar .scale.body.y! 1.3 cchar .scale.body.x! endof
		2 of fitness++ dexterity++ 2 cchar .tint.skin.r! endof
		3 of vitality++ vitality++ cchar .fullheal 2 cchar .tint.skin.b! endof
	endcase morale4+
	"Pourraient-ce etre des cadeaux des dieux des bourgs ?" +crtext
;

// XTRA SPICY WONKOR - fireproof sting-- morale2+

cyoa: common6-burg-rare
	"Hamburger ultime deluxe avec en plus wonkor superieur" cyoa-title! someicon
	($ Thegroup .. " se prend refuge dans une wonkor burger, qui etait une chaine de burgers." .. "*" rbold .. " restauars avant l'apocalypspe. heureusement, ils servaient vraiment de la nourriture, donc tout devrait etre degenere par maintenant... .	 " .. ghis .. " une grande surprise, il y a un wonkor burger intouche et encore chaud sur une table. " $) text!
	burgtype case
		0 of "It is the XTRA SPICY WONKOR, world famous as a burg of pain, but also... hope?" endof
		1 of "C'est connu sous le nom de wonkor maximum, une grande edition limitee en burger de puissance." endof
		2 of "C'est le burger wonkor grase, une boulette gourmande qui peut glisser entre vos mains." endof
		3 of "C'est le wonkor miracle, concu pour etre la boulette ideale a la fois en matiere de sante et gout." endof
	endcase bbold +text 
	solo not if " Qui mangera cette bourger ?" +text then
	
	($ "*Translator's note: 'Burg' means 'burger'." rbold $) +crtext
		solo if
			cchar charchoice( "mangez ce burger." )choice: common6-burg-pick
			choice( "Renoncer stupidement au chateau de bourg" )choice: badfx
		else ' common6-burg-pick cyoa-team-choice then
;

// Coal Walking corporate retreat picnic (Rare)

cyoa-choice: common6-coal-pick
	cchar isfireproof? if
		($ cname .. " ne ressent rien des braises ardentes, sauf une faible sensation de superiorite." $) text! goodfx morale2+
		notsolo if ($ Everyone .. " ressent un leger deception a ce sujet." $) +crtext then
	then;
	($ cname .. " le personnage se met a s'effondrer presque instantanement et frappe la figure des charbons ardents a la figure." $) text! bitefx sting--
	($ "Cette experience reduit en morceaux. " .. chis .. " la peau et humilie egalement. " .. chim .. "!" $) +crtext vitality++ morale--
	notsolo if ($ Everyone .. " se moque avec plaisir." $) +crtext cchar morale++all-except 
	else
		"Personne n'a rien vu." +crtext morale++
	then goodfx
;

cyoa-choice: common6-coal-pick4
	"Qui peut marcher sur les charbonnes ?" text!
	' common6-coal-pick cyoa-team-choice
;

cyoa: common6-coal-rare
	"Exercice d'edification de la confiance" cyoa-title!
	($ Thegroup .. " recherche d'un site de pique-nique equipe de tables disposees. il y a beaucoup de nourriture autour, une partie de laquelle est encore bonne." $) text! 7 10 rnd trunk-food+
	"C'etait une retraite d'entreprise, avec des charbonnieres mis en place pour que les personnes puissent marcher dessus afin de construire une solidarite et une confiance l'une envers l'autre ou quelque chose de ce genre. ils pouvaient encore etre allumes." +crtext
		choice( "Quittez simplement cette place." )choice
		solo if
			soloer charchoice( ": marcher sur des coeurs ardents" )choice: common6-coal-pick
		then;
		" Quelqu'un devrait marcher sur des charbons ardents ?" +text
	team-count 3 > if
		' common6-coal-pick 2 #cyoa-team-choice
		choice( "Choisissez quelqu'un d'autre." )choice: common6-coal-pick4
	else
		' common6-coal-pick 3 #cyoa-team-choice
	then		
;

} }

// Blank
(*
cyoa-choice: common6--

;

cyoa: common6-
	" " cyoa-title!
	($ " " $) text!
		choice( " " )choice
		choice( " " )choice
;
*)
