
// Various LIVER Events



cyoa{ road{ 

// Military Bunker

cyoa: liver-mbunker
	"Ruiniertes Militarlager" cyoa-title!
	($ Thegroup .. " 'Fahrt durch die Uberreste eines Militardepots. Alles ist verbrannt und in Trummern, mit Ausnahme eines isolierten Betonbunkers.'" .. "'WARNUNG: EXTRA WARM HERZKORN!" fbold $) cyoa-text! basic-tone
	2.4 12 16 rnd 0 zforecast // former 3.5, 2.4
	"events/rareloc/region/mdepot.df" $load-region
		choice( "'Lose es auf" )choice: premission
;

cyoa-bridge: stamp-efudd-recruit
	ricon
	"'Das klimatische Siegelkampf" cyoa-title!
	"[STAND NAME] NUGS Chungus   [STAND MASTER] E*FUDD" bbold cyoa-text!
	"DESTRUCTIVE POWER: S+   SPEED: C   RANGE: A
	DURABILITY: S+   PRECISION: A   POTENTIAL: S" pbold +crtext goodfx
	team-count 3 > if
		"'Dieser Mann und sein Hut nehmen schon zu viel Raum ein! Wer soll weggehen?" +crtext recruit-replace?
	then;
		recruited
;

cyoa: stamp-efudd-event
	50 to stampuser-countdown
	"'Unbegreifliche Macht" cyoa-title!
	char-gen to recruitee
	recruitee .efuddify ricon
	3 recruitee .morale!
	($ Thegroup .. " ' sieht noch einmal einen sehr muskulosen Mann an der Straße neben sich hin wandern. Dieser scheint sogar noch buffer als die anderen, aber vielleicht ist es nur wegen des enormen Hutes." .. pname .. " 'weiß sofort, dass er ein Stempelbenutzer ist. " .. pname .. " 'pfeift intensiv." $) cyoa-text! basic-tone
	"'JA, ICH BIN DER! E*FUDD!" pbold +crtext
	"'UBERSETZERHINWEIS: WIR HADEN AUFGEFORCET, E*FUDDS STAMP-NAME ANDERN ZUM AVOIDEN von Urheberrechtsverletzungen, Trotzdem ist dies eine illegaler Bootleg Ubersetzung." rbold +crtext
		choice( "'Him recruiten! Tue es!" )choice: stamp-efudd-recruit
		choice( "'Him nicht rekrutieren, schlechtes Ungluck" )choice
;

cyoa-bridge: stamp-ziggy-recruit
	ricon
	"1" cyoa-title!
	"[STAND NAME] GIANT-DAWG   [STAND MASTER] Ziggy (the Dog)" bbold cyoa-text!
	"DESTRUCTIVE POWER: C   SPEED: B   RANGE: B
	DURABILITY: B   PRECISION: B   POTENTIAL: A" pbold +crtext goodfx
	team-count 3 > if
		"Es sind zu viele Leute hier, und dieser Hund braucht Platz zum Strecken! Wer sollte gehen?" +crtext recruit-replace?
	then;
		recruited
;

cyoa: stamp-ziggy-event
	30 to stampuser-countdown
	"Is this dog... a Stamp User????!" cyoa-title!
	char-gen to recruitee
	recruitee .ziggify ricon
	3 recruitee .morale!
	($ Thegroup .. " 'sieht einen Hund, der die Straße entlanggeht. Erst ist es unauffallig, doch bei genauerem Hinsehen ist der Hund auch sehr muskulos und hat schone Wangenknochen. Wahrscheinlich ist es ein Stamp User, was auch immer das bedeuten mag. Es bleibt immer noch ein Ratsel." $) cyoa-text! basic-tone
	"'SFX: [DROHEND]" pbold +crtext
	"'Ubersetzerhinweis: Bitte spenden Sie, damit ich meine Ubersetzungen fortsetzen und auch ein neues Mall Katana kaufen kann." rbold +crtext
		choice( "'Rekrutiere den Hund!" )choice: stamp-ziggy-recruit
		choice( "'Lass ihn in Ruhe" )choice
;

cyoa-bridge: stamp-hheck-recruit
	ricon
	"'GENAU WIE IN MEINEN TEIL 3 ANIMES" cyoa-title!
	"[STAND NAME] ProPAIN   [STAND MASTER] Henk Heck" bbold cyoa-text!
	"DESTRUCTIVE POWER: A   SPEED: D   RANGE: B
	DURABILITY: D   PRECISION: C   POTENTIAL: B" pbold +crtext goodfx
	team-count 3 > if
		"'Im Auto ist kein Platz fur diesen fleißigen Mann! Wer soll gehen?" +crtext recruit-replace?
	then;
		recruited
;

cyoa: stamp-hheck-event
	10 to stampuser-countdown
	"'ProPAIN und ProPAIN-Zubehor" cyoa-title!
	char-gen to recruitee
	recruitee .hheckify	ricon
	3 recruitee .morale!
	($ Thegroup .. " 'sieht einen weiteren sehr muskulosen Mann, der am Straßenrand geht. Er tragt eine Propangasflasche. Dieser Mann behauptet ebenfalls ein Stamp User zu sein, obwohl " .. pname .. " 'immer noch keine Ahnung hat, was das bedeutet und jede Erklarung unterbricht." $) cyoa-text! basic-tone
	"BWAAAAAAAAAAH!" pbold +crtext
	"TRANSLATORS NOTE: IN THE ORIGINAL JAPANESE, THIS WAS 'EHHHHHHHHH???!!!'" rbold +crtext
		choice( "'Rekrutiere ihn!" )choice: stamp-hheck-recruit
		choice( "'Lass ihn in Ruhe" )choice
;

// Blank
(*
cyoa-choice: LIVER--

;

cyoa: LIVER-
	" " cyoa-title!
	($ " " $) text!
		choice( " " )choice
		choice( " " )choice
;
*)

: roadstandcheck
	stampuser-countdown 49 > if then;
	stampuser-countdown 38 > if 
		' stamp-efudd-event stack-road-action
	then;
	stampuser-countdown 29 > if then;
	stampuser-countdown 15 > if 
		' stamp-ziggy-event stack-road-action
	then;
	stampuser-countdown 9 > if then;
	stampuser-countdown 3 > if
		' stamp-hheck-event stack-road-action
	then;
;

} }

cyoa{ regiondef{

// Tribute

: rom-bye ($ "'Viel Gluck. Ich denke, du schaffst es." pbold $) +crtext clear-cyoa goodfx ;

cyoa-choice: trade-tribute-weapons
	"'Er gibt Ihnen eine sehr genretypische Ausrustung an Waffen." cyoa-text!
	20 add-shell 20 add-gas
	machete2 drop southofcyoa drop
	dshotgun drop southofcyoa drop
	chainsaw drop southofcyoa drop
	rom-bye
;

cyoa-choice: trade-tribute-advice
	"'Ein bisschen Rat reicht weit." cyoa-text!
	' .strength++ foreach-team-char
	' .fitness++ foreach-team-char
	' .shooting++ foreach-team-char
	rom-bye
;

cyoa: trade-rare-tribute
	"'Hilfsbereit" cyoa-title!
	nearest .character@ choosechar cchar to recruitee ricon
	($ "'Sie treffen einen alteren Mann, der von Wohltatigkeit strahlt. " .. Thegroup .. " 'Ihr sprecht mit ihm eine Weile uber alles und Alles. Es ist ein angenehmes Gesprach." $) cyoa-text!
	morale++all
	($ "'Ja, ich helfe Ihnen etwas aus." pbold $) +crtext
	"'Er schenkt Ihnen ein kleines Geschenk vor Ihrer Abreise:"
	basic-tone +cr
		choice( "'Einige anstandige Waffen" )choice: trade-tribute-weapons
		choice( "'Etwas gutes Rat" )choice: trade-tribute-advice
;

} }

0 value the-rom

cyoa{

cyoa: rom-dead
	the-rom choosechar cicon
	"'DU HAST REALLY DAS NUN ANGETAN" cyoa-title!
	($ "'Mit dem Tod dieses Charakters wird die Faden des Schicksals getrennt. Eine gespeicherte Spielstand wiederherzustellen, um das Schicksal wieder in Ordnung zu bringen, oder in der verdammt welt fortzufuhren, die Sie erschaffen haben." rbold .. "'			Nur scherze ich uber den Teil mit dem gespeicherten Spielstand. " .. "3" fbold $) text!
	sfx{ creepy }
	clear-streak delete-the-game
	mission{ killtally }
	choice( "UH OH WOOPS" )choice: quit-to-title
	choice( "'Verdammt!" )choice: quit-to-title
;

}

: rom-main-events args( chara eventid )

	<- eventid MAIN_EVENT_MISSION_CHARACTER_THING_EVENT <> if then;

	// Thing events
	( teid )

	THING_EVENT_DIED ?( <- chara to the-rom cyoa{ rom-dead } );

;

: .romify args( chara )
	111 <- chara .specialtype!
	99 <- chara .vitality!
	99 <- chara .health!
	"Regisseur" <- chara .name!
	"'ist eine Legende, und der Grund, warum dieses Spiel uberhaupt existiert. Das und alles in diesem ganzen Genre." <- chara .job!
	100 STAT_FITNESS <- chara .bonus!
	100 STAT_SHOOTING <- chara .bonus!
	100 STAT_STRENGTH <- chara .bonus!
	WEAPON_MASTERKUNG  <- chara .weapon_default!
	' rom-main-events <- chara .main_events!
;

: .deltaify args( chara )
	<- chara .doggify
	<- chara statmod{ .superdog }
	3 <- chara .shooting!
	6 <- chara .composure!
	"'DELTA" <- chara .name!
	3 STAT_SHOOTING <- chara .bonus!
	
	2 <- chara .carrying.slot_count!
	<- chara .yesswap
	
	"is a supersoldier trained by the US Government to reach combat potentials that can exceed normal humans/dogs." <- chara .job!
;

(* road{

// Just used the simpler shortrare.df method instead

	: CHARBRO-oneline1 "Gute Gute!" ;
	: CHARBRO-oneline2 "Gute Gute!" ;
	: CHARBRO-oneline3 "Gute Gute!" ;
	: CHARBRO-oneline4 "YARE YARE DAZE" ;
	: CHARBRO-oneline5 "YARE YARE DAZE" ;
	: CHARBRO-oneline6 "YARE YARE DAZE" ;
	: CHARBRO-oneline7 "Gut Glaube! " ;
	: CHARBRO-oneline8 "'Ich fuhle mich wie das Offnen jeder Wand fur geheime Turen." ;
	: CHARBRO-oneline9 "Needs more radioactive barrels..." ;
	: CHARBRO-oneline10 "'Diese Dreilimit-Waffenregel ist doof." ;
	: CHARBRO-oneline11 "'In der alten Zeit konnte ich neun Waffen gleichzeitig mit mir tragen!" ;
	: CHARBRO-oneline12 "'Ich bekomme mehr Plasmaschussmunition, indem ich Batterien und Alu-Folien in mein Gewehr packen." ;
	: CHARBRO-oneline13 "'Ich habe so viele dieser KettenSage, dass ich eine wegwerfe nach jedem Einsatz." ;
	: CHARBRO-oneline14 "'Ich wechselte auf vernunftige, eco-freundliche Raumkettensagen. Kein Benzin!" ;
	: CHARBRO-oneline15 "'Entschuldigung vorab fur den unabsichtlichen Selbstzunden." ;
	: CHARBRO-oneline16 "'Ich will alle Munition haben!" ;

	deck-new
		card: CHARBRO-oneline1
		card: CHARBRO-oneline2
		card: CHARBRO-oneline3
		card: CHARBRO-oneline4
		card: CHARBRO-oneline5
		card: CHARBRO-oneline6
		card: CHARBRO-oneline7
		card: CHARBRO-oneline8
		card: CHARBRO-oneline9
		card: CHARBRO-oneline10
		card: CHARBRO-oneline11
		card: CHARBRO-oneline12
		card: CHARBRO-oneline13
		card: CHARBRO-oneline14
		card: CHARBRO-oneline15
		card: CHARBRO-oneline16
	constant CHARBRO-ONELINERS
	CHARBRO-ONELINERS var charbro-oneliners
	CHARBRO-ONELINERS shuffles to charbro-oneliners

: CHARBRO-oneliner
	charbro-oneliners depths 0= if CHARBRO-ONELINERS shuffles to charbro-oneliners then
	blurbslot 0= if
		drawcard blurbsay
	then
;

	deck-new
	16 cards: charbro-oneliner

	constant BLURB-CHARBRO-DECK
	BLURB-CHARBRO-DECK var blurb-charbro-deck
	BLURB-CHARBRO-DECK shuffles to blurb-charbro-deck
	
} *)

// LIVER testing words
// : livert 40 trunk-food+ "events/trade/trader-camp-region-special6.df" $load-region to-mission ;
// : liver1 "events/rareloc/region/mdepot.df" $load-region to-mission ;
// : liver2 "events/trade/trader-camp-region-special1.df" $load-region to-mission ;