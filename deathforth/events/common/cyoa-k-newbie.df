uses base.df
uses charfilt.df
uses charstats.df
uses road.df

0 value wyk-checker
0 value wyk-name
0 value wyk-key1
0 value wyk-key2
0 value wyk-key3
0 value wyk-key4
0 value wyk-win1
0 value wyk-win2
0 value wyk-win3

load? wyk/wyk.df

: puppymode ;
: kittenmode ;

load? puppy.df
load? kitten.df

: wyk? wyk-checker 0 > ;

cyoa{ road{

	0 stack
		"'Courez chaque fois que vous le pouvez ! Combattez quand vous y etes oblige. Ces zombies ne laissent pas tomber de butin de zombie." shove
		"'Fouillez pour trouver toutes les munitions que vous pouvez. Developpez les competences de votre equipe. Vous devrez devenir plus fort !" shove
		"Balancer des armes de melee est epuisant jusqua ce que vous augmentiez votre force et votre condition physique !" shove
		"'Lorsque vous etes epuise, vous commencez a transpirer. Arretez de vous balancer pendant un moment ou vous ferez beaucoup moins de degats." shove
		"Vous pouvez faire durer votre voiture beaucoup plus longtemps si vous avez un excellent mecanicien dans lequipe." shove
		"'Si vous n'aimez pas vos choix Always Be Looting, essayez de conduire pour trouver de nouveaux endroits." shove
		"Plus il y a de monde plus il y a de combattants ! Cela signifie egalement une plus grande consommation de nourriture." shove
		"Quelquun avec une competence medicale maximale a besoin de moins de fournitures medicales pour guerir, ou parfois aucune." shove
		"Une competence de tir plus elevee signifie une meilleure manipulation des armes a feu, chaque tir percant plus de zombies !" shove
		"La force vous permet de soulever et de lancer des meubles plus lourds. Les meubles lances sont les meilleures armes." shove
		"Une combinaison de Force et de Forme physique determine la vitesse de balancement de larme et lutilisation denergie." shove
		"Creez des personnages personnalises! Ils peuvent apparaitre aleatoirement dans le jeu." shove
		"Pour la derniere etape du voyage, vous aurez besoin dun bon groupe ou de grandes armes." shove
		"La forme physique determine la quantite denergie de melee que vous avez et la vitesse a laquelle vous la recuperez." shove
		"FATIGUE donne de gros malus de stats! Eliminez la en dormant au prochain camp ou en vous reposant avant une mission." shove
		"Si le moral des membres de lequipe devient trop bas, ils commenceront a se disputer, a desesperer et a se poignarder dans le dos." shove
		"Jeter des meubles en les ramassant puis en appuyant sur attaquer. Jeter peut etre puissant et efficace." shove
		"Les personnages peuvent avoir des traits de personnalite qui leur donnent plus doptions lors devenements !" shove
		"Les personnages paranoiaques peuvent reduire la gravite des attaques de bandits ou reveler les statistiques des nouvelles recrues." shove
		"Les personnages oublieux peuvent manquer de moral en toute securite. Plusieurs fois." shove
		"Les personnages charmants obtiennent toutes sortes de bonus, en particulier dans les camps de commercants." shove
		"Les personnages irritants savent toujours la pire chose a dire. Ils ont un AVANTAGE SECRET." shove
		"Les personnages de bandits peuvent voler de nombreux commercants et dautres personnes. Cela peut se retourner contre eux selon la personne volee." shove
		"Les armes lentes et lourdes peuvent etre puissantes avec une force et une forme physique elevees. Sinon, ils peuvent etre horribles." shove
		"'Certaines armes de melee se cassent et d'autres non ! De nombreuses armes cassables courantes compensent en etant legeres." shove
		"Les zombies doivent sagripper a vous pendant un court moment avant de pouvoir vous blesser. Fuyez pour vous liberer !" shove
		"Perdre votre voiture vous expose a des evenements negatifs et a des attaques de bandits presque constants." shove
		"De nombreux commercants vous proposent differentes choses en fonction de la quantite de nourriture dont vous disposez." shove
		"Si vous avez peu ou pas de nourriture, certains commercants vous plaindront et vous donneront des trucs gratuits !" shove
		"Les aboiements de chiens, les klaxons, les coups de feu et autres bruits attirent lattention des zombies." shove
		"Les aboiements de chiens, les klaxons, les coups de feu et autres bruits attirent lattention des zombies." shove
		"Les zombies peuvent vous poursuivre pendant longtemps, selon leur agressivite et leur irritation." shove
		"Certains endroits sont des pieges mortels! Lisez les previsions zombies avant dexplorer une zone." shove
		"Le feu et les explosifs peuvent endommager vos propres personnages, alors faites attention. Le feu est particulierement dangereux." shove
		"'Un feu peut eliminer une armee de zombies si c'est heureux. Il est tres dangereux d'en utiliser a l'interieur." shove
		"Baiser un zombie sans arme ne fait presque rien, sinon pour le laisser tomber pendant un moment." shove
		"Vous pouvez changer le personnage que vous controlez dans le menu Pause, ce qui offre une meilleure maitrise." shove
		"Les personnages proches peuvent jeter des armes lun a lautre dans le menu Pause." shove
		"'Essayez de sacrifier quelqu'un que vous n'aimez pas en le laissant manger volontairement. Cela distrait les zombies." shove
		"Les caracteristiques des personnages sont initialement cachees. Les personnes que vous recrutez peuvent mentir sur leurs competences!" shove
		"Beaucoup de voleurs peuvent etre achetes avec de la nourriture. Certains voleurs peuvent etre battus par un type de personnalite specifique." shove
		"Si vos personnages ont tous la sante pleine, les voleurs ne tuent generalement pas lun deux." shove
		"Toutes les statistiques vont de 0 a 6. Une statistique de 0 1 echouera generalement automatiquement. 5 6 reussira generalement." shove
		"Fermer des portes retardera les zombies pendant un temps, car ils ont oublie comment ouvrir une porte." shove
		"Les zombies attaquent les meubles qui sinterposent. Vous pouvez laisser tomber ou jeter des objets pour creer des obstacles." shove
		"Certains types de voitures sont plus faciles a reparer que dautres, exigeant une competence mecanique inferieure." shove
		"Une competence mecanique tres elevee vous permettra de reparer une voiture immediatement. Les reparations ulterieures deviennent plus difficiles." shove
		"Les armes a tir lent sont tres efficaces en munitions. Parfois vous voudrez gacher des munitions avec une automatique." shove
		"Certaines armes de melee ont une attaque en zone, touchant plusieurs zombies en un seul coup. Certaines attaques en zone sont basees sur le hasard." shove
		"'Les zombies deviennent plus agressifs et plus nombreux la nuit. Les zombies vous sentent mieux si vous saignez." shove
		"Les zombies sont touches pour des degats supplementaires sils sont dabord renverses. Certaines armes ont un fort renversement." shove
		"'Quelques excellentes armes de melee pour les personnes ayant des statistiques elevees: Epee de chevalier. Machette robuste. Hache a incendie. Masse." shove
		"Some great melee weapons for low Strength/Fitness: Aluminum Bat. Nightstick. Xtreme Hockey Stick." shove
		"Les fusils a pompe sont toujours tres efficaces pour les personnes ayant de faibles competences en tir. Degats et renversement eleves." shove
		"Les pistolets et lUzi ont lavantage que les balles sont le type de munitions le plus courant." shove
		"Les armes automatiques sont tres difficiles a controler si vous avez de faibles competences en tir." shove
		"Les fusils ont des degats eleves et un piercing eleve. Un tir pourrait eclabousser toute une ligne de zombies." shove
		"'Vous pouvez souvent faire reposer vos coequipiers dans la voiture. Utile si quelqu'un est blesse ou si vous voulez un groupe plus petit." shove
		"'Il n'y a pas vraiment de penalite pour qu'un coequipier soit mange par des zombies. Je vous donne juste ce fait." shove
		
	constant HINT-LIST
	HINT-LIST var hint-list HINT-LIST shuffles to hint-list
		
: hintlist
	hint-list depths 0= if "'  Determinez vos traits et avantages preferes, puis creez un tas de personnages personnalises avec eux.	  Si vous avez du gaz de rechange, vous pouvez ignorer de nombreux endroits. Chaque saut rend les bons plus probables!	  Pour la fin de partie, vous voulez des statistiques elevees et de superbes armes de melee ou une automatique + des munitions.	Nous n'avons plus d'indices! Bonne chance!" else shuffles pops nip then pbold
;

: warptocanada "events/exterior/region/canada-crossing-region.df" $load-region premission
	300 trunk-rifle-shell+
	2 WEAPON_AK47 trunk.weapon+
;

cyoa: special-losthope
	1.3 to diff-scalar 1.2 to road-difficulty 15 to road-trip-days
	"TESTER LA VILLE DE LESPOIR PERDUE EN MODE ROUTE PLUS MORTELLE!" text!
	2.3 12 14 rnd 4 siegecast "events/finale/deathcity.df" $load-region 
	choice( "TOUT OU RIEN!" rbold )choice: premission
	150 trunk-rifle-shell+ 1 WEAPON_AK47 trunk.weapon+
;

cyoa: test-newcity
	"Nouveau testeur de ville" cyoa-title!
	someicon
	($ "Francais" $) cyoa-text! basic-tone
	1 1.3 frnd 7 15 frnd 2 zforecast
	0.4 1 frnd weather! -1 1 frnd wind_force!
	// citylayoutdeck 
	// "events/city/region/burb-vary-3x4.df" $load-region
	"events/city/region/test/region-downtown-custom.df" $load-region
	// "events/city/region/test/region-downtown-test2.df" $load-region
	
		lot-draw
;

cyoa: crashtest
	($ "Aller directement au Canada" .. "ATTENTION SPOILERS" fbold $) text!
		choice( "Oups pas de lecture normale" )choice
		choice( "Teleportation directe au Canada!" )choice: warptocanada
;

cyoa: special-testing
	($ "Get ready... for a superior JoJo experience." rbold $) text!
		char-gen to recruitee
		recruitee .charbroify
		(* WEAPON_MOODYSAW recruitee .weaponb!
		WEAPON_MOODYROCKET recruitee .weaponc!
		50 recruitee .stackedb!
		10 recruitee .stackedc! *)
		recruitee choosechar cicon
		recruit-yesno
;

cyoa: location-testing
	($ "Get ready... for a Mechnical shopping experience." rbold $) text!
	80 trunk-food+ "events/trade/trader-camp-region-special8.df" $load-region to-mission
;

cyoa: location-testing2
	($ "Get ready... for a relaxing park experience." rbold $) text!
	"events/exterior/park.df" $load-region to-mission
;

(* cyoa: location-testing
	($ "Get ready... for a spooky graveyard experience." rbold $) text!
	"events/exterior/region/graveyardcar.df" $load-region to-mission
; *)

: weapon-testing
	goblin-laugh
	
	200 trunk-gas+
	
	// 200 WEAPON_NAPALM trunk.weapon+

	160 WEAPON_EJHAMMER trunk.weapon+
	1 WEAPON_JACKHAMMER trunk.weapon+
	1 WEAPON_CHAINSAW trunk.weapon+
	
	20 WEAPON_FIRECRACKERS trunk.weapon+
	
	// WEAPON_EBLOWER trunk.weapon+
	// WEAPON_EWHACKER trunk.weapon+
	// WEAPON_LANDMINE trunk.weapon+
	// 24 WEAPON_GLAUNCH trunk.weapon+
	// 12 WEAPON_BAZOOKA trunk.weapon+
	
	// 1 WEAPON_CAVALRY trunk.weapon+
	1 WEAPON_BLACKHAMMER trunk.weapon+
		
;

: weapon-testing-2 ;

cyoa: wykreset
	"Codes WYK reinitialises!" text! goodfx gstats{ 0 to wyk-highscore }
;

defer hintrepeat

: startchoices
	choice( "PRENDRE LA ROUTE" )choice
//	choice( "WARP TO CANADA [crashdebug]" )choice: crashtest
	DEBUG_BUILD TEST_BRANCH or if 
		// choice( "COMMENCER PAR UNE REFERENCE JOJO" fbold )choice: special-testing
		choice( "COMMENCER DANS UNE FORTERESSE MECANIQUE" fbold )choice: location-testing
		choice( "COMMENCER DANS UN PARC" fbold )choice: location-testing2
		// choice( "COMMENCER AVEC DE NOUVELLES ARMES" fbold )choice: weapon-testing
	then
//	choice( "Essayer une nouvelle ville" fbold )choice: test-newcity
	puppymode kittenmode
	wyk? if choice( "REINITIALISER LES CODES WYK" rbold )choice: wykreset then;
	hint-list depths 0= not if choice( "Lire un autre indice" )choice: hintrepeat then
;

: 4morale-team args( char )
	4 <- char .morale!
;

: startcheck
	8 trunk-food+
	2 WEAPON_FLASHLIGHT trunk.weapon+
	
	// 4 pchar .morale!
	// notsolo if 4 1 #teamchar .morale! then
	
	' 4morale-team foreach-team-char
;

cyoa: starthintme
	startchoices
	hintlist text!
;

' starthintme to hintrepeat

cyoa: knoobstartP
	wyk? if 
		($ "COURSE WYK : " .. wyk-name .. "  Edition" $) cyoa-title!
	else
		"Death Road to Canada" cyoa-title!
	then
	// choice( "PRENDRE LA ROUTE" )choice
		soloer choosechar cicon
		
		time.month 6 = time.month.day 1 = and if 
			' beaver-scget stack-road-action
		then
		
		time.month 6 = time.month.day 4 = and if 
			' july4-scget stack-road-action
		then
	
		time.month 11 = time.month.day 25 = and if 
			' santa-test stack-road-action
		then
		
		time.month 11 = time.month.day 24 = and if 
			' santa-test stack-road-action
		then
		
		time.month 10 = time.week.day 4 = and if 
			time.month.day 21 > time.month.day 29 < and if
				' turkey-test stack-road-action
			then
		then

		halloween? if 
			' halloween-event stack-road-action
		then
		
		time.month 1 = time.month.day 14 = and if 
			' feb14-scget stack-road-action
		then
				
		// Placeholder.. accidental LNK DAY that one time
		// time.month 2 = time.month.day 29 = and if 
		//	' lnk-test stack-road-action
		// then

	cheevo{ post-all }

	' startcheck stack-road-action
	
	gamedef{ ' OPPmode gamemode? } if 
		"events/OPPmode.df" $load-region to-mission
	then;
	
	gamedef{ ' 4jerksmode gamemode? ' 4jerksmodeEX gamemode? } or if 
		"events/4jerksmode.df" $load-region to-mission
	then;

	($ cname .. " 	En francais  entend des rumeurs selon lesquelles le Canada est un endroit sur, sans menace de zombies.	Nayant rien a gagner a rester en Floride, " .. che .. " decide de braver la route de la mort et de voyager vers le nord." $) cyoa-text!
	
	hintlist +crtext
			
	wyk? if "COURSE WYK : " +crtext 
		gstats{ wyk-highscore } case
			0 of "7 Steam keys are hidden on the Death Road!" fbold endof
			1 of "6 cles Steam restantes!" rbold endof
			2 of "5 cles Steam restantes!" rbold endof
			3 of "4 cles Steam encore cachees!" rbold endof
			4 of "Gagnez la partie pour obtenir 3 cles Steam finales!" fbold endof
			5 of "Toutes les cles ont ete trouvees! Bravo!" pbold endof
		endcase +text
	then
		
		startchoices
				
;

// *********** OLD STUFF BELOW *************

// BEGIN temporary beta start message

cyoa: knoobstartB
	"The Death Road to Canada 8/26 Alpha" cyoa-title!
	choice( "PRENDRE LA ROUTE" )choice
		soloer choosechar cicon

	($ "	  Paul  Kepa	In french: Bienvenue a la version alpha de Death Road to Canada!	En cours de test: Personnages speciaux	Vous pouvez trouver une liste complete des changements recents et des instructions pour nous aider a tester le jeu en cliquant sur le lien NOUVELLES sur la page Steam de Death Road to Canada.	Envoyez nous vos commentaires via les messages Kickstarter!  	  Paul  Kepa" $) cyoa-text!
		8 LOOT_FOOD trunk.loot+ 1 WEAPON_BASEBALL trunk.weapon+ 30 WEAPON_GRENADE trunk.weapon+ 30 WEAPON_PIPEBOMB trunk.weapon+ 1 WEAPON_FLAMETHROWER trunk.weapon+ 500 LOOT_GAS trunk.loot+
;

// END temporary beta start message

cyoa-choice: kn1recruit 
	recruitee character# cyoa-char-icon!
	WEAPON_WRENCH recruitee .weapona!
	($ rname .. "  est maintenant membre de lequipe !	" .. cname .. "  souffle un peu dans la bouche a propos de cela.	Vers le Canada!" $) cyoa-text! 2 300 tone
	morale-- recruitee .recruit
;
cyoa-choice: kn1nope 
	($ cname .. "  sort de la. 	" .. "VOIS VOUS PLUS TARD." pbold .. " semble etre un bon depart.	" $) cyoa-text! morale2+ goodfx
;

cyoa: knoobevent1
	"Allies puissants" cyoa-title!
	char-gen to recruitee
	recruitee character# cyoa-char-icon!
	soloer choosechar
	choice( "Recruter " .. rname )choice: kn1recruit
	cchar charchoice( "  SORT SANS FAISSEMENT" )choice: kn1nope

	($ "Comme " .. cname .. "  commence le voyage vers le Canada, ils rencontrent leur voisin " .. rname .. ". 
	" .. cname .. " has always hated this person, but could use the help and/or decoy." $) cyoa-text! basic-tone
;

: 4food2med 4 LOOT_FOOD trunk.loot+ 2 LOOT_MEDICAL trunk.loot+ ;
cyoa-choice: kn2-shotty
	($ soloname .. " ' nomme cette arme BIG DAWG. C'est capable d'exploser les zombies, a proximite et a distance. Pour un novice, c'est peut etre le meilleur choix de fusil.	" .. Thegroup .. "  acquiert " .. RED .. "BIG DAWG" .. WHITE .. "." $)
	cyoa-text! goodfx 1 WEAPON_SHOTGUN trunk.weapon+ 8 LOOT_SHOTGUN_SHELL trunk.loot+ 4food2med
;
cyoa-choice: kn2-rifle
	($ "Les fusils sont capables de percer a travers plusieurs tetes de zombies, dans les mains dun tireur excellent ! " .. soloname .. " n'est pas necessairement une superbe photo, mais c'est en forgeant qu'on devient forgeron." .. Thegroup .. " acquiert le fusil!" $)
	cyoa-text! goodfx 1 WEAPON_RIFLE trunk.weapon+ 12 LOOT_RIFLE_SHELL trunk.loot+ 4food2med
;
cyoa-choice: kn2-pistol
	($ "Le modeste pistolet na peut etre pas la puissance des armes a feu plus grosses, mais il fait le travail. Ca, et les balles de pistolet sont encore assez abondantes. Ouvrez nimporte quel tiroir et certaines vont probablement se repandre!" .. Thegroup .. "  acquiert le pistolet!" $)
	cyoa-text! goodfx 1 WEAPON_PISTOL trunk.weapon+ 20 LOOT_BULLET trunk.loot+ 4food2med
;
cyoa-choice: kn2-gas
	"'Les armes: qui en a besoin? La voiture est une arme. Plus cet enorme morceau de metal peut etre conduit avant de tomber en panne dessence, plus le voyage est sur. De plus, vous rencontrerez peut etre une tronconneuse." cyoa-text! goodfx 150 LOOT_GAS trunk.loot+ 4food2med
;
cyoa: knoobevent2
	"Verrouiller et Charger" cyoa-title! 0 to cyoaicon cyoaicon
	soloer choosechar
	($ Thegroup .. "  fait un petit detour vers une cache de fournitures que " .. cname-he .. "  y avait laissee avant. Outre un petit peu de nourriture et de medicaments, la cache contenait: " $) cyoa-text! 2 500 tone

		choice( "Fusil de chasse et 8 cartouches" )choice: kn2-shotty
		choice( "Fusil et 12 munitions" )choice: kn2-rifle
		choice( "Pistolet et 20 balles" )choice: kn2-pistol
		choice( "150gaz supplementaires" )choice: kn2-gas
;

cyoa-choice: kn3recruit 
	recruitee character# cyoa-char-icon!
	($ rname .. "  est maintenant membre de lequipe !	" .. cname .. "  grimace alors que la nouvelle recrue engloutit les deux boites de nourriture longtemps stockees. En route pour le Canada!" $) cyoa-text! 2 300 tone
	-2 LOOT_FOOD trunk.loot+ recruitee .recruit
;
cyoa-choice: kn3nope 
	($ cname .. "  sort de la. 	" .. "PERSONNE NE TOUCHE MES BOITES DE NOURRITURE." pbold .. " cetait probablement le bon choix." $) cyoa-text! goodfx morale++
;

cyoa: knoobevent3
	"'Recrutement de vauriens" cyoa-title!
	soloer choosechar
	char-gen to recruitee
	WEAPON_SLEDGE recruitee .weapona!
	recruitee character# cyoa-char-icon!
	($ "A une courte distance en voiture de " .. cname .. "''s cachette, " .. thegroup .. " 	heurte quelquun qui se promene sur la route, marteau piqueur sur lepaule." .. rname .. " introduit " .. recruitee xhim .. "moi, je veux bien venir avec vous, si vous me donnez a manger." $) cyoa-text! basic-tone
		choice( "Recruter " .. rname .. "  pour 2 Nourriture" )choice: kn3recruit
		cchar charchoice( "': C'EST MA NOURRITURE" )choice: kn3nope
;

: knoob4text ($ "Une sagesse incroyable." .. cname .. "  est enrichi de cette connaissance " .. cHe .. "  noubliera jamais ces mots." $) cyoa-text! goodfx morale++
;
cyoa-choice: kn4-eyes knoob4text wits++ ;
cyoa-choice: kn4-hitit knoob4text mechanic++ ;
cyoa-choice: kn4-sick knoob4text medical++ ;
cyoa-choice: kn4-sayit knoob4text attitude++ loyalty++ cool-it++ ;
cyoa: knoobevent4
	"Sage Mentor" cyoa-title! 0 to cyoaicon cyoaicon
	soloer choosechar
	($ cname .. "  decide de rendre visite a son mentor grisonnant une derniere fois avant de se diriger vers le nord.	" .. cname .. "''s mentor se souvient avec " .. chim .. "  et offre quelques derniers conseils avant le debut du voyage:" $) cyoa-text! 2 500 tone

	choice( "NE JAMAIS FAIRE CONFIANCE A QUICONQUE OU A QUOI QUE CE SOIT" )choice: kn4-eyes
	choice( "SI QUELQUE CHOSE SE CASSE IL SUFFIT DE LE FRAPPER" )choice: kn4-hitit
	choice( "LES MALADES FONT SEMBLANT" )choice: kn4-sick
	choice( "'DIS LE NE LE PULVERISE PAS" )choice: kn4-sayit
;

cyoa: knoobstart1
	"The Death Road to Canada 5/27 Alpha" cyoa-title!
	choice( "PRENDRE LA ROUTE" )choice
		soloer choosechar cicon

	($ cname .. " 	En francais  entend des rumeurs selon lesquelles le Canada est un endroit sur, sans menace de zombies.	Nayant rien a gagner a rester en Floride, " .. che .. "  decide de rassembler des provisions accumulees et de se diriger vers le nord.	" .. cname .. " amene avec lui une batte de baseball de confiance!" $) cyoa-text!
		100 LOOT_GAS trunk.loot+ 2 LOOT_MEDICAL trunk.loot+ 8 LOOT_FOOD trunk.loot+ 1 WEAPON_BASEBALL trunk.weapon+
;

} }


