cyoa{ 

cyoa: gym-sweaty
	"Pfui eklig" cyoa-title!
	($ "Diese Fitnessgerate sind jetzt alle verschwitzt! Auf keinen Fall " .. pname .. "  beruhrt sie." $) text!
	clear-cyoa badfx
;

: gym-barbell-end 
	pchar .dead? if ($ cname .. "  stirbt an diesem Gewichtheberunfall." $) +crtext
	else
		strengthREV "Eine Stunde verging wahrend dieser spontanen Trainingseinheit." +crtext
	then clear-cyoa ' gym-sweaty this-cyoa o'clock@ 1 + o'clock
		team-nearby? not if	
			($ "Es war niemand da der sie verteidigen konnte " .. pname .. "  wahrend des Trainings, also " .. phe .. " musste zwischen den Wiederholungen Zombies abwehren. Pass auf!" $) +crtext
			6 11 rnd roomgen{ .zombspawn } 
		then
	;
cyoa-choice: gym-barbell-1 
	($ cname .. " nimmt das meiste Gewicht von der Langhantel und fangt dann an " .. "PUMPING IRON" pbold .. " mit der meist leeren Stange." $) cyoa-text!
	cstrength- if
		($ "'Es ist immer noch ein groartiges Training fur " .. chim .. ". Und dabei ist nichts gebrochen oder gerissen!" $) +crtext
		strength++ goodfx
	else
		"'Es war einfach nicht genug Gewicht, um wirklich etwas zu bewirken. Auch die Zombies waren nicht beeindruckt." +crtext badfx
	then
	gym-barbell-end
;
cyoa-choice: gym-barbell-2
	($ cname .. " nimmt etwas Gewicht von der Langhantel, aber nicht so viel, dass " .. phe .. " 'nicht " .. "WERDE SUPER PUMPED" rbold .. "." $) cyoa-text!
	cstrength- if
		($ "Das war zu viel Gewicht " .. cHe .. " hort etwas in " .. chis .. " korper ein lustiges Knacken machen." $) +crtext
		ouch-- badfx gym-barbell-end
	then;
	cstrength+ if
		($ cname .. " war enttauscht von dem Training " .. cHe .. "  wird " .. chim .. "sich in Zukunft mehr anstrengen mussen." $) +crtext badfx gym-barbell-end
	then;
	($ cHe .. "  macht vieles heftige anstrengte Gerausche wie das Greifstuck aufgehoben wird. Was eine Arbeit aus!" $) +crtext goodfx strength++ gym-barbell-end
;
cyoa-choice: gym-barbell-3
	($ cname .. "  versucht den uberladenen Barbell zu heben " .. "'    Altes Korperbauerkunde Wissen" fbold .. "  iF THE BAR ISNT BENDING YOURE JUST PRETENDING" $) cyoa-text!
	cstrength+ if
		($ cHe .. "  hebt es auf, aber " .. chis .. "  augen springen aus " .. chis .. "  kopf." $) +crtext
		strength++ morale++ goodfx
	else
		($ "Auf das Heben war eine katastrophal schlechte Idee! " .. cname .. "  fuhlt etwas in seinem Korper platzen " .. chis .. " i.T.B.A.B.Y.J.P." $) +crtext
		ouch2- badfx
	then
	gym-barbell-end
;

cyoa: gym-barbell
	"I.T.B.A.B.Y.J.P." cyoa-title!
	picon!
	"'Hier befindet sich eine voll beladene olympische Gewichts Set. Die Menge an Gewicht darauf kann auf eine hernia verursachende Menge reduziert werden." cyoa-text!
	cpet? if
		($ "'Leider ist olympisches Gewichtheben wirklich nicht dafur ausgelegt, mit " .. pname .. "''s Korper zu arbeiten." $)
	+crtext then;
	team-nearby? not if
		($ "Da niemand in der Nahe ist, der auf Zombies aufpasst, konnte es gefahrlich sein, ein Training zu absolvieren." $) +crtext
	else
		($ pname .. "  erwagt eine Pause um etwas Krafttraining zu absolvieren als " .. phe .. "  bewacht wird." $) +crtext
	then
		choice( "Leichtes Gewicht heben" )choice: gym-barbell-1
		choice( "Schweres Gewicht heben" )choice: gym-barbell-2
		choice( "Massives Gewicht heben" )choice: gym-barbell-3
	choice( "Lass es erstmal so" )choice
;

: gym-bike-end 
	pchar .dead? if ($ cname .. "  stirbt vor lauter Anstrengung auf dem Heimtrainer." $) +crtext
	else
		fitnessREV "Wahrend dieser Trainingseinheit verging eine Stunde." +crtext
	then clear-cyoa ' gym-sweaty this-cyoa o'clock@ 1 + o'clock
	team-nearby? not if	
			($ "Es war niemand da der sie verteidigen konnte " .. pname .. "  wahrend des Trainings, also " .. phe .. "  musste sich beim Radfahren gegen Zombies wehren. Vorsicht!" $) +crtext
			6 11 rnd roomgen{ .zombspawn } 
		then
	; 
cyoa-choice: gym-bike-1 
	($ cname .. "  stellt das stationare Fahrrad auf " .. "GEPFLASTERTE STRASSE AUF DEM MOND" pbold .. "  und fangt an sich zu bewegen " .. chis .. "  beine." $) cyoa-text!
	cfitness- if
		($ "'Es ist eine gute Ubung fur " .. chim .. ", da man sehr auer Form ist." $) +crtext
		fitness++ goodfx
	else
		"'Die Ubung war nicht wirklich viel besser als nur im Auto herumzusitzen." +crtext badfx
	then
	gym-bike-end
;
cyoa-choice: gym-bike-2
	($ cname .. "  stellt das stationare Fahrrad auf " .. "HUGELIGE LANDSTRASSE" rbold .. "  und fangt an zu pumpen " .. chis .. "  beine." $) cyoa-text!
	cfitness- if
		($ cHe .. "  schafft es sich etwas in " .. chis .. "  bein zu ziehen! Der Schmerz lasst " .. chim .. "  vom Fahrrad fallen." $) +crtext
		sting-- badfx gym-bike-end
	then;
	cfitness+ if
		($ cname .. " ' nicht einmal ins Schwitzen gekommen! Es tut nichts fur die Verbesserung von " .. chis .. "  fitness." $) +crtext badfx gym-bike-end
	then;
	($ cHe .. "  produziert einen ganzen Fluss aus Schwei. Was fur ein Training!" $) +crtext goodfx fitness++ gym-bike-end
;
cyoa-choice: gym-bike-3
	($ cname .. "  stellt den Zyklus auf " .. "TODESSTRASSE NACH KANADA" fbold .. "  und fangt an sich zu belasten " .. chis .. "  beine an ihre Grenzen." $) cyoa-text!
	cfitness+ if
		($ cHe .. "  wirklich " .. "FUHLT DAS BRENNEN!" rbold $) +crtext
		fitness++ morale++ goodfx
	else
		($ cname .. " 'halt nicht lange an bevor er vor Erschopfung zusammenbricht. " .. cHe .. " keucht und wurgt ein Organ hoch." $) +crtext
		sting2- badfx
	then
	gym-bike-end
;

cyoa: gym-bike
	"Herz Kreislauf Training" cyoa-title!
	picon!
	"'Hier gibt es ein Deluxe Heimtrainer der Marke UltraMegaFit. Im Gegensatz zu Laufbandern funktioniert dieser auch bei Stromausfall." cyoa-text!
	cpet? if
		($ "'Leider ist dieses Gerat einfach nicht dafur ausgelegt, mit " .. pname .. "''s Korper zu arbeiten." $)
	+crtext then;
	cchar .perk@ "T*S*T*C" $= if
		($ "Leider, " .. pname .. " macht KEIN Cardio!" $)
	+crtext then;
	team-nearby? not if
		($ "Da niemand in der Nahe ist, der auf Zombies aufpasst, konnte es gefahrlich sein, ein Training zu absolvieren." $) +crtext
	else
		($ pname .. " uberlegt eine Pause einzulegen um etwas Fitnesstraining zu machen da " .. phe .. "  bewacht wird." $) +crtext
	then
		choice( "Leichte Ubung" )choice: gym-bike-1
		choice( "Schwere Ubung" )choice: gym-bike-2
		choice( "INTENSIVE UBUNG" )choice: gym-bike-3
	choice( "Lass es erstmal so" )choice
;

}
			
map{ roomgen{
			
: gymcyoa 50 %chance if olympicbar cyoa{ ' gym-barbell cyoa! } else gymbike cyoa{ ' gym-bike cyoa! } then ;

} }

locdef{
		
location: gym
		max-rooms: 2
		entry-tags: gym-entry
		script: yall-theme 

	: gymstuff
		4 9 rnd for roomgen{ dumbbell } scatter next
		1 3 rnd for roomgen{ barbell } scatter next
	;

		room-choice: gym-entry
			room-weight: 10
			room-count: 1
			room-script: 
			room-post-script: 10diff %zombs gymstuff
			filter-only		

		room-choice: restroom
			room-weight: 10
			room-count: 1
			room-script: floor-bath
			
}
