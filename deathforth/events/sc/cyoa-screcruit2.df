(* uses base.df
uses charfilt.df
uses charstats.df
uses road.df
uses charstatmods.df *)

// Mason, Octodad, Boxer, Mad Scientist, Sumo, Valkyrie, Rambeux

road{

0 value madsci-countdown
0 value mason-countdown
0 value mason-curse

}

cyoa{ road{

cyoa-bridge: ramb-recruit
	ricon recruitee .strengthREV recruitee .fitnessREV recruitee .shootingREV
	team-count 3 > if
		($  rname .. " 'Notas que el equipo ya esta lleno. Tendras que echar a alguien del equipo para hacer espacio. Deberias, ya que ya renunciaste a la comida." $) cyoa-text! -10 trunk-food+ recruit-replace?
	then;
	($ rname  .. " 'se llena y su minigun en el coche. Se niega rotundamente a ponerla en el maletero, y dice que nadie podra arrancarla de el. " .. "BERTHA" pbold .. " 'la mete en el maletero. Dice que ninguna persona lo separara de ella." $) cyoa-text! goodfx
		-10 trunk-food+	recruited
;

cyoa: ramb-test
	"RAMBEUX: PRIMER CANON" cyoa-title!
	char-gen to recruitee
	"Rambeux" recruitee .name!
	ricon
	4 recruitee .morale! recruitee .rambify
	($ Thegroup .. " 'escucha disparos masivos de armas de fuego mientras se acerca a una ciudad. En el medio de la ciudad esta un hombre con una minigun. Alrededor de el hay hordas de re-muertos. Dice que es un mercenario a su disposicion, pagado por adelantado." $) cyoa-text! basic-tone
	trunk-food 9 > if
		choice( "Recudalo con 10 comida" )choice: ramb-recruit
	then
		choice( "No puedo desprenderme de la comida" )choice
;

cyoa-choice: valk-recruit
	ricon
	team-count 3 > if
		($  rname .. " 'nota que tu grupo esta lleno.		" .. "Alguien va a tener que salir." pbold .. 
		" 'Lanza su martillo y lo golpea en la cabeza.		 " .. cname .. " 'derecho en la cabeza.		" .. cname .. " ha dejado el equipo!" $) cyoa-text! cchar .kill
	else
		($ rname  .. " 'sube su martillo. Un rayo le golpea!		El resto del equipo esta casi sordo y casi ciego para los colores por el resto del dia." $) cyoa-text! goodfx
	then
		recruitee .strengthREV recruitee .fitnessREV
		recruited
;

cyoa: valk-test
	"Puente Arcoiris hacia Valhalla" cyoa-title!
	char-gen to recruitee
	someone choosechar
	"Valkiria" recruitee .name!
	ricon
	4 recruitee .morale! recruitee .valkify
	($ "Las nubes se abren y aparece un arcoiris. Una valquiria cabalga un unicornio por el arcoiris." .. "Has estado derrotando a un monton de cosas. He sido enviado aqui por Thor y demas para ayudarte en tu busqueda.	Realmente no es una gran cosa, asi que no cuestiones." pbold $) cyoa-text! basic-tone
		choice( "Acepta su oferta" )choice: valk-recruit
		choice( "Rechaza su oferta" )choice
;

cyoa-bridge: sumo-recruit
	ricon recruitee .strengthREV recruitee .fitnessREV
	team-count 3 > if 
		($  rname .. " 'aprecia la oferta al principio, pero luego se vuelve realmente evidente que no hay forma en el infierno de que 5 personas puedan caber en el coche. Ni siquiera 4 personas y un luchador de sumo.		Reemplaza a alguien:" $) cyoa-text! recruit-replace?
	then;
	($ rname  .. " 'entra en el coche. La suspension se hunde mucho de un lado, pero el coche aun logra conducir por la carretera." $) cyoa-text! goodfx
		recruited
;

cyoa: sumo-test
	"VAMOS A HACER LUCHA DE SUMOS!" cyoa-title!
	char-gen to recruitee
	ricon
	4 recruitee .morale! recruitee .sumoify
	($ Thegroup .. " 'esta tratando de encontrar suministros y se topa con un dojo de artes marciales fortificado. Dentro hay un luchador de sumo.	Explica que esta sobreviviendo, pero quiere viajar. Todos se fueron de su ciudad hace un buen rato. Incluso antes, no habia una gran demanda de entrenamiento de lucha de sumo en la costa este de los Estados Unidos." .. "Oi que el sumo es grande en Canada! Mas que el hockey!" pbold $) cyoa-text! basic-tone
		choice( "Reclutelo" )choice: sumo-recruit
		choice( "Dejelo en paz" )choice
;

cyoa-choice: madsci-give
	ricon
		(*  Here, take one of my old experiments! It'll work a couple times." ' pbold .. 		rname .. " hands you a TELEPORTER MK 1! *)
	($ "	Genial, esto realmente impulsara la ciencia! Toma uno de mis viejos experimentos!" pbold .. rname .. " 1" $) cyoa-text! goodfx
		-20 LOOT_SHOTGUN_SHELL trunk.loot+
		7 WEAPON_SMOKEBOMB trunk.weapon+
;

cyoa-bridge: madsci-recruit
	ricon 2 4 rnd to madsci-countdown recruitee .witsREV recruitee .mechanicREV recruitee .shootingREV
	($  "Despues de hablar con la cientifica, resulta que su laboratorio esta de camino." .. "Gracias. Llamare a la proxima invencion como tu." pbold $) cyoa-text! goodfx
		team-count 3 > if
			"El grupo es demasiado grande para reclutarla! Reemplaza a alguien:" +crtext
			recruit-replace?
		then; recruited
;

cyoa: madsci-test
	"Donar a la Investigacion Cientifica" cyoa-title!
	char-gen to recruitee
	ricon
	"Doc" recruitee .name! 4 recruitee .morale! recruitee .madscify
	($ Thegroup .. " 'esta tomando un descanso para revisar su equipo cuando de repente hay un destello brillante de luz!	Aparece un cientifico de la nada." .. "Mierda, ahora necesito volver a mi laboratorio. Podria usar un paseo, o digamos, 20 cartuchos para mi Escopeta Cientifica." pbold $) cyoa-text! basic-tone
		choice( "Ofrecerle un paseo" )choice: madsci-recruit
		trunk-shotgun-shell 19 > if
		choice( "Dale 20 cartuchos de escopeta" )choice: madsci-give
		then
		choice( "Lo siento, no puedo ayudar" )choice
;

// boxer-recruit sometimes gives a stack error that I haven't been able to track down yet
cyoa-bridge: boxer-recruit
	ricon "Desafiante" recruitee .name! recruitee .strengthREV recruitee .fitnessREV recruitee .attitudeREV
	team-count 3 > if
		($  rname .. " 'se enoja mucho por la multitud que se acerca para pedirle que se una. Lanza un poderoso golpe de cabeza derecha hacia " .. cname .. "punta de quijada		" .. "Si, es una gran golpe de KO!" pbold .. 
		" 'El equipo hace espacio para la boxeadora arrancando:" $) cyoa-text!
		sting-- badfx recruit-replace?
	then;
	($ rname  .. " 'sujetando sus guantes.	" .. "Tiempo para entrenar en carretera!" pbold $) cyoa-text! goodfx
		recruited
;

cyoa: boxer-test
	"La Gran Pelea" cyoa-title!
	char-gen to recruitee
	someone choosechar
	ricon
	4 recruitee .morale! recruitee .boxerify
	($ Thegroup .. " 'verifica una antigua instalacion de boxeo abandonada y encuentra a una mujer alli con el equipamiento completo. Ella golpea un bolsillo de sacudida a una velocidad incansable.	Sus respuestas en la conversacion son todas no secuenciales, frases aleatorias sobre el boxeo." $) cyoa-text! basic-tone
		choice( "Recruitarla" )choice: boxer-recruit
		choice( "Dejarla sola" )choice
;

cyoa-choice: octodad-recruit
	ricon
	team-count 3 > if
		($ "La nueva recluta resulta ser bastante compacta y se ajusta en el coche!" .. rname .. " 'se une al equipo!		Mas tarde, mientras conduce por la autopista, de alguna manera vuela por la ventana en un accidente extrano, junto con el arma y los suministros que trajo consigo.		" .. rname .. " abandona el equipo!" $) cyoa-text!
	then;
	($ " 'Tarda " .. rname .. " 'alrededor de 15 minutos en abrir la puerta del coche, subirse al coche y abrocharse el cinturon de seguridad.	Durante este tiempo, la claymore y los suministros se tiran a un inodoro cercano e son irre recuperables." $) cyoa-text! badfx
	recruitee .temperREV recruitee .attitudeREV
	recruited
;

: octodadname 1 5 rnd case
	1 of "*llorar*" endof
	2 of "*burblando*" endof
	3 of "*bluub*" endof
	4 of "Nuevo Chico" endof
	5 of "Recluta" endof
endcase ;

cyoa: octodad-test
	"Persona Normal" cyoa-title!
	char-gen to recruitee
	ricon
	octodadname recruitee .name!
	4 recruitee .morale! recruitee .octodadify
	($ Thegroup .. " 'encuentra a un sobreviviente bastante insignificante en un acuario abandonado.	Parece una persona amigable. A una inspeccion mas cercana, lleva una claymore con el y una gran bolsa de suministros!" $) cyoa-text! basic-tone
		choice( "Reclutelo" )choice: octodad-recruit
		choice( "Dejelo en paz" )choice
;

cyoa-choice: mason-recruit
	ricon 2 3 rnd to mason-countdown 1 to mason-curse
	team-count 3 > if
		($ "El equipo se detiene a la orilla del camino para conocer al autoestopista. Al principio habia demasiadas personas para que cupiera una persona mas en el coche, pero luego  " .. cname .. " ' desaparece de la faz de la tierra.		Que extrano!" $) cyoa-text!
		cchar .kill
	else
		($ rname  .. " 'abre la puerta del coche y se sienta, sin decir nada. Parece que tienes un nuevo amigo!" $) cyoa-text! goodfx
	then
		recruitee .strengthREV recruitee .fitnessREV
		recruited
;

cyoa: mason-test
	"Conoce a Nuevos Amigos" cyoa-title!
	someone choosechar
	char-gen to recruitee
	ricon
	"???" recruitee .name!
	5 recruitee .morale! recruitee .masonify
	($ Thegroup .. " 'divisa a un autoestopista. Lleva una mascara de hockey y esta parado quieto al costado del camino, como una estatua, mirando a algo que no esta en particular. En una mano tiene una motosierra, en la otra un machete.	A medida que el coche se acerca, el autoestopista gira ligeramente la cabeza para mirar directamente a " .. thegroup .. "." $) cyoa-text! basic-tone
		choice( "Detente por el, sea lo que sea" )choice: mason-recruit
		choice( "Conduce bastante mas rapido" )choice
;



} }


