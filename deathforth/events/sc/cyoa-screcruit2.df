(* uses base.df
uses charfilt.df
uses charstats.df
uses road.df
uses charstatmods.df *)

// Mason, Octodad, Boxer, Mad Scientist, Sumo, Valkyrie, Rambeux

road{

0 value madsci-countdown
0 value mason-countdown
0 value mason-curse

}

cyoa{ road{

cyoa-bridge: ramb-recruit
	ricon recruitee .strengthREV recruitee .fitnessREV recruitee .shootingREV
	team-count 3 > if
		($  rname .. " ' nota che la squadra e gia piena.		Dovrai cacciare qualcuno dalla squadra per fare spazio. Dovresti, dato che hai gia rinunciato al cibo." $) cyoa-text! -10 trunk-food+ recruit-replace?
	then;
	($ rname  .. "  infila se stesso e la sua mitragliatrice in macchina. Si rifiuta categoricamente di mettere " .. "BERTHA" pbold .. " nel bagagliaio, e dice che nessuno riuscira mai a toglierglielo." $) cyoa-text! goodfx
		-10 trunk-food+	recruited
;

cyoa: ramb-test
	"RAMBEUX: PRIMO SEDERE" cyoa-title!
	char-gen to recruitee
	"Rambeux" recruitee .name!
	ricon
	4 recruitee .morale! recruitee .rambify
	($ Thegroup .. " sente una raffica di colpi di arma da fuoco mentre si avvicina a una citta. Nel mezzo della citta ce un uomo che impugna una mitragliatrice. Intorno a lui ci sono schiere di non morti redivivi. Dice di essere un mercenario, pagato in anticipo." $) cyoa-text! basic-tone
	trunk-food 9 > if
		choice( "Reclutalo per 10 cibi" )choice: ramb-recruit
	then
		choice( "'Non posso risparmiare il cibo" )choice
;

cyoa-choice: valk-recruit
	ricon
	team-count 3 > if
		($  rname .. " nota che il tuo gruppo e pieno." .. "'Beh, qualcuno dovra andarsene." pbold .. 
		" Lancia il martello e colpisce " .. cname .. " proprio nel cranio." .. cname .. "  ha lasciato la squadra!" $) cyoa-text! cchar .kill
	else
		($ rname  .. " 'solleva drammaticamente il martello. Un fulmine lo colpisce! Il resto della squadra e quasi sordo e non riesce a vedere la maggior parte dei colori per il resto della giornata." $) cyoa-text! goodfx
	then
		recruitee .strengthREV recruitee .fitnessREV
		recruited
;

cyoa: valk-test
	"Ponte dellarcobaleno per il Valhalla" cyoa-title!
	char-gen to recruitee
	someone choosechar
	"Valchiria" recruitee .name!
	ricon
	4 recruitee .morale! recruitee .valkify
	($ "Le nuvole si aprono e appare un arcobaleno. Una valchiria cavalca un unicorno lungo larcobaleno." .. "'Hai ucciso un sacco di roba. Sono stato mandato qui da Thor e roba varia per aiutarti nella tua ricerca. Questa non e davvero una grossa faccenda quindi non metterla in dubbio." pbold $) cyoa-text! basic-tone
		choice( "Accetta la sua offerta" )choice: valk-recruit
		choice( "Rifiuta la sua offerta" )choice
;

cyoa-bridge: sumo-recruit
	ricon recruitee .strengthREV recruitee .fitnessREV
	team-count 3 > if 
		($  rname .. " ' apprezza l'offerta all'inizio, ma poi diventa davvero evidente che non c'e modo che 5 persone possano entrare in macchina. Tanto meno 4 persone e un lottatore di sumo.		Sostituisci qualcuno:" $) cyoa-text! recruit-replace?
	then;
	($ rname  .. "  entra in macchina. Le sospensioni scendono davvero molto da un lato, ma lauto riesce comunque a guidare lungo la strada." $) cyoa-text! goodfx
		recruited
;

cyoa: sumo-test
	"'LOTTIAMO NEL SUMO" cyoa-title!
	char-gen to recruitee
	ricon
	4 recruitee .morale! recruitee .sumoify
	($ Thegroup .. " ' sta cercando rifornimenti e si imbatte in un dojo di arti marziali fortificato. Dentro c'e un lottatore di sumo.	Spiega che sta sopravvivendo, ma vuole viaggiare. Tutti hanno lasciato la sua citta un bel po' di tempo fa. Anche prima di allora, non c'era una grande richiesta di allenamento di sumo wrestler sulla costa orientale degli Stati Uniti.	" .. "Ho sentito che il sumo e piuttosto diffuso in Canada! Piu dellhockey!" pbold $) cyoa-text! basic-tone
		choice( "Reclutalo" )choice: sumo-recruit
		choice( "Lascialo stare" )choice
;

cyoa-choice: madsci-give
	ricon
		(*  Here, take one of my old experiments! It'll work a couple times."  pgrassetto .. 		rnome .. " hands you a TELEPORTER MK 1! *)
	($ "Fantastico, questo fara davvero progredire la scienza!	Ecco, prendi uno dei miei vecchi esperimenti! 	" pbold .. rname .. "  ti porge un TELETRASPORTATORE MK 1!	Se ne va per continuare il suo viaggio di scoperta." $) cyoa-text! goodfx
		-20 LOOT_SHOTGUN_SHELL trunk.loot+
		7 WEAPON_SMOKEBOMB trunk.weapon+
;

cyoa-bridge: madsci-recruit
	ricon 2 4 rnd to madsci-countdown recruitee .witsREV recruitee .mechanicREV recruitee .shootingREV
	($  "Dopo aver parlato con lo scienziato, si scopre che il suo laboratorio e sulla strada.	" .. "'Grazie. Daro il tuo nome alla prossima invenzione." pbold $) cyoa-text! goodfx
		team-count 3 > if
			"'Il gruppo e troppo grande per reclutarla! Sostituisci qualcuno:" +crtext
			recruit-replace?
		then; recruited
;

cyoa: madsci-test
	"Donare alla ricerca scientifica" cyoa-title!
	char-gen to recruitee
	ricon
	"Doc" recruitee .name! 4 recruitee .morale! recruitee .madscify
	($ Thegroup .. " " .. "Crap, ora devo tornare al mio laboratorio. Potrei usare un passaggio, o diciamo, 20 conchiglie per il mio Fucile Scientifico." pbold $) cyoa-text! basic-tone
		choice( "Offrirle un passaggio" )choice: madsci-recruit
		trunk-shotgun-shell 19 > if
		choice( "Dai 20 cartucce da fucile a lei" )choice: madsci-give
		then
		choice( "'Mi dispiace, non posso aiutarti" )choice
;

// boxer-recruit sometimes gives a stack error that I haven't been able to track down yet
cyoa-bridge: boxer-recruit
	ricon "Contendente" recruitee .name! recruitee .strengthREV recruitee .fitnessREV recruitee .attitudeREV
	team-count 3 > if
		($  rname .. "  si agita parecchio perche tutti le fanno pressione per chiederle di unirsi. Sferra un forte montante proprio al " .. cname .. "'' mento.		" .. "'Si, questo e un vero colpo da KO!" pbold .. 
		"  La squadra fa spazio al pugile abbandonando:" $) cyoa-text!
		sting-- badfx recruit-replace?
	then;
	($ rname  .. "  si colpisce i guantoni.	" .. "E ora di un po di allenamento su strada!" pbold $) cyoa-text! goodfx
		recruited
;

cyoa: boxer-test
	"Il grande combattimento" cyoa-title!
	char-gen to recruitee
	someone choosechar
	ricon
	4 recruitee .morale! recruitee .boxerify
	($ Thegroup .. "  controlla una palestra di boxe abbandonata e trova una donna li dentro in tenuta da boxe completa. Sta colpendo un sacco da boxe con una velocita impressionante.	Le sue risposte nella conversazione sono tutte non sequitur, detti casuali sulla boxe." $) cyoa-text! basic-tone
		choice( "Assumila" )choice: boxer-recruit
		choice( "Lasciala stare" )choice
;

cyoa-choice: octodad-recruit
	ricon
	team-count 3 > if
		($ "La nuova recluta si rivela piuttosto compatta e si infila in macchina!		" .. rname .. "  si unisce alla squadra!		Piu tardi, mentre guida lungo lautostrada, in un bizzarro incidente vola fuori dal finestrino, insieme allarma e alle provviste che aveva portato con se.		" .. rname .. "  lascia la squadra!" $) cyoa-text!
	then;
	($ "  Ci vuole " .. rname .. " 15 minutes" $) cyoa-text! badfx
	recruitee .temperREV recruitee .attitudeREV
	recruited
;

: octodadname 1 5 rnd case
	1 of "*blub*" endof
	2 of "*borbotta*" endof
	3 of "*bluub*" endof
	4 of "Nuovo Ragazzo" endof
	5 of "Recluta" endof
endcase ;

cyoa: octodad-test
	"Persona Normale" cyoa-title!
	char-gen to recruitee
	ricon
	octodadname recruitee .name!
	4 recruitee .morale! recruitee .octodadify
	($ Thegroup .. " " $) cyoa-text! basic-tone
		choice( "Reclutalo" )choice: octodad-recruit
		choice( "Lascialo stare" )choice
;

cyoa-choice: mason-recruit
	ricon 2 3 rnd to mason-countdown 1 to mason-curse
	team-count 3 > if
		($ "La squadra si ferma a lato della strada per incontrare lautostoppista. Allinizio cerano troppe persone per far entrare una nuova persona in macchina, ma poi " .. cname .. " " $) cyoa-text!
		cchar .kill
	else
		($ rname  .. " " $) cyoa-text! goodfx
	then
		recruitee .strengthREV recruitee .fitnessREV
		recruited
;

cyoa: mason-test
	"Incontra Nuovi Amici" cyoa-title!
	someone choosechar
	char-gen to recruitee
	ricon
	"???" recruitee .name!
	5 recruitee .morale! recruitee .masonify
	($ Thegroup .. " " .. thegroup .. "." $) cyoa-text! basic-tone
		choice( "Fermati per lui, qualunque cosa" )choice: mason-recruit
		choice( "Guida un po piu veloce" )choice
;



} }


