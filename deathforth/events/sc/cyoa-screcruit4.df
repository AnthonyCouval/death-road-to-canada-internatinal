(* uses base.df
uses charfilt.df
uses charstats.df
uses road.df
uses charstatmods.df *)

// Gnomey, Horse Mann, Metal Knight, Cleaning Lady, DSYP, Ridic Fishing, Anime Girl, G*rf

road{

0 value knight-countdown

}

cyoa{ road{

cyoa-bridge: grf-recruit
	ricon
	"G***" recruitee .name!
	($ rname .. " ' sagt etwas aber es ist zu gedampft um es zu verstehen.	Willkommen in einer neuen Welt des Terrors." $) cyoa-text! badfx
		team-count 3 > if
			"'Du musst jemanden rausschmeien um Platz fur diese Abscheulichkeit zu schaffen:" +crtext recruit-replace?
		then;
		recruitee .strengthREV recruitee .fitnessREV recruitee .attitudeREV
		recruited
;

cyoa: grf-test
	"Der letzte Montag" cyoa-title!
	char-gen to recruitee
	someone choosechar
	ricon 
	6 recruitee .morale! 31 screcruit 0 recruitee .attitude! -4 STAT_MORALE recruitee .bonus!
	($ Thegroup .. "  durchwuhlt ein Restaurant und findet nichts. " .. cname-He .. "  entdeckt eine zusammengesunkene, schmutzige lebensgroe Maskottchenfigur an einer der Wande. Plotzlich bewegt sich das Maskottchen und schreit:" .. "ICH HASSE MONTAGS	" rbold .. cname .. "  wird vor Uberraschung fast ohnmachtig." $) cyoa-text! basic-tone		
		choice( "Rekrutiere aus irgendeinem Grund" )choice: grf-recruit
		choice( "Verschwinde schnell von dort" )choice
;

cyoa-bridge: anime-recruit
	ricon 2 to anime-countdown recruitee .strengthREV recruitee .fitnessREV recruitee .attitudeREV
	// recruitee .name@ 5 $left " chan" $cat recruitee .name! - Old, bugged out with tiny names
	// recruitee .name@ dup $len 8 min $left " chan" $cat recruitee .name!
	"Liebenswerte Kraft" recruitee .perk!
	($ rname .. "  funkelt, hebt ihren LIEBLICHEN ZAUBERSTAB und sendet Herzstrahlen aus." .. "'Ein neues Team! Lasst uns etwas bewegen!" rainbold $) cyoa-text!
	team-count 3 > if
		"'Die Gruppe ist zu gro um sie zu rekrutieren! Ersetze jemanden:" +crtext
		recruit-replace?
	then;
 goodfx
		recruited
;

cyoa: anime-test
	"Die Kraft des Anime" cyoa-title!
	char-gen to recruitee
	5 recruitee .morale! recruitee .animeify ricon
	($ Thegroup .. "  wird von einer Horde Zombies uberfallen. Wahrend sie rennen, " .. gthey .. "  begegnen" .. g1s .. "  einer Frau, die bereits in eine Ecke gedrangt wurde. Es sieht hoffnungslos aus, dann verwandelt sie sich plotzlich in eine " .. "ANIME MAGISCHES MADCHEN" rainbold .. "'.	Die Zombies haben keine Chance gegen diesen." $) cyoa-text! basic-tone
		choice( "Rekrutiere sie" )choice: anime-recruit
		choice( "Wege trennen" )choice
;

cyoa-bridge: billy-recruit
	ricon
	"Billy" recruitee .name!
	($ cname .. " ' findet ein Ruderboot. Es dauert eine Weile, bis er zu dem alten Mann gelangt. Der Mann spricht nicht und sein Gesichtsausdruck ist schwer zu deuten, aber er steigt in dein Boot." .. " ><> " pbold $) cyoa-text! goodfx
		team-count 3 > if
			"Wirf jemanden raus um Platz fur ihn zu machen:" +crtext recruit-replace?
		then;
		recruitee .shootingREV
		recruited
;

cyoa: billy-test
	"Lacherliches Bildschirmwackeln" cyoa-title!
	char-gen to recruitee
	someone choosechar
	ricon
	3 recruitee .morale! recruitee .billify
	($ Thegroup .. " ' macht eine Pause an einem See.	In der Ferne ist ein alter Mann in einem Boot beim Angeln.	Er dreht die Angelrute und Dutzende Fische fliegen hoch in die Luft. Dann holt er eine Pistole heraus und beginnt, auf sie zu schieen. Die Welt scheint zu beben.	Mitten darin wechselt er zu einer Schrotflinte." $) cyoa-text! basic-tone
		choice( "Rekrutieren Sie ihn" )choice: billy-recruit
		choice( "Lasst ihn in Ruhe" )choice
;

cyoa-bridge: dsyp-recruit
	ricon
	"DSYP" recruitee .name!
	($ rname .. " ' scheint dein Angebot anzunehmen. Er sagte nichts oder reagierte uberhaupt nicht, auer dass er ins Auto stieg. Wenn er nicht rausspringt, ist es ein abgeschlossenes Geschaft." $) cyoa-text! goodfx
	team-count 3 > if
		"'Du musst jemand anderen rausschmeien um Platz zu schaffen:" +crtext recruit-replace?
	then;
		recruited
;

cyoa: dsyp-test
	"DSYP" cyoa-title!
	char-gen to recruitee
	ricon
	3 recruitee .morale! recruitee .dsypify
	($ Thegroup .. " ' findet einen Mann in einem Badezimmer.	Der Mann sagt nichts.	Er ist vielleicht verargert, dass du in ein Badezimmer gesturmt bist, aber sein Gesicht ist ausdruckslos. Wer wei.	Er ist aus irgendeinem Grund lila. Rosa lila." $) cyoa-text! basic-tone
		choice( "Rekrutieren Sie ihn" )choice: dsyp-recruit
		choice( "Lasst ihn in Ruhe" )choice
;

cyoa-bridge: cleaner-recruit
	ricon
	($ rname .. "  dreht ihren Mopp schnell um ihr Handgelenk.	" .. "Zeit dieses Durcheinander aufzuraumen!	" pbold .. "Wischwasser trankt " .. thegroup .. "  recht schlecht." $) cyoa-text! goodfx
	team-count 3 > if
		"Jemanden entfernen um Platz zu schaffen:" +crtext recruit-replace?
	then;
		recruited
;

cyoa: cleaner-test
	"Aufbereiten" cyoa-title!
	char-gen to recruitee
	someone choosechar
	ricon
	4 recruitee .morale! recruitee .cleanerify
	($ "'Sie finden eine Frau in einer verlassenen Stadt, ruhend in einem geplunderten Laden.	Sie tragt ein Reinigungskleid an.	" .. "'Ich trage diese Kleidung weil sie bequem und bestandig gegen Flecke ist.	Und ich benutze diesen Schopf als Waffe weil er ein gutes Waffen ist! Das ist alles! Lass mich Fragen aufhoren!" pbold $) cyoa-text! basic-tone
		choice( "Rekrutiere sie" )choice: cleaner-recruit
		choice( "Lass sie in Ruhe" )choice
;

cyoa-bridge: knight-recruit 
	ricon 4 6 rnd to knight-countdown
	"Ritter" recruitee .name!
	($ rname .. " sieht sich in den Wagen versetzen. Der Fahrgestell buckelt etwas." .. "'Lasst uns uns gegenseitig bei unseren Quests helfen!" pbold $) cyoa-text! goodfx
		team-count 3 > if
			"'Du musst jemanden ersetzen fur den Ritter:" +crtext recruit-replace?
		then;
		recruitee .strengthREV recruitee .fitnessREV
		recruited
;

// Maybe check if HORSE MANN is in your group and sell him to her??
cyoa: knight-test
	"Stahlfahrer" cyoa-title!
	char-gen to recruitee
	ricon
	4 recruitee .morale! recruitee .knightify
	($ Thegroup .. " fahrt nach Norden und sieht einen Ritter am Strarand, in voller Plattenrustung.	Der Ritter erzahlt, dass er einmal ein Pferd hatte, aber es sich infiziert hat." $) cyoa-text! basic-tone
		($ " Sie bietet sich freiwillig fur deinen nachsten Kampf zu helfen, gegen Entgelt fur einen Ritt." $) +text
		choice( "Angebot annehmen" )choice: knight-recruit
		choice( "Angebot ablehnen" )choice
;


cyoa-bridge: horse-recruit
	ricon
	($ "Der Mann ignoriert " .. cname .. "'s Angebot, der Gruppe beizutreten, aber es wird schnell offensichtlich, dass er einfach nicht zuhort. Das Auto fahrt ein Stuck vor und " .. cname .. "  greift hinuber und offnet eine der hinteren Turen. Der Mann springt hinein." $) cyoa-text! goodfx
		team-count 3 > if
			"Wirf jemanden raus um ein Pferd zu bekommen:" +crtext recruit-replace?
		then;
		recruitee .strengthREV recruitee .fitnessREV recruitee
		recruited
;

cyoa-choice: horse-boost
	ricon
	($ Thegroup .. "  stellt sich vor wie es ware ein Pferd zu sein.	" .. "WOW	SCHON	UNGLAUBLICH" rbold $) cyoa-text! goodfx
		' .morale++ foreach-team-char
;

cyoa: horse-test
	"Ein schones Pferd" cyoa-title!
	char-gen to recruitee
	someone choosechar
	"Pferd" recruitee .name!
	ricon
	6 recruitee .morale! recruitee .horsify
	($ "'Da lauft ein Mann am Straenrand entlang. Seine Pferdemaskierung schlackert bei jedem Schritt hin und her.	" .. Thegroup .. "  hat noch nie jemanden so frei gesehen." $) cyoa-text! basic-tone
		choice( "Rekrutieren Sie ihn" )choice: horse-recruit
		choice( "Stell dir vor du warst ein Pferd" )choice: horse-boost	
;

cyoa-bridge: gnomey-recruit
	ricon
	team-count 3 > if
		($  rname .. "  dreht durch.		" rbold .. "'Du kannst niemanden REKRUTIEREN wenn du bereits 4 Personen hast! Das kannst du einfach nicht! Hast du nicht aufgepasst?		" pbold .. rname .. "  sturmt zuruck in seine Hutte und schlagt die Tur zu. Wirf jemanden aus der Gruppe und versuche es erneut:" $) cyoa-text! badfx recruit-replace?
	then;
	($ rname  .. "  springt auf sein Nagetierding.	" .. "'Du hast ein ZOMBIE Problem? Das ist ein GNOM PROBLEM.	" pbold .. "Das Nagetier baumt sich auf und wiehert dramatisch.	" .. rname .. "  zeigt auf den Horizont und zwinkert. " $) cyoa-text! goodfx
		recruitee .strengthREV recruitee .attitudeREV recruitee .medicalREV
		recruited
;

cyoa: gnomey-test
	" was lost in the chaos." cyoa-title!
	char-gen to recruitee
	"Gnomey" recruitee .name!
	ricon
	6 recruitee .morale! recruitee .gnomify
	($ Thegroup .. " ' biegt falsch ab auf einer Landstrae und stot auf ein Haus.	Das Haus ist ein groer Pilz, fast so gro wie ein Mensch. Drauen ist ein kleiner umzaunter Bereich mit einer Art exotischem Nagetier, das darin grunzt.	Ein Gnom tritt aus dem Haus und fangt an " .. "SCHREIEN" rbold .. "  und zeigt auf dich." $) cyoa-text! basic-tone
		choice( "Rekrutieren Sie ihn" )choice: gnomey-recruit
		choice( "Renn zum Auto" )choice
;

} }


