(* uses base.df
uses charfilt.df
uses charstats.df
uses road.df
uses charstatmods.df *)

// Cat Lady, Ninja, Turkey, Evil Clown, Rollerderby, Jerk, Dog Man

road{

0 value ninja-countdown

}

cyoa{ road{

cyoa-choice: dogman-recruit
	ricon
	($ "Le personne handicapee siffle l'air un peu en regardant. " .. thegroup .. "." $) text!
	team-count 3 > if
	"L'equipe fait place a cette etrange figure en la remplacant :" +crtext recruit-replace?
	then;
	"C'est un combat pour l'ouvrage de la porte, mais enfin il entre dans la voiture." +crtext goodfx
		recruited
;

cyoa: dogman-test
	"Voyageur handicape" cyoa-title!
	char-gen to recruitee ricon
	4 recruitee .morale! recruitee .dogmanify
	($ Thegroup .. " il marche sur une petite route tranquille et voit une etrange figure... . . 	elle se tord et marche sans coordination. . . 	cette figure pourrait etre ivre ou blessee ?" $) cyoa-text! basic-tone
		choice( "Offrez-lui un coup de main" )choice: dogman-recruit
		choice( "Continue a conduire." )choice
;


// Jerk stuff below

: jerk-get recruitee .witsREV recruitee .attitudeREV recruitee .temperREV team-count 3 > if "Quelqu'un devrait ouvrir la boite." +crtext recruit-replace? else recruited then ;

cyoa-choice: jerk-leave-yes
	ricon
	($ rname .. " une expression melangeant soulagement et un sourire ironique..." .. "Voila votre repas ! vous ne regretterez pas cela !" pbold $) cyoa-text!
	2 trunk-food+ jerk-get goodfx
;

cyoa-choice: jerk-leave4
	ricon
	($ "Je n'avais besoin de toi quelle que soit la maniere !" rbold .. rname .. " continuer de hurler jusqu'a " .. thegroup .. " feuilles." $) cyoa-text!
;

cyoa-choice: jerk-leave3
	ricon
	($ "Je suis desole, mais nous ne pouvons pas vous laisser ici. nous devons rester ensemble pour survivre. si vous pouvez nous aider ou apporter quelque chose a notre groupe, nous serions heureux de vous accueillir. sinon, je crains que nous ne puissions rien faire pour vous. je suis desole." pbold $) cyoa-text!
		choice( "Ma pied me fait mal !" )choice: jerk-leave-yes
		choice( "Laissez-le silencieusement" )choice: jerk-leave4
;

cyoa-choice: jerk-leave2
	ricon
	($ "S'il vous plait, reellement ? assurez-vous que c'est ce que je peux faire. je prefererais eviter toute promesse inutile." pbold $) cyoa-text!
		choice( "Belle, ne donne pas plus d'informations que la trad" )choice: jerk-leave-yes
		choice( "Pas de" )choice: jerk-leave3
;

cyoa-choice: jerk-ransom
	ricon
	($ "HE HE HE" rbold .. "merci beaucoup, obamacare." pbold $) cyoa-text!
	trunk-food 20 < if eat-all else -20 trunk-food+ then
	jerk-get
;

cyoa-choice: jerk-leave 
	ricon
	team-count 3 > if
		($  rname .. " eternuement... ." .. "Fuyez, il vous faudra une bonne raison pour rester ici." pbold .. rname .. " grognes, ricane." $) cyoa-text! badfx morale--all
	then;
	($ rname .. "voice panicque soudainement. " .. "ATTENDEZ!" rbold .. "tu ne peux pas m'abandonner ici ! viens avec moi. je t'offrirai une quantite importante de nourriture, cela sera rentable pour toi. a-t-on un accord ?" pbold $) cyoa-text!
		choice( "Oui" )choice: jerk-leave-yes
		choice( "Non" )choice: jerk-leave2
;

cyoa-choice: jerk-recruit 
	ricon
	team-count 3 > if
		($  rname .. " makes an exaggerated PFFFFT sound.
		" .. "Vous devez savoir que le groupe etait plein. etes-vous un gros bancal ou quelque chose de ce genre?" pbold ..
		rname .. " jette un coup d'oeil dedaigneux." $) cyoa-text! badfx morale--all
	then;
	($ rname .. " gaffe, se fait rire bruyamment. " .. "HE HE HE" rbold .. "je suppose que tu veux que je m'y joins. comment allez-vous pour m'en payer d'avance ?" pbold $) cyoa-text!
	trunk-food 19 > if
		choice( "Donnez-lui dix neuf aliments supplementaires." )choice: jerk-ransom
	then
	trunk-food 20 < trunk-food 0 > and if
		choice( "Donnez-lui. " .. trunk-food .. " nourriture" )choice: jerk-ransom
	then
	choice( "Refuser et quitter" )choice: jerk-leave
;

cyoa: jerk-test
	"Film comique" cyoa-title!
	char-gen to recruitee
	ricon
	21 screcruit 5 recruitee .morale! 
	0 recruitee .attitude! 0 recruitee .wits! 0 recruitee .loyalty! 0 recruitee .composure!
	($ Thegroup .. " decouvrez une demeure qui abrite un tas de choses aleatoires. il y a beaucoup de televisions couteuses et desuetes eparpillees, certaines encore dans leurs boites. des bouteilles sont partout. a l'exterieur, il y a une voiture musclee qui a heurte la piscine stagnante... ." .. "Quittez ma maison, s'il vous plait !" rbold .. "Le gouverneur-empereur apparait et se presente. il corrige ensuite en disant qu'il est le maire du village. puis, il rectifie a nouveau et dit etre le gouverneur-empereur." $) cyoa-text! basic-tone
		choice( "Engager-le" )choice: jerk-recruit
		choice( "Laissez-le etre" )choice: jerk-leave
;

cyoa-bridge: roller-recruit
	ricon
	team-count 3 > if
		recruitee .strengthREV recruitee .fitnessREV recruitee .temperREV
		($  rname .. " cela est une idee epouvantable. laisser quelqu'un tomber de bord :" $) cyoa-text! recruit-replace?
	then;
	($ rname .. " s'engager a rejoindreautant qu'elle pourra casser des choses jusqu'a son coeur contenu." $) cyoa-text! goodfx
		recruitee .strengthREV recruitee .fitnessREV recruitee .temperREV
		recruited
;

cyoa: roller-test
	"Le grand roller derby" cyoa-title!
	char-gen to recruitee
	ricon
	3 recruitee .morale! recruitee .rollerify
	($ Thegroup .. " dans une ancienne piste a roulettes abandonnee, elle rencontre une femme qui glisse sur des patins a roulettes alors qu'un zome se jette vers elle. le zome ne progresse pas... ." $) cyoa-text! basic-tone
		choice( "La recrutez" )choice: roller-recruit
		choice( "Laissez-la tranquille" )choice
;

: clown-floorit 
($ cname .. " quitter " .. chis .. " appuyez sur le pedalier a gaz. " .. "FAITES-LE TOMBER A TERRE ! " rbold $)
;
cyoa-choice: clown-flee
	ricon
	clown-floorit cyoa-text!
	solo if
		($ cHe .. " son. " .. chis .. " aller a droite, le clown est a cote, dans la voiture. " .. chim .. "une cligne-dents, le clown a disparu. peut-etre une hallucination ?" $) +text sfx{ creepy }
	then;
	($ "Il n'y a pas d'evasion possible. c'etait deja dans la voiture... 	peut-etre qu'il etait deja dans la voiture depuis longtemps." $) +text badfx
	recruited
;

cyoa-choice: clown-recruit
	ricon
	($ "Pourquoi vous avez fait cela ? pourquoi ?" $) cyoa-text! badfx
		recruited
;

cyoa: clown-test
	"Une sorte de cauchemar ?" cyoa-title!
	char-gen to recruitee
	"Plasms : plasmas" recruitee .name!
	"c'est un clown drole !" recruitee .job!
	someone choosechar
	ricon 29 screcruit 
	6 recruitee .morale! 0 recruitee .attitude!
	-1 STAT_MORALE recruitee .bonus!
	($ "La voiture roule sur l'autoroute et approche une figure dans la pluie ..." .. cname .. " se ralentit pour voir qui c'est... c'etait un clown. il brandissait une petite cornemuse de clown et sonna. le bruit etait si deforme." $) cyoa-text! basic-tone
	team-count 3 > if
	clown-floorit +cr +text +cr
	($ gHe .. " est profondement trouble et jure oubliier cela jamais s'etre produit." $) +text
	then;	
		choice( "Laisser passer le clown dans la voiture." )choice: clown-recruit
		choice( "ACCELERER AU MAXIMUM !" )choice: clown-flee
;

: turkey-meal
	($ Thegroup .. " mange une grosse repas de thanksgiving... . 	delicieux!. . 	il y en a meme des restes!" $) cyoa-text! goodfx
	' .morale++ foreach-team-char
	8 trunk-food+
;

cyoa-choice: turkey-eat
	ricon
	turkey-meal
;

cyoa-choice: turkey-recruit
	ricon
	($ "Il pense gravement a l'erreur qu'il vient de faire. " .. cname .. " monument de l'echouement de would you kindly " .. chim .. " commence" $) cyoa-text! badfx
		recruited
;

cyoa: turkey-test
	"JOUR D'ACTION DE CAMARADES" cyoa-title!
	char-gen to recruitee
	"La turquie" recruitee .name!
	someone choosechar
	ricon 27 screcruit
	3 recruitee .morale!
	($ "C'est l'heure de l'annee ! une dinde apparait ! 	elle est assez grosse, donc il pourrait s'agir d'un homme dans un costume de dinde... . 	personne ne peut en dire pour certain." $) cyoa-text! basic-tone
		choice( "Manger de la dinde." )choice: turkey-eat
		choice( "Epargner la turquie" )choice: turkey-recruit
;

cyoa-choice: ninja-flee
	ricon
	($ rname  .. " elle saute et jette une bombe a fumigene sur le sol ... elle est partie !" $) cyoa-text! badfx
;

cyoa-bridge: ninja-recruit
	ricon
	($ rname  .. " elle prend la nourriture et ensuite jette une bombe fumigene au sol. disparue !. .  mais attend, maintenant elle est dans la voiture." $) cyoa-text! goodfx
		team-count 3 > if
			"Expulser quelqu'un de l'equipe pour creer de l'espace:" +crtext -10 trunk-food+ recruit-replace?
		then;
		recruitee .strengthREV recruitee .fitnessREV recruitee .temperREV
		-10 trunk-food+
		recruited 
		3 4 rnd to ninja-countdown
;

cyoa: ninja-test
	"Tirs de ninja 3 : troisieme frappe" cyoa-title!
	char-gen to recruitee
	"Ninja : un" recruitee .name!
	ricon
	5 recruitee .morale! recruitee .ninjaify
	($ Thegroup .. " suivant la piste de zombies, tous tranches en deux nettement... arrive a la fin de cette piste, on decouvre quelqu'un habille en ninja, debout sur une benne a ordures avec un pose dramatique d'arme croisee. sa bandana impraticable flotte dans le vent." $) cyoa-text! basic-tone
	trunk-food 9 > if
		choice( "Corrompez-la pour qu'elle rejoigne a contre-prix de dix aliments." )choice: ninja-recruit
	then
		choice( "Approcher-la." )choice: ninja-flee
		choice( "Laissez-la tranquille" )choice
;

cyoa-choice: catlady-crumb
	ricon
	($ rname  .. " elle semble decevee par la quantite de nourriture que vous lui avez donnee, mais seulement pour un instant." .. "Merci beaucoup pour le rien de nourriture pour les chatons ! s'il vous plait, touchez-les chats ! " pbold $) cyoa-text! goodfx
		eat-all ' .morale++ foreach-team-char
;

cyoa-choice: catlady-recruit
	ricon
	team-count 3 > if
		($  rname .. " elle est ravis par la nourriture de chat fait maison !. . 	elle presente au groupe sa reserve speciale de chats habilles en petits vetements et ceux qui sont moins agressifs, ne mordant pas assez fort pour faire saigner." $) cyoa-text!
		' .morale2+ foreach-team-char
	else
		($ "Beaucoup comme les chats qu'elle aime, " .. rname .. " elle vous voit maintenant comme une source de nourriture qu'elle peut alors transmettre directement a ses chatons. elle vous suit desormais partout." $) cyoa-text! goodfx
		recruitee .witsREV recruitee .attitudeREV
		recruited
	then
	-8 trunk-food+
;

cyoa: catlady-test
	"Maison des miaous" cyoa-title!
	char-gen to recruitee
	"Felicia, dame et collection" recruitee .name!
	ricon
	4 recruitee .morale! recruitee .catladyify
	($ Thegroup .. " elle detecte une odeur surpuissante, differente de l'odeur habituelle de la mort... ils la suivent jusqu'a une maison pleine de chats. personne n'a vu un chat il y a longtemps !. . 	une femme est parmi les chats, et elle demande immediatement si " .. thegroup .. " a a des aliments secs pour chats a repartir ?" $) cyoa-text! basic-tone
	trunk-food 7 > if
		choice( "Donne-lui huit aliments :" )choice: catlady-recruit
	then
	trunk-food 8 < trunk-food 0 > and if
		choice( "Objet : " .. trunk-food .. " nourriture" )choice: catlady-crumb
	then
		choice( "Desole, je ne peux pas m'en passer de la nourriture." )choice
;



} }


