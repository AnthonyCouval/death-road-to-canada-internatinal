(* uses base.df
uses charfilt.df
uses charstats.df
uses road.df
uses charstatmods.df *)

// Cat Lady, Ninja, Turkey, Evil Clown, Rollerderby, Jerk, Dog Man

road{

0 value ninja-countdown

}

cyoa{ road{

cyoa-choice: dogman-recruit
	ricon
	($ "0x00000000 : word32 " .. thegroup .. "." $) text!
	team-count 3 > if
	"0; by: = 1;" +crtext recruit-replace?
	then;
	"It takes a bit of struggling with the door, but eventually it gets in the car." +crtext goodfx
		recruited
;

cyoa: dogman-test
	"Viajante Deficiente" cyoa-title!
	char-gen to recruitee ricon
	4 recruitee .morale! recruitee .dogmanify
	($ Thegroup .. " 	esta dirigindo por uma estrada tranquila e ve uma figura estranha.	Esta mancando sem coordenacao.	A figura esta talvez embriagada, ou talvez ferida?" $) cyoa-text! basic-tone
		choice( "Oferecalhe uma carona" )choice: dogman-recruit
		choice( "Continue a dirigir" )choice
;


// Jerk stuff below

: jerk-get recruitee .witsREV recruitee .attitudeREV recruitee .temperREV team-count 3 > if "'Botar alguem pra fora pra fazer espaco'" +crtext recruit-replace? else recruited then ;

cyoa-choice: jerk-leave-yes
	ricon
	($ rname .. " faz uma expressao que mistura alivio e um sorriso." .. "Quente! Voce nao arrependera disso! Aqui esta o seu alimento." pbold $) cyoa-text!
	2 trunk-food+ jerk-get goodfx
;

cyoa-choice: jerk-leave4
	ricon
	($ "NaO TE DEVEI NENHUM CASO!	" rbold .. rname .. " continua a gritar enquanto " .. thegroup .. " folhas." $) cyoa-text!
;

cyoa-choice: jerk-leave3
	ricon
	($ "Estou rogandote! Morrerao aqui sem ajuda! Sou inutil, apenas tome compassao e deixeme entrar no seu grupo! Farei trabalho extra! Voce nao pode me deixar aqui! POR FAVOR!" pbold $) cyoa-text!
		choice( "Ok! Qualquer coisa!" )choice: jerk-leave-yes
		choice( "Sai silenciosamente" )choice: jerk-leave4
;

cyoa-choice: jerk-leave2
	ricon
	($ "Ta bom, vamos la." pbold $) cyoa-text!
		choice( "Ok, ok" )choice: jerk-leave-yes
		choice( "Nao!" )choice: jerk-leave3
;

cyoa-choice: jerk-ransom
	ricon
	($ "HEH HEH" rbold .. "obrigado por isso, Obama." pbold $) cyoa-text!
	trunk-food 20 < if eat-all else -20 trunk-food+ then
	jerk-get
;

cyoa-choice: jerk-leave 
	ricon
	team-count 3 > if
		($  rname .. " hehe.		" .. "Sim, e melhor voce correr.		" pbold .. rname .. "  gargalhadas." $) cyoa-text! badfx morale--all
	then;
	($ rname .. "''s voz fica em panico de repente. " .. "ESPERE!" rbold .. "'	Voce nao pode simplesmente me deixar aqui! Vamos, me leve com voce. Vou te dar um monte de comida, fazer valer a pena. Temos um acordo?" pbold $) cyoa-text!
		choice( "Sim" )choice: jerk-leave-yes
		choice( "Nao" )choice: jerk-leave2
;

cyoa-choice: jerk-recruit 
	ricon
	team-count 3 > if
		($  rname .. " makes an exaggerated PFFFFT sound.
		" .. "Voce deve ter sabido que o grupo esta cheio. Voce e algum tipo de idiota ou algo assim?		" pbold ..
		rname .. "  joga um revira de olhos, de graca." $) cyoa-text! badfx morale--all
	then;
	($ rname .. "  gargalhadas. " .. "HEH HEH" rbold .. "	Sim aposto que voce quer que eu me junte a voce. Que tal voce me pagar adiantado?" pbold $) cyoa-text!
	trunk-food 19 > if
		choice( "De a ele 20 alimentos" )choice: jerk-ransom
	then
	trunk-food 20 < trunk-food 0 > and if
		choice( "De a ele " .. trunk-food .. " alimentos" )choice: jerk-ransom
	then
	choice( "Recuse e va embora" )choice: jerk-leave
;

cyoa: jerk-test
	"Que Jerk" cyoa-title!
	char-gen to recruitee
	ricon
	21 screcruit 5 recruitee .morale! 
	0 recruitee .attitude! 0 recruitee .wits! 0 recruitee .loyalty! 0 recruitee .composure!
	($ Thegroup .. " 0x3A3A3A3A," .. "	Hey, get the heck out of my house!" rbold .. "Um homem aparece, se apresentando como o prefeito da cidade. Ele se corrige e diz que e o Governador-Imperador." $) cyoa-text! basic-tone
		choice( "Recluteo" )choice: jerk-recruit
		choice( "Deixem ele em paz" )choice: jerk-leave
;

cyoa-bridge: roller-recruit
	ricon
	team-count 3 > if
		recruitee .strengthREV recruitee .fitnessREV recruitee .temperREV
		($  rname .. " 0.0" $) cyoa-text! recruit-replace?
	then;
	($ rname .. " concorda em se juntar, contanto que ela possa esmagar coisas ate o conteudo do seu coracao." $) cyoa-text! goodfx
		recruitee .strengthREV recruitee .fitnessREV recruitee .temperREV
		recruited
;

cyoa: roller-test
	"O Grande Rollerderby" cyoa-title!
	char-gen to recruitee
	ricon
	3 recruitee .morale! recruitee .rollerify
	($ Thegroup .. " 0" $) cyoa-text! basic-tone
		choice( "Recrutala" )choice: roller-recruit
		choice( "Deixala em paz" )choice
;

: clown-floorit 
($ cname .. "  jams " .. chis .. "  pisa no acelerador e " .. "ACELERA! " rbold $)
;
cyoa-choice: clown-flee
	ricon
	clown-floorit cyoa-text!
	solo if
		($ cHe .. "  gira " .. chis .. "  volta a cabeca para a direita e o palhaco esta la no carro com " .. chim .. ". 		Com um olhar, o palhaco desaparece. Talvez fosse uma ilusao?" $) +text sfx{ creepy }
	then;
	($ "'Mas nao ha fuga. Estava ja no carro. 	Talvez sempre tenha estado no carro." $) +text badfx
	recruited
;

cyoa-choice: clown-recruit
	ricon
	($ "Por que fiz isso? Por que?" $) cyoa-text! badfx
		recruited
;

cyoa: clown-test
	"Algo como um pesadelo?" cyoa-title!
	char-gen to recruitee
	"Palhaco" recruitee .name!
	"e um palhaco engracado!" recruitee .job!
	someone choosechar
	ricon 29 screcruit 
	6 recruitee .morale! 0 recruitee .attitude!
	-1 STAT_MORALE recruitee .bonus!
	($ "O carro esta descendo pela autoestrada e aborda uma figura na chuva.	" .. cname .. " 'desacelera para ver quem era.	Era um palhaco. Ele sorriu e tocou num pifano. O som soava tao distorcido." $) cyoa-text! basic-tone
	team-count 3 > if
	clown-floorit +cr +text +cr
	($ gHe .. " esta profundamente perturbado e jura esquecer isso acontecer." $) +text
	then;	
		choice( "Deixe o palhaco no carro" )choice: clown-recruit
		choice( "PISA NO FREIO" )choice: clown-flee
;

: turkey-meal
	($ Thegroup .. " 1" $) cyoa-text! goodfx
	' .morale++ foreach-team-char
	8 trunk-food+
;

cyoa-choice: turkey-eat
	ricon
	turkey-meal
;

cyoa-choice: turkey-recruit
	ricon
	($ "'Grande erro! Agora o peru pensa' " .. cname .. "  e sua mae!		Ele comeca a seguir " .. chim .. "  ao redor." $) cyoa-text! badfx
		recruited
;

cyoa: turkey-test
	"FELIZ DIA DE ACaO DE GRACAS" cyoa-title!
	char-gen to recruitee
	"Peru" recruitee .name!
	someone choosechar
	ricon 27 screcruit
	3 recruitee .morale!
	($ "'E aquela epoca do ano! Um peru aparece! E bem grande entao pode ser um cara com uma fantasia de peru. Ninguem pode dizer com certeza." $) cyoa-text! basic-tone
		choice( "Coma Peru" )choice: turkey-eat
		choice( "Poupe o Peru" )choice: turkey-recruit
;

cyoa-choice: ninja-flee
	ricon
	($ rname  .. " ' pula e bate uma bomba de fumaca no chao. Ela se foi!" $) cyoa-text! badfx
;

cyoa-bridge: ninja-recruit
	ricon
	($ rname  .. " ' pega a comida e bate uma bomba de fumaca no chao. Ela se foi! Nao espere, ela esta no carro agora." $) cyoa-text! goodfx
		team-count 3 > if
			"Chute alguem do time para abrir espaco:" +crtext -10 trunk-food+ recruit-replace?
		then;
		recruitee .strengthREV recruitee .fitnessREV recruitee .temperREV
		-10 trunk-food+
		recruited 
		3 4 rnd to ninja-countdown
;

cyoa: ninja-test
	"Ninja Strike 3: Terceiro Golpe" cyoa-title!
	char-gen to recruitee
	"Ninja" recruitee .name!
	ricon
	5 recruitee .morale! recruitee .ninjaify
	($ Thegroup .. "  encontra uma trilha de zumbis, todos cortados ao meio. Seguindo a trilha, leva a alguem vestido com uma fantasia de ninja, em pe em uma lixeira com uma pose dramatica de bracos cruzados. Sua faixa de cabeca de comprimento impraticavel balanca ao vento." $) cyoa-text! basic-tone
	trunk-food 9 > if
		choice( "Subornea para se juntar por 10 comidas" )choice: ninja-recruit
	then
		choice( "Aproximese dela" )choice: ninja-flee
		choice( "Deixala em paz" )choice
;

cyoa-choice: catlady-crumb
	ricon
	($ rname  .. "  parece desapontada com a quantidade de comida que voce deu a ela, mas apenas por um breve momento." .. "'Obrigado pela racao! Por favor faca carinho nos gatinhos!' " pbold $) cyoa-text! goodfx
		eat-all ' .morale++ foreach-team-char
;

cyoa-choice: catlady-recruit
	ricon
	team-count 3 > if
		($  rname .. " 1" $) cyoa-text!
		' .morale2+ foreach-team-char
	else
		($ " Assim como os gatos que ela ama, " .. rname .. " agora te ve como uma fonte de comida que ela pode entao dar diretamente para os gatos dela. Ela comeca a te seguir por ai." $) cyoa-text! goodfx
		recruitee .witsREV recruitee .attitudeREV
		recruited
	then
	-8 trunk-food+
;

cyoa: catlady-test
	"Casa de Gatos Miau" cyoa-title!
	char-gen to recruitee
	"Cats Lady" recruitee .name!
	ricon
	4 recruitee .morale! recruitee .catladyify
	($ Thegroup .. " detecta um cheiro sobrepowering, diferente do usual cheiro da morte.	Sao seguidos ate uma casa lotada de gatos. Ninguem viu um gato por ai ha muito tempo!	Uma mulher esta entre os gatos, e ela pergunta diretamente se " .. thegroup .. " tem algum comida para gatos extras." $) cyoa-text! basic-tone
	trunk-food 7 > if
		choice( "Delhe 8 refeicoes" )choice: catlady-recruit
	then
	trunk-food 8 < trunk-food 0 > and if
		choice( "Delhe " .. trunk-food .. " alimentos" )choice: catlady-crumb
	then
		choice( "Nao posso poupar a comida" )choice
;



} }


