
cyoa{ road{

0 value lnk-event
0 value lnk-bombbag

: lnk-chest
	($ cname .. "  inciampa in uno scrigno del tesoro. Lo apre e solleva il suo contenuto in alto sopra la sua testa.		Conteneva il " $) cyoa-text!
;

: lnksword 1 6 rnd case
	1 of "M*ster" endof
	2 of "Mester" endof
	3 of "Mister" endof
	4 of "Mostro" endof
	5 of "Mostro" endof
	6 of "Mostro" endof
endcase ;

cyoa-choice: lnk-heart
	($ cname .. "  ha ottenuto il " .. "Contenitore Cuore!" pbold .. "	La salute massima e aumentata!" $) cyoa-text!
		STAT_VITALITY cchar .stat++ cchar .health++
;

: lnk-restock
	52 stpick if choosechar then
	WEAPON_LNKBOMB cchar .weaponb! 3 cchar .stackedb! 
	1 cchar .weapon_nodropb!
;

cyoa-choice: lnk-bomb
	($ cname .. "  ha ottenuto il " .. "Sacco di bombe!" pbold .. "'	Ora puo lanciare tre bombe ogni missione!	Le nuove bombe appariranno nel baule ogni volta che saranno completamente esaurite!" $) cyoa-text!
		1 to lnk-bombbag
		// lnk-restock
		 3 WEAPON_LNKBOMB trunk.weapon+
;

cyoa: lnk-timeup
	52 stpick if choosechar cicon else ($ "L*nk" pbold .. "  non ce piu. Probabilmente e per il meglio. Per favore non dire a nessuno che abbiamo inserito questo personaggio nel gioco." $) text! exit then
	"DA NA NA NAAAAAAA!" cyoa-title!
	lnk-event 0 = if
		lnk-chest ($ "Boomerang di legno!" pbold $) +text
			1 WEAPON_WOODBOOM trunk.weapon+
	then
	lnk-event 1 = if
		lnk-chest ($ "Spada bianca!" pbold $) +text
			WEAPON_WHITESWORD cchar .weapona! 1 cchar .weapon_nodropa!
	then
	lnk-event 2 = if
		lnk-chest ($ "Boomerang di metallo!" pbold $) +text
			1 WEAPON_METALBOOM trunk.weapon+
	then
	lnk-event 3 = if
		lnk-chest ($ "..." pbold .. "		Scegli uno:" $) +text
			choice( "Contenitore Cuore" )choice: lnk-heart
			choice( "Sacco di bombe" )choice: lnk-bomb
	then
	lnk-event 4 = if
		lnk-chest ($ PURPLE .. lnksword .. "  Spada!" .. WHITE $) +text
				WEAPON_HERO cchar .weapona! 1 cchar .weapon_nodropa!
	then 
	' lnk-event ++ goodfx
	lnk-event 5 < if 1 2 rnd else 0 then to lnk-countdown
;

: lnk-cut
	lnk-event 2 < if 50 else 80 then %chance if dup .ouch-- then
	lnk-event 3 > if dup .ouch-- then
;

cyoa: lnk-despair
	bully choosechar cicon
	"Attacco rotante" cyoa-title!
	($ cname .. "  impugna la sua spada davanti a lui e poi gira a grande velocita.	" .. "KYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA!!!!!!!" rbold .. "	Finisce per tagliare tutto cio che gli sta vicino e anche per tagliarsi piuttosto male." $) cyoa-text!
	morale2+ lnk-event 1 > if ouch-- else sting-- then
	cchar ' lnk-cut foreach-team-char-except bitefx 
;

} }


