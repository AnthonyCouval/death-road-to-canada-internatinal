cyoa{

cyoa-choice: anime-go
	($ cname .. "  leva uma hora para ler o anime." $) text!
	deleteme clear-cyoa o'clock@ 1 + o'clock
	cchar .trait@ "Fa de Anime" $= if
		($ cname .. " loves anime!!! Reading this bestows " .. "PODERES MISTERIOSOS DE ANIME!" rainbold $) +crtext
		goodfx morale2+
		road{ animefan-checker }
	then;
	cwits+ if
		($ cname .. "  e um porco inculto que nao tem os gostos refinados necessarios para apreciar esta obra." $) +crtext
		badfx morale-- witsREV
	else
		($ cname .. "  e uma pessoa de cultura e gosto e aprecia muito este anime." $) +crtext
		goodfx morale++
	then witsREV
;

: animechoice
	choice( "Deixe isso quieto por enquanto" )choice
	cchar charchoice( "  le o anime" )choice: anime-go
;

cyoa: anime1
	"Anime Encontrado" cyoa-title!
	picon!
	($ cname .. "  encontra um anime intitulado " .. "SANDWICH CHAN" pbold .. "'	E uma historia em quadrinhos sobre uma garota magica de anime que tambem e um sanduiche que vive em uma geladeira. Ou talvez seja um sanduiche que tambem e uma garota magica de anime. 	O enredo e um pouco dificil de seguir." $) text!
		animechoice
;

cyoa: anime2
	"Anime Encontrado" cyoa-title!
	picon!
	($ cname .. "  encontra um anime intitulado " .. "'NAO ACREDITO QUE MEU NOIVO E UMA ESPECIE DE CRIATURA PEIXE!" pbold .. "'E uma historia em quadrinhos sobre uma mulher que tem um trabalho monotono num escritorio. Sua vida e iluminada por adquirir um peixe de aquario com rosto humano e que fala." $) text!
		animechoice
;

cyoa: anime3
	"Anime Encontrado" cyoa-title!
	picon!
	($ cname .. "  encontra um anime intitulado " .. "SACO DE PISTACHIOS" pbold .. "'E uma animacao sobre um saco de pistachios. O protagonista e surpreendido ao descobrir que os pistachios sao sentientes. Cada pistachio e uma garota anime diferente." $) text!
		animechoice
;

cyoa-choice: animebox-go
	62 65 rnd cchar .specialhead!
	($ cname .. "  agora oficialmente e uma garota anime! Otimo!" $) text! goodfx
;

cyoa: animebox
	"Caixa misteriosa de animacao" cyoa-title!
	picon!
	($ cname .. " encontra uma caixa de animacao. Ela contem varias mascaras de garotas anime." $) text!
		choice( "Deixe isso quieto por enquanto" )choice
		cchar charchoice( " coloca a mascara de animacao" )choice: animebox-go	
;

: anime-recruit nearest .character@ choosechar cicon 1 cchar .party-familiar goodfx clear-cyoa ;

: animegirl-anime-check
	pchar anime? if
		($ cname .. "''mente e completamente surpreendida pela existencia de " .. pname .. "!
		" .. "ANIME E REAL!" rainbold $) text!
		road{ anime-countdown } 50 < if
			($ "A pureza do amor de para anime paralisa o " .. cname .. "''curso da MALDICION DE ANIME " .. "MALDICAO DO ANIME" rbold .. " que foi colocado em " .. pname .. "! Aproveite!" $) +crtext road{ 99 to anime-countdown }
		then
	then
;

cyoa: anime-mort
	anime-recruit
	"O Clube de Anime" cyoa-title!
	($ cname .. " parece irritado por " .. pname .. "'a existencia de" .. "'Acho que podemos ajuda lo, mas nao e porque gostamos de voce ou algo assim!" pbold $) text!
	animegirl-anime-check
;

cyoa: anime-mark
	anime-recruit
	"O Clube de Anime" cyoa-title!
	($ cname .. " olha para " .. pname .. " com um silencioso senso de superioridade." .. "'Acho que podemos ajuda lo, mas nao e porque gostamos de voce ou algo assim!" pbold $) text!
	animegirl-anime-check
;

cyoa: anime-clyde
	anime-recruit
	"O Clube de Anime" cyoa-title!
	($ cname .. " parece preocupado e nervoso. Nao por causa de " .. pname .. ", apenas em geral." .. "'Acho que podemos ajuda lo, mas nao e porque gostamos de voce ou algo assim!" pbold $) text!
	animegirl-anime-check
;

cyoa: anime-dave
	anime-recruit
	"O Clube de Anime" cyoa-title!
	($ cname .. " 'nao diz nada, mas comeca a seguir " .. pname .. ".
	" .. "'Acho que podemos ajuda lo, mas nao e porque gostamos de voce ou algo assim!" pbold $) text!
	animegirl-anime-check
;

}

: animeclubstats args( char )
	WEAPON_OTAKU <- char .weapona!
	WEAPON_OTAKU <- char .weaponb!
	WEAPON_OTAKU <- char .weaponc!
	0.1 <- char .ai.wander_chance!
	2 <- char .strength!
	1 <- char .fitness!
	0 <- char .female!
;

: .animemort args( char )
	56 <- char .specialtype!
	"Mort" <- char .name!
	<- char animeclubstats
	<- char cyoa{ ' anime-mort cyoa! }
	drop
;

: .animemark args( char )
	55 <- char .specialtype!
	"Mark" <- char .name!
	<- char animeclubstats
	<- char cyoa{ ' anime-mark cyoa! }
	drop
;

: .animedave args( char )
	57 <- char .specialtype!
	<- char animeclubstats
	"Dave" <- char .name!
	<- char cyoa{ ' anime-dave cyoa! }
	drop
;

: .animeclyde args( char )
	54 <- char .specialtype!
	<- char animeclubstats
	"Clyde" <- char .name!
	<- char cyoa{ ' anime-clyde cyoa! }
	drop
;

// : animeshop-npc new-npc 0 lt .leaveok! 1 lt .unseen! lt .character@ ;

locdef{
		
location: animestore
		max-rooms: 2
		entry-tags: shop
		script: yall-theme
		
: animeshoploot
	map{ room-papers }
//	4 for magazine scatter next
	5 for otaku .scatter next
	magazine cyoa{ ' anime1 cyoa! } scatter
	magazine cyoa{ ' anime2 cyoa! } scatter
	magazine cyoa{ ' anime3 cyoa! } scatter
	spawn 0x 4 themed spriteid! bbox as-cloth cyoa{ ' animebox cyoa! } scatter
	inside-npc .animemort inside-npc .animeclyde inside-npc .animedave inside-npc .animemark 
	
;
		
		room-choice: shop
			room-weight: 10
			room-count: 1
			room-script: 
			room-post-script: animeshoploot
			filter-only		
 
		room-choice: restroom
			room-weight: 10
			room-count: 1
			room-script: floor-bath
	
}