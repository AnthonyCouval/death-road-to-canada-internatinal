
cyoa{

cyoa: despair-oblivious 
	road{ despair-start! }
	($ cname .. "''s " .. "PODERES INCRIVEIS DO PENSAMENTO POSITIVO" rbold .. "  chuta, protegendo " .. chim .. "  dos horrores da realidade." $) cyoa-text!
	cchar .attitude 5 > if "'Realmente, as coisas nao estao indo tao mal aqui!" +crtext then
	cchar .attitude 5 = if "Bem, as coisas poderiam ser piores, eu acho!" +crtext then
	morale4+
	($ cHe .. "  ganha forca da esperanca!" $) +crtext
	strength++ shooting++
	cchar .attitude 5 = if ($ cname .. "''s espirito comeca a rachar " .. cHe .. "  pode nao ter tanta sorte na proxima vez!" $) +crtext then
	witsattREV attitude-- goodfx
;

cyoa: despair-superdog
	"A Estrada da Morte Continua" cyoa-title!
	bully .notchoosechar
	bully character# cyoa-char-icon!
	($ bname .. "  pede desculpas para " .. cname .. "." $) text!
	bully notpet? if
		($ "I can't go on the Death Road any more! Just remember everything I taught you!
			You can do it, I believe in you!" pbold $)
	else
		($ bname .. " " .. bully barkmeow .. "s de uma forma muito inspiradora.		A coroa esta sendo passada para " .. cname .. "!" $)	
	then +crtext
	($ cname .. "  pega as chaves, as coloca na ignicao do carro e o liga. Em direcao ao Canada!" $) +crtext
	ccat? not if
		morale3+ strength++ fitness++
	else
		($ cHe .. " Passeia Pela Cidade, Por Toda a Cidade" $) cyoa-title!
		($ cHe .. "  nunca ouviu uma unica coisa " .. bname .. "  disse. " .. cname .. "  lentamente faz alguns quilometros na estrada, mas depois dirige o carro direto para um penhasco." $) +crtext
		cchar .kill
		clear-streak delete-the-game
		choice( "'GATOS NAO OUVEM" )choice: quit-to-title
		exit
	then
	bully .weapons-to-trunk
	TEAM_STATUS_GOOD_LEFT bully .decruit cchar .dogtosuperdog goodfx
;

}

events{ road{

	: despair-deck-draw
		despair-deck depths 0= if DESPAIR-DECK shuffles to despair-deck then drawcard
	;

	: scdespairlogic
		bully-st 1 = if
			mason-despair
		then;
		bully-st 3 = if
			santa-despair
		then;
		bully-st 4 = if
			evilsanta-despair
		then;
		bully-st 10 = if
			madsci-despair
		then;
		bully-st 11 = if
			catlady-despair
		then;
		bully-st 15 = if
			ninja-despair
		then;
		bully-st 25 = if
			tlb-despair
		then;
		bully-st 27 = team-count 1 > and if
			turkey-despair
		then;
		bully-st 29 = if
			clown-despair
		then;
		bully-st 31 = if
			garf-despair
		then;
		bully-st 33 = if
			gnomey-despair
		then;
		bully-st 34 = if
			horse-despair
		then;
		bully-st 36 = if
			alvis-despair
		then;
		bully-st 37 = if
			oldalvis-despair
		then;
		bully-st 52 = if
			lnk-despair 
		then;
		bully-st 53 = if
			knight-despair
		then;
		bully-st 58 = if
			dsyp-despair
		then;
		bully-st 59 = if
			billy-despair
		then;
		despair-deck-draw
	;

: despair-solo-event 
	bully-st 0 > if scdespairlogic then;
	despair-solo-deck depths 0= if DESPAIR-SOLO-DECK shuffles to despair-solo-deck then drawcard 
;

: despair-oblivious
	cyoa{ despair-oblivious }
;

: despair-superdog
	cyoa{ despair-superdog }
;

: despair-event 
	bully-st 0 > if scdespairlogic then;
	
	// despair-oblivious is handled before this, in road.df

	bully if
		bully superpet? bully notpet? or if
			numhums 1 = bully .health@ 2 < and if
				despair-superdog
			then;	
		then
		
		bully ispet? if
			despair-dog-deck depths 0= if DESPAIR-DOG-DECK shuffles to despair-dog-deck then
			drawcard
		then;
	then
	
	// morale-total 1 < if	50 %chance if loss-lost else loss-quietly then then;
	// Above as an alternate method if loss-lost and loss-quietly are removed from deck
		
	despair-deck-draw
	
	// Comment above line and uncomment below to hijack it for a specific event
	// argue-insults
;
	
} }


