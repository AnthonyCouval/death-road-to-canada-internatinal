
cyoa{

cyoa: despair-oblivious 
	road{ despair-start! }
	($ cname .. "ho ho " .. "POUVOIRS INCROYABLES DE LA PENSEE POSITIVE" rbold .. " jeter un coup de pied, proteger. " .. chim .. " des horreurs de la realite." $) cyoa-text!
	cchar .attitude 5 > if "Reellement, ca fonctionne bien ici !" +crtext then
	cchar .attitude 5 = if "Bien sur, des choses pouvaient etre pires !" +crtext then
	morale4+
	($ cHe .. " gagne de la force de l'espoir !" $) +crtext
	strength++ shooting++
	cchar .attitude 5 = if ($ cname .. "l'esprit de commence a craquer ! " .. cHe .. " heureusement, il ne s'agit que cette fois !" $) +crtext then
	witsattREV attitude-- goodfx
;

cyoa: despair-superdog
	"La route de la mort continue" cyoa-title!
	bully .notchoosechar
	bully character# cyoa-char-icon!
	($ bname .. " excuse-moi de " .. cname .. "." $) text!
	bully notpet? if
		($ "I can't go on the Death Road any more! Just remember everything I taught you!
			You can do it, I believe in you!" pbold $)
	else
		($ bname .. " " .. bully barkmeow .. "la couronne est passee de main en main. " .. cname .. "!" $)	
	then +crtext
	($ cname .. " accelere la voiture, met les cles dans l'allumage et part vers le canada." $) +crtext
	ccat? not if
		morale3+ strength++ fitness++
	else
		($ cHe .. " Se deplace partout dans la ville." $) cyoa-title!
		($ cHe .. " jamais rien ecoute d'une seule chose. " .. bname .. " dit. " .. cname .. " lentement, il avance quelques miles de route, mais ensuite conduit la voiture directement vers un ravin." $) +crtext
		cchar .kill
		clear-streak delete-the-game
		choice( "CHATS NE REPONDENT PAS" )choice: quit-to-title
		exit
	then
	bully .weapons-to-trunk
	TEAM_STATUS_GOOD_LEFT bully .decruit cchar .dogtosuperdog goodfx
;

}

events{ road{

	: despair-deck-draw
		despair-deck depths 0= if DESPAIR-DECK shuffles to despair-deck then drawcard
	;

	: scdespairlogic
		bully-st 1 = if
			mason-despair
		then;
		bully-st 3 = if
			santa-despair
		then;
		bully-st 4 = if
			evilsanta-despair
		then;
		bully-st 10 = if
			madsci-despair
		then;
		bully-st 11 = if
			catlady-despair
		then;
		bully-st 15 = if
			ninja-despair
		then;
		bully-st 25 = if
			tlb-despair
		then;
		bully-st 27 = team-count 1 > and if
			turkey-despair
		then;
		bully-st 29 = if
			clown-despair
		then;
		bully-st 31 = if
			garf-despair
		then;
		bully-st 33 = if
			gnomey-despair
		then;
		bully-st 34 = if
			horse-despair
		then;
		bully-st 36 = if
			alvis-despair
		then;
		bully-st 37 = if
			oldalvis-despair
		then;
		bully-st 52 = if
			lnk-despair 
		then;
		bully-st 53 = if
			knight-despair
		then;
		bully-st 58 = if
			dsyp-despair
		then;
		bully-st 59 = if
			billy-despair
		then;
		despair-deck-draw
	;

: despair-solo-event 
	bully-st 0 > if scdespairlogic then;
	despair-solo-deck depths 0= if DESPAIR-SOLO-DECK shuffles to despair-solo-deck then drawcard 
;

: despair-oblivious
	cyoa{ despair-oblivious }
;

: despair-superdog
	cyoa{ despair-superdog }
;

: despair-event 
	bully-st 0 > if scdespairlogic then;
	
	// despair-oblivious is handled before this, in road.df

	bully if
		bully superpet? bully notpet? or if
			numhums 1 = bully .health@ 2 < and if
				despair-superdog
			then;	
		then
		
		bully ispet? if
			despair-dog-deck depths 0= if DESPAIR-DOG-DECK shuffles to despair-dog-deck then
			drawcard
		then;
	then
	
	// morale-total 1 < if	50 %chance if loss-lost else loss-quietly then then;
	// Above as an alternate method if loss-lost and loss-quietly are removed from deck
		
	despair-deck-draw
	
	// Comment above line and uncomment below to hijack it for a specific event
	// argue-insults
;
	
} }


