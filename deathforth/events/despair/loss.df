uses base.df
uses charfilt.df
uses charstats.df
uses road.df

cyoa{ road{

cyoa: loss-lost
	"'Verzweifelt verlorengegangen" cyoa-title!
	despair-start!
	($ cname .. " ' hat alle Hoffnung verloren und sich weigert fortzugehen. " .. cHe .. " ' wandert in eine unbekannte Zukunft ab." $) cyoa-text! badfx
	($ "'Was ein Nerd! Wer braucht		 " .. chim .. "', denn jeder braucht es!" $) +crtext
		decruit-bad-silent-takeweapons morale++all
;
	
cyoa: loss-hustle
	despair-start!
	"'Jeder muss hinlegen und arbeiten!" cyoa-title!
	($ cname .. " ' sagt das ', " .. "JEMAND" rbold .. " the person who isn't pulling their weight." $) cyoa-text! basic-tone
		' victim-kick bully cyoa-team-choice-except
		bully charchoice( "" )choice: bully-all-kick 
;

cyoa-choice: loss-obliv
	($ cname .. " 'verneint ', " .. bname .. "'. Es stellt sich heraus, dass " .. che .. "  habe nicht gehort " .. bhim .. ".
	" .. bname .. " 'raucht daruber wutend!" $) cyoa-text!
		bully .morale-- badfx
;

cyoa: loss-ultimatum
	despair-start-victim!
	"'Ultimatum" cyoa-title!
	team-count 2 > if
		($ cname .. " 'verlangt, dass entweder " .. vname .. " 'geht, oder " .. cname .. " 'es tut." $)
	else
		($ cname .. " 'verlangt, dass " .. vname .. " 'geht. " .. cname .. " ' sagt das ', " .. che .. " 'wird das Auto und die Versorgungsguter nehmen und nach Kanada weiterfahren." $)
	then cyoa-text! basic-tone
		victim charchoice( " 'wird rausgeworfen" )choice: victim-kick
		bully charchoice( " 'wird rausgeworfen" )choice: bully-kick
		bully-charm?
		bully-sprayit?
		victim oblivious? if
			victim charchoice( " 'hort nicht " .. bname )choice: loss-obliv
		then			
;

: sneak-everyone team-count 2 < if notcname else "'alle" then ;

cyoa: loss-quietly
	despair-start-victim!
	"'Leise Verschwinden" cyoa-title!
	($ cname .. " 'schleicht sich weg, wenn " .. everyone .. " ' beschaftigt ist." $) cyoa-text! badfx
	cloyalty- if 
		($ bHe .. " ' ist ein wahrer Igel, der die Schlussel fur das Auto stiehlt, mit dem Absicht alles wegzunehmen fur " .. bhim .. "'selbst." $) +text
	else
		cloyalty+ if
			($ bHe .. " ' geht, nichts mitnimmt, nicht einmal " .. chis .. " ' personliche Versorgung." $) +text 
			// Formerly: ($ bHe .. " ' geht, nehmt nur das, was " .. che .. " ' dabei trug." $) +text 
			loyaltyREV decruit-bad-silent-takeweapons
			($ "'Es gibt eine Notiz zuruckgelassen, die " .. sneak-everyone .. " ' Gluck wunscht!" $) +crtext +cr morale++all
			exit
		else
			($ bHe .. " ' stehlt so viel Essen wie moglich bevor er geht. " $) +text
		then
	then loyaltyREV decruit-bad-silent
	
		most-paranoid if choosechar
		//	cloyalty+ if exit then
			($ "'Aber " .. cname .. " ' hat etwas Unvertragliches empfunden und folgte " .. bname .. ". " $) +crtext 
			
			bully .loyalty low if
				($ "'Der Verrater wurde verhindert, den Auto und alles in ihm zu stehlen. " .. bHe .. " ' fluchtet." $)
			else
				"'Der Dieb wurde uberrascht und lieÃŸ die Lebensmittel fallen, wahrend er weglief." 
			then +text +cr witsattREV goodfx morale++all
		then;
		
	cloyalty- if
		($ bHe .. " 'fahrt mit den meisten Versorgungsgutern davon." rbold $) +crtext car-stolen trunk.killer bandit-gas bandit-food bandit-med bandit-ammo2 morale3-all
	else
		trunk-food 0 = if
			($ "'Schade fur " .. bname .. " 'dass es uberhaupt keine Lebensmittel gab, sowieso." $) +crtext victim .morale++ badfx
		then;
		trunk-food 20 < if
			($ "'Was auch immer die Gruppe hatte, wurde gestohlen." $) +crtext eat-all badfx
		then;
		($ "'Der Dieb nahm alles " .. bhe .. " 'konnte tragen." $) +crtext -20 LOOT_FOOD trunk.loot+
	then badfx
;

} }


