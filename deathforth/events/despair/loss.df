uses base.df
uses charfilt.df
uses charstats.df
uses road.df

cyoa{ road{

cyoa: loss-lost
	"Perdido en la Desesperacion" cyoa-title!
	despair-start!
	($ cname .. "  ha perdido toda esperanza y se niega a seguir adelante. " .. cHe .. "  se aleja hacia un destino desconocido." $) cyoa-text! badfx
	($ "Que nerd! Quien necesita " .. chim .. ", de todos modos?" $) +crtext
		decruit-bad-silent-takeweapons morale++all
;
	
cyoa: loss-hustle
	despair-start!
	"Todo el mundo necesita apresurarse" cyoa-title!
	($ cname .. " dice eso " .. "ALGUIEN" rbold .. " ' en el grupo no esta aportando su peso y exige que lo echen. Quien deberia abandonar el grupo?" $) cyoa-text! basic-tone
		' victim-kick bully cyoa-team-choice-except
		bully charchoice( "" )choice: bully-all-kick 
;

cyoa-choice: loss-obliv
	($ cname .. "  ignora " .. bname .. ". Resulta que " .. che .. " no escuche " .. bhim .. ".
	" .. bname .. " se enoja por esto!" $) cyoa-text!
		bully .morale-- badfx
;

cyoa: loss-ultimatum
	despair-start-victim!
	"Ultimatum" cyoa-title!
	team-count 2 > if
		($ cname .. "  exige que o " .. vname .. "  se vaya, o " .. cname .. "  hace." $)
	else
		($ cname .. "  exige que " .. vname .. "  se va. " .. cname .. " dice eso " .. che .. "  tomara el auto y los suministros y continuara hacia Canada." $)
	then cyoa-text! basic-tone
		victim charchoice( "  es expulsado" )choice: victim-kick
		bully charchoice( "  es expulsado" )choice: bully-kick
		bully-charm?
		bully-sprayit?
		victim oblivious? if
			victim charchoice( " ' no oye " .. bname )choice: loss-obliv
		then			
;

: sneak-everyone team-count 2 < if notcname else "todos" then ;

cyoa: loss-quietly
	despair-start-victim!
	"Desapareciendo silenciosamente" cyoa-title!
	($ cname .. "  se escabulle cuando " .. everyone .. "  esta ocupado." $) cyoa-text! badfx
	cloyalty- if 
		($ bHe .. "  es una verdadera comadreja que roba las llaves del auto, con la intencion de llevarse todo por " .. bhim .. "self." $) +text
	else
		cloyalty+ if
			($ bHe .. "  se va, sin llevarse nada, ni siquiera " .. chis .. " ropa zapatos etc." $) +text 
			// Formerly: ($ bHe .. " hojas llevando solo lo que " .. che .. " estaba llevando." $) +text 
			loyaltyREV decruit-bad-silent-takeweapons
			($ "Hay una nota dejada atras, deseando " .. sneak-everyone .. " suerte!" $) +crtext +cr morale++all
			exit
		else
			($ bHe .. " roba tanta comida como sea posible antes de irse. " $) +text
		then
	then loyaltyREV decruit-bad-silent
	
		most-paranoid if choosechar
		//	cloyalty+ if exit then
			($ "Sin embargo, " .. cname .. "  sintio que algo andaba mal y siguio " .. bname .. ". " $) +crtext 
			
			bully .loyalty low if
				($ "Se impidio que el traidor robara el auto y todo lo que habia dentro. " .. bHe .. "  huye." $)
			else
				"El ladron se sorprendio y termino dejando caer la comida mientras huia." 
			then +text +cr witsattREV goodfx morale++all
		then;
		
	cloyalty- if
		($ bHe .. "  se marcha con la mayoria de los suministros." rbold $) +crtext car-stolen trunk.killer bandit-gas bandit-food bandit-med bandit-ammo2 morale3-all
	else
		trunk-food 0 = if
			($ "Lastima para " .. bname .. " ' que no habia comida, de todos modos." $) +crtext victim .morale++ badfx
		then;
		trunk-food 20 < if
			($ "Lo poco que tenia el grupo fue robado." $) +crtext eat-all badfx
		then;
		($ "El ladron se llevo todo " .. bhe .. "  pudo llevar." $) +crtext -20 LOOT_FOOD trunk.loot+
	then badfx
;

} }


