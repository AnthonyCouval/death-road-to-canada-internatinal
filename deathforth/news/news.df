
voc{ news

: news-off? gstats{ newschecked } BRANCHNAME $= ;

// TITLE INFO

		($ "Mio nuovo gioco:" .. cr$ .. "Croce di Cannibali" $) news_title!

// NEWSBOX IMAGE INFO

8 value imagecount
3 sec>tick newsbox_ticker_dur!

// BUTTONS INFO

"See Trailer / Buy / Wishlist" value b0_text
"http://www.cannibalcrossing.com" urlopener: b0_url

"Discord ufficiale" value b1_text
"https://discord.gg/J7HChAa" urlopener:  b1_url

"Opzioni di notizie" value b2_text


0 value index

: ticker_handler
	($ "deathforth/news/" .. index .. ".png" $) newsbox_load_image

	' index ++ index imagecount % to index
;

last newsbox_ticker_handler!


b0_text		0 #news_btn_text!
' b0_url	0 #news_btn_handler!
b1_text 	1 #news_btn_text!
' b1_url	1 #news_btn_handler!
b2_text 	2 #news_btn_text!

"http://www.twitter.com/rocketcatgames/" 	urlopener: rocketcat-twitter
"http://www.facebook.com/rocketcatgames/" 	urlopener: rocketcat-facebook
"http://www.twitter.com/madgarden/" 		urlopener: madgarden-twitter

: show-news 
	gstats{ 0 to newschecked save }
	0 newsbox_disable!
	0 0 #news_btn_disable!
	0 1 #news_btn_disable!
	0 2 #news_btn_disable!

	1 refresh_layout!
;

: hide-news 
	gstats{ BRANCHNAME to newschecked save }
	// 0 news_enable!

	1 newsbox_disable!
	1 0 #news_btn_disable!
	0 1 #news_btn_disable!
	0 2 #news_btn_disable!

	1 refresh_layout!
;

cyoa{

cyoa-blank: social
	"TWITTER E FACEBOOK" cyoa-title!

	"'Leggi gli aggiornamenti di Rocketcat Games su Twitter o Facebook per le notizie su Death Road e i giochi imminenti!	Leggi il Twitter di Madgarden per la vera saggezza canadese!" bbold text!
	"'Rispondiamo rapidamente a feedback e suggerimenti su Twitter!" +crtext

	choice( "Indietro" )choice
	choice( "Twitter di Rocketcat" )choice: rocketcat-twitter
	choice( "Twitter di Madgarden" )choice: madgarden-twitter
	choice( "Facebook di Rocketcat" )choice: rocketcat-facebook

;

cyoa-blank: weblinks
	"OPZIONI DI NOTIZIE" cyoa-title!

	"Ecco altri modi per contattarci, fornire feedback e suggerimenti e vedere cosa stiamo facendo per aggiornamenti e nuovi progetti! 	Siamo molto attivi sul Discord ufficiale di Rocketcat, dove puoi parlare con noi e altri fan dei nostri giochi." bbold text!
	"Puoi anche nascondere il pannello delle notizie fino al prossimo aggiornamento importante." +crtext

	choice( "Indietro" )choice
	choice( "Twitter/Facebook" )choice: social
	choice( "Discord ufficiale di Rocketcat" )choice: b1_url
	news-off? if 
		choice( "Mostra notizie" )choice: show-news
	else
		choice( "Nascondi notizie" )choice: hide-news
	then
;
	
}

last 2 #news_btn_handler!

: newschecker
	1 news_enable! // Changing this to 0 shuts off news AND other stuff

	news-off? if hide-news then;
	
	show-news
	
	// Uncomment below to hide news but not hide the news options and Discord buttons
	hide-news
	
;

newschecker

}
