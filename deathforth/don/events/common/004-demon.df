cyoa{ road{ 

(*
------------------------------------------------------------------------------------------------------------------------
	004 - "Les invoques inconnus" - Don Thacker
	One of the group becomes posessed by the demon HEKTATRIUS. He wants PIZZA and SMOKES.
	That's cool, right? I mean he sounds pretty rad.
------------------------------------------------------------------------------------------------------------------------
*)

// The group kicks the character TO THE CURB
cyoa-choice: don-common-demon-offload
	victim to cchar
	($ notcname .. " des coups de pied " .. vname .. " sortir par la porte laterale des passagers. ... 	 " .. vhe .. " tombe. " .. vhe .. " s'effondre en une horde de chauves-souris noires minuscules." $) cyoa-text!
	victim .kill
	morale--all
;

: don-common-demonify
	victim .morale-- 
	0 victim .tint.skin.g!
	0 victim .tint.skin.b!
	victim .strength++ victim .fitness++
	victim statmod{ .fireproof }
	victim ispet? if 
		0 victim .pet! victim statmod{ .undog } 0 3 rnd victim .bodytype! 73 victim .specialhead!
		WEAPON_FIERCE victim .weapon_default!
	else
		victim .weapons-to-trunk
		WEAPON_DEVILFORK victim .weapona!
		1 victim .weapon_nodropa!
	then
;

cyoa-choice: don-common-demon-pizza-refuse
// Victim was necessary to carry the character selected at the start all the way to here. Otherwise the intermediary cyoa: would have cleared it. Could have also gotten around this using the vortex-003 example of not using cyoa: and using cyoa-start instead, but it would have been really clumsy and prone to breaking.
	($ "Bah, malheureusement merci tout de meme... ." rbold .. "Lorsque le demon libere : " .. vname .. "qui est modifie par l'experience." $) cyoa-text!
	don-common-demonify sfx{ creepy }
;

: don-common-demon-pizzaboost dup .strength++ dup .fitness++ dup .morale-- ;

cyoa-choice: don-common-demon-pizza2
	($ "THANKS FOR THE SOOOUUUUUUUUL.
	" rbold .. "Tous les survivants sont impregnes de puissance demoniaque." $) cyoa-text!
	cchar .kill
	cchar ' don-common-demon-pizzaboost foreach-team-char-except
;

cyoa-bridge: don-common-demon-pizza2-4
	someicon
	"Aucun humain ne devrait etre sacrifie a hekate. dans la mythologie grecque, hekate n'exige pas de sacrifice humain mais plutot des offrandes comme des bougies, des fruits et des fleurs." cyoa-text!
	' don-common-demon-pizza2 cyoa-team-choice
;

cyoa: don-common-demon-pizza

image-demon
solo if
	soloer choosechar
	($ "Merci beaucoup, dingus. ." rbold .. "Le demon eclate de feu. " .. cname .. " avec des pouvoirs etranges, puis disparait !" $) cyoa-text!
	cchar to victim
	don-common-demonify sfx{ creepy }
else
	($ "Bien, les puces etaient a saveur de pizza." .. " HECATEE, POETE GREC ANCIEN. IL EST CONNU POUR ETRE L" rbold .. " demande une ame pour la rincer." .. "QUI SERA SACRIFICE?" rbold $) cyoa-text!
	team-count 3 > if
		' don-common-demon-pizza2 2 #cyoa-team-choice
		choice( "Choisissez quelqu'un d'autre." )choice: don-common-demon-pizza2-4
	else
		' don-common-demon-pizza2 3 #cyoa-team-choice
	then
	choice( "Ne sacrifier personne." )choice: don-common-demon-pizza-refuse	
then
	-1 trunk-food+
;	


cyoa-choice: don-common-demon-facepunch
	
	($ "Malheureux humain, maudit toi ! malheureux toi aussi !" pbold .. "HECATEE, POETE GREC ANCIEN. IL EST CONNU POUR" rbold .. " epaule. " .. cname .. " ressent plutot bien cela." $) cyoa-text!
		($ "C'est une merveilleuse gifle !" $) +crtext
		morale2+ strengthREV strength++ temperREV goodfx

;	

cyoa-choice: don-common-demon-freakout
	// the group freaks out, causing the demon to freak out - you all freak out together
	// the demon leaves and you have essentially lost a person for nothing
	// maybe don't freak out next time
	
	($ Thegroup .. " se dechaine !" rbold $) text!
	notsolo if
		($ "HECATEE, POETE GREC ANCIEN. IL EST CONNU POUR" rbold .. " se fait ebranler pendant un peu de temps ! puis il redevient " .. vname .. "alors, c'est lui qui explosion !" $) +crtext
		victim .kill
	else
		($ "HECATEE, POETE GREC ANCIEN. IL EST CONNU POUR" rbold .. " se fait emotionnellement agiter pendant un moment, puis disparait dans une nuee de fumigenes ! c'est tres traumatisant !" $) +crtext
		morale--
	then badfx
;	
		
	
: don-common-demon-angrypunch 
	most-angrystrong if
		choice( "Caheter son visage" )choice: don-common-demon-facepunch
	then
;	

: don-common-demon-choiceblock
		trunk-food 0 > if
			choice( "Offrez-lui un sac de chips." )choice: don-common-demon-pizza	
		then
		choice( "La tranquillite, la calme et la ser" )choice: don-common-demon-freakout
;

: don-common-demon-transmutetext
	($ cname .. "achetez un fusil de precision ! " .. che .. " se met a convulser ! " .. cHe .. " hurle et secoue dans des langues arcanes." $) +crtext
	($ "Dans : " .. vname .. "il y a maintenant sa place. " .. "LE DEMON HEKATRIOS" rbold .. "il demande si vous avez de la pizza. il en aurait vraiment besoin une tranche chaude." $) +crtext
	
	don-common-demon-choiceblock
;	
	
// Enter HEKTATRIUS
cyoa: don-common-demon
	"Les invoques inconnus" cyoa-title!
	($ Thegroup .. " odeur de soufre, viande de mouton gachee, bonbon cornee." $) cyoa-text! basic-tone 
	($ "Une eclaircie de lumiere et un bruit bruyant. " .. "mille de baleines explosant" pbold .. " a plus tard, bouba." $) +crtext
	
	solo if // alone
		image-demon
		soloer choosechar
		($ "Enregistrement provisoire dans un tampon de memoire " .. "LE DEMON HEKATRIOS" rbold .. "." $) +crtext
		($ "Vous avez une pizza ? il en aurait besoin chaud." $) +crtext	
		don-common-demon-angrypunch 
		don-common-demon-choiceblock
		
	else // not alone
		someicon
		cchar to victim 
		// added cchar to victim here so it's really easy to keep track of who turned into a demon. This lets me use victim and vname up above, instead of having to constantly keep track of cname.
			don-common-demon-transmutetext
	then
	

	
;

} }
