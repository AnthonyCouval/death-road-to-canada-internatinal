
road{ voc{ cyoa-examples

0 value recruitee

: recruit-yes
	cyoa-good-dialog
		recruitee character# cyoa-char-icon!
		($ recruitee .colourname .. "  is IN like FLYNN. Wer ist Flynn uberhaupt." $)
		cyoa-text!

	recruitee .recruit
;
 
: recruit-no
	cyoa-bad-dialog
	($ "'Die Mannschaft schickt leider nicht zu.', // 'The team sends not with us'. " ..
		recruitee .name@ .. " verpackung" $) cyoa-text!
	recruitee char-as-icon 1 cyoa-icon-hint!
;

: recruitment
	cyoa-new
		"'BEGEGNUNG" cyoa-title!

		// Generating a char RIGHT here for example, but we probably
		// should create the chars ahead of time

		char-gen to recruitee
		recruitee character# cyoa-char-icon!

		// TODO: Show some stats info?
		($ "'Ein Autostoppfer, ', // 'A hitchhiker, '. " .. recruitee .colourname .. 
		"', mochte der Gruppe beitreten." $) cyoa-text!

		choice( "'Na gut, ich denke wir konnen noch einen mehr aufnehmen." )choice: recruit-yes // recruitee choosechar
		choice( "'Vergiss es!" )choice: recruit-no
;


// : char-choice-with-handler
//	cyoa-add-char-choice dup cyoa-choice-handler! ;

: char-choice-with-handler
	dup choice( swap .name@ )choice choosechar
	dup cyoa-choice-handler!
;

: cyoa-team-choices-with-handler ( handler -- )
	team-count #team-stack-shuffled
	' char-choice-with-handler foreach
	drop
;


: seeya
	cyoa-bad-dialog
	choicechar-as-icon
	($ "'Auf Wiedersehen, " .. choicechar .name@ .. "... BOOSH!" $) cyoa-text!

	TEAM_STATUS_BAD_LEFT choicechar .decruit
;


: decruitment
	cyoa-new
		"'AUF NIMMERSCHLUND" cyoa-title!

		team-count 1 = if
			($ "'DU KANNST DEN LETZTEN TYP NICHT RAUSSCHMEIßen. Nun, kannst du, aber ich lasse es nicht zu." $)
			cyoa-text!
		then;

		($ "'Es ist Zeit, jemanden rauszuschmeißen, weil Kepa ein BEISPIEL HABEN MOCHTE. Also, wer ist es dann?" $)
			cyoa-text!

		' seeya cyoa-team-choices-with-handler
;

' recruitment 1 hotkey!
' decruitment 2 hotkey!


} }
