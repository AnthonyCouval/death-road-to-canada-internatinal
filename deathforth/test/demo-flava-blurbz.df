
// Called once for each character
: some-bullcrap
	blurbslot 0= if // Conversation starter, then everyone in party responds
		"Das ist BULLCRAP." blurbsay
	else
		rnd5050 if
			blurbslot 2 < if ($ "Ja stimme zu, " .. 1st-char .name@ .. "." $) blurbsay
			then
		else
			STAT_MORALE me .stat--
		then
	then
;

: turn-back // Random first person, random single responder, stuff happens.
	blurbslot 0= if
		"Maybe we should turn back..." blurbsay
	else
		blurbslot 2 < if
			"Moglicherweise sollst du aufhoren zu reden!" blurbsay
			STAT_MORALE me .stat++
			STAT_MORALE 1st-char .stat--
		then
	then
;

: legend-bodybuild
	blurbslot 0= if
		"Ich habe einmal einen Bodybuilder ein Auto bei den Zombies geworfen gesehen!" blurbsay
	else
		blurbslot 2 < if
			rnd5050 if
				($ "Das stimmt nicht, " .. 1st-char .name@ .. "." $) blurbsay
				"'Du bist ein Freak!" blurbsay
				STAT_MORALE 1st-char .stat--
		else
			"Aha!" blurbsay
			STAT_MORALE me .stat++
		then then
	then
;

: whinetopic 1 6 rnd case
	1 of "zombies" endof
	2 of "sie sind schmutzig" endof
	3 of "das Wetter" endof
	4 of "kafer" endof
	5 of "wie jeder ein Dummkopf ist" endof
	6 of ($ me .name@ .. "''Vater" $) endof
	endcase ;

: whiner // Picks two other people, lowers their morale
	blurbslot 0= if
		qmsg ($ me .name@ .. "  jammert unaufhorlich uber " .. whinetopic .. "." $) txt
	else
		blurbslot 3 < if
			STAT_MORALE me .stat--
		then
	then
;

: brooding
	blurbslot 0= if
		qmsg ($ me .name@ .. " broods about a tragic past....." $) txt
	else
		blurbslot 2 < if
			rnd5050 if
			qmsg ($ me .name@ .. "  verdreht die Augen." $) txt then
		then
	then
;

: smalltopic 1 6 rnd case
	1 of "ein altes Haustier" endof
	2 of "Kanada" endof
	3 of "das Wetter" endof
	4 of "dinosaurier" endof
	5 of "der nachste Schritt im Plan" endof
	6 of "etwas Lustiges in der Vergangenheit" endof
	endcase ;

: smalltalk // small chance to raise morale for each member of group
	blurbslot 0= if
		qmsg ($ me .name@ .. "  redet uber " .. smalltopic .. "." $) txt
	else
		15 %chance if
			STAT_MORALE me .stat++
		then
	then
;

: civnoun 1 11 rnd case
	1 of "Twitter" endof
	2 of "fastfood" endof
	3 of "e Mail" endof
	4 of "selfies" endof
	5 of "promi News" endof
	6 of "virale Videos" endof
	7 of "videospiel Streamer" endof
	8 of "das Konzept der Hygiene" endof
	9 of "grob illustrierte Fanfiction" endof
	10 of "imageboards" endof
	11 of "creepypasta" endof
	endcase ;

	: one-line1 "Alles wird gut wenn ich es nach Kanada schaffe." ;
	: one-line2 "Zombies sind kein Problem. Nun, vielleicht ein kleines Problem." ;
	: one-line3 "Rooaaaad triiiiip." ;
	: one-line4 "Alles riecht ganz anders als fruher als Seife noch selten war." ;
	: one-line5 "Hope I don't run into any more bandits..." ;
	: one-line6 ($ "Da die Zivilisation weg ist, vermisse ich meistens nur " .. civnoun .. "." $) ;
	: one-line7 "If only we knew about throwing chairs when the zombies first showed up..." ;
	: one-line8 "I wonder if I could get strong enough to just throw the car at zombies..." ;
	: one-line9 "Sind wir schon da?" ;
	: one-line10 "Let's hope the car doesn't break down..." ;

	deck-new
		card: one-line1
		card: one-line2
		card: one-line3
		card: one-line4
		card: one-line5
		card: one-line6
		card: one-line7
		card: one-line8
		card: one-line9
		card: one-line10
	constant ONE-LINERS
	ONE-LINERS var one-liners

: one-liner // One person says something, no reactions, pulled from a deck
	one-liners depths 0= if ONE-LINERS shuffles to one-liners then
	blurbslot 0= if
		one-liners drawcard blurbsay
	then
;

	deck-new
		card: some-bullcrap
		card: turn-back
		card: legend-bodybuild
		card: whiner
		card: brooding
		card: smalltalk 
		10 cards: one-liner

	constant BLURB-DECK
	BLURB-DECK var blurb-deck