
// This gets saved/loaded for use in misc gamemode logic checks via the gamemode? word
0 value gamemode-word

: gamemode? gamemode-word v= ;

gamedef{

(*
	USAGE:

	The 'gamemode' word contains the current mode in the form of the word set with 'applyword'. To check the current
	mode against a specific mode, use: ' <gamemode word to check> gamemode? if ...

	To call the word for the currently selected mode, use: gamemode execute
*)

: 13diffscalar road{ 1.3 to diff-scalar } ;
: 15diffscalar road{ 1.5 to diff-scalar } ;
: 16diffscalar road{ 1.6 to diff-scalar } ;
: 2diffscalar road{ 2 to diff-scalar } ;
: 3diffscalar road{ 3 to diff-scalar } ;

: ezbandit road{ 1 to easybandit-mode } ;
: specialmode road{ 1 to specialchar-mode } ;
: familiarmode road{ 1 to familiar-mode } ;

: defaultmode
	ezbandit
;

: longroad
	road{ 25 to nearcanada-day }
	ezbandit
;

: specialchars
	specialmode
	ezbandit
;

: familiarchars
	familiarmode
	ezbandit
;

: specialcharsEX
	specialmode
	16diffscalar
;

: familiarcharsEX
	familiarmode
	16diffscalar
;

: make-a-kepa 0 args( charnum )
	char-gen -> charnum ;

: kepamode
	char-gen to recruitee 
	"Kepa" recruitee .name!
	0 recruitee .female!
	0 recruitee .hairtype!
	0 recruitee .bodytype!
	6 recruitee .headtype!
	0 recruitee .torsotype!
	2 recruitee .legstype!
	0 recruitee .facetype!
	1 recruitee .hairtype!
	0 recruitee .hattype!
	0 recruitee .glassestype!
	0 recruitee .specialtype!
	0 recruitee .speed_bonus!
	0 recruitee .skincolour!
	15 recruitee .haircolour!
	1234512345 recruitee .seed!
	"ES KEPA" recruitee .trait!
	($ "te promete un " .. "''cheevo'" fbold .. "  si logras llevarlo a Canada." $) recruitee .job!
	"DISENADOR DE JUEGOS" recruitee .perk!
	WEAPON_CARDBOARD recruitee .weapona!
	5 recruitee .shooting! 5 recruitee .strength! 3 recruitee .fitness!	2 recruitee .morale!
	0 recruitee .wits! 0 recruitee .attitude! 0 recruitee .composure! 0 recruitee .loyalty!
	recruitee .fitnessREV recruitee .strengthREV recruitee .shootingREV
	recruitee .witsREV recruitee .attitudeREV recruitee .temperREV recruitee .loyaltyREV
	1 recruitee .vitality! 1 recruitee .health! recruitee .recruit
	2diffscalar
;

: shortroad
	road{ 9 to nearcanada-day }
	ezbandit
;

: marathonmode
	road{ 30 to nearcanada-day }
	15diffscalar
;

: deadlier
	13diffscalar
;

: endlessmode
	road{ 1000 to nearcanada-day }
	15diffscalar
;

: OPPmode
	3diffscalar
;

: quicknightmare
	road{ 9 to nearcanada-day }
	3diffscalar
;

: 4jerksmode
	ezbandit
	13diffscalar
;

: 4jerksmodeEX
	road{ 2.5 to diff-scalar }
;

: UNLOCKM cr$ .. cr$ .. "DESBLOQUEAR: " rbold ;

: WINSNORM gstats{ wins-normal } dup print 0 > if ($ RED .. "  VICTORIAS: " .. gstats{ wins-normal } $) else "" then ;

: WINSFAM gstats{ wins-family } 0 > if RED .. ($ "  VICTORIAS: " .. gstats{ wins-family } $) else "" then ;
: WINSRARE gstats{ wins-special } 0 > if RED .. ($ "  VICTORIAS: " .. gstats{ wins-special } $) else "" then ;
: WINSSHORT gstats{ wins-short } 0 > if RED .. ($ "  VICTORIAS: " .. gstats{ wins-short } $) else "" then ;
: WINSLONG gstats{ wins-long } 0 > if RED .. ($ "  VICTORIAS: " .. gstats{ wins-long } $) else "" then ;
: WINSDEADLY gstats{ wins-deadlier } 0 > if RED .. ($ "  VICTORIAS: " .. gstats{ wins-deadlier } $) else "" then ;
: WINSRAREEX gstats{ wins-specialEX } 0 > if RED .. ($ "  VICTORIAS: " .. gstats{ wins-specialEX } $) else "" then ;
: WINSFAMEX gstats{ wins-familyEX } 0 > if RED .. ($ "  VICTORIAS: " .. gstats{ wins-familyEX } $) else "" then ;
: WINSMARATHON gstats{ wins-marathon } 0 > if RED .. ($ "  VICTORIAS: " .. gstats{ wins-marathon } $) else "" then ;
: WINSKEPA gstats{ wins-kepa } 0 > if RED .. ($ "  VICTORIAS: " .. gstats{ wins-kepa } $) else "" then ;

// HUMERUS

: endless-win-day 
	gstats{ best-endless } 0 > if "  DIAS: " .. gstats{ best-endless } else "" then
;

: WINSENDLESS gstats{ wins-endless } 0 > if 
	RED .. ($ "  VICTORIAS: " .. gstats{ wins-endless } .. endless-win-day $)
	else 
		gstats{ best-endless } 0 > if RED .. ($ "  MEJOR: " .. gstats{ best-endless } $) 
		else "" then
	then
;
: WINSOPP gstats{ wins-opp } 0 > if RED .. ($ "  VICTORIAS: " .. gstats{ wins-opp } $) else "" then ;
: WINSQUICKDEATH gstats{ wins-quickdeath } 0 > if RED .. ($ "  VICTORIAS: " .. gstats{ wins-quickdeath } $) else "" then ;

// KIDNEY

: WINS4JERKS gstats{ wins-4jerks } 0 > if RED .. ($ "  VICTORIAS: " .. gstats{ wins-4jerks } $) else "" then ;
: WINS4JERKSEX gstats{ wins-4jerksEX } 0 > if RED .. ($ "  VICTORIAS: " .. gstats{ wins-4jerksEX } $) else "" then ;


icons16_id 0x 20 + constant MODE_ICONS

: modedefs init
	($ "Death Road Modo normal" .. WINSNORM $) $mode
		($ "The normal, default game mode.
		Get your skis, pack a toque... we're going to CANADA!
		Most road recruits you find will be random, but sometimes you'll be more lucky." $) $desc
		MODE_ICONS 0 + icon
		' defaultmode applyword
		
	($ "Modo de personajes familiar" .. WINSFAM $) $mode
		"La mayoria de los reclutas que encuentras en la carretera ahora son personajes conocidos, en lugar de aleatorios!		Estos son personajes que has creado y guardado. Hazlo con tus amigos y familiares, y apareceran en el juego!" $desc
		// You can also import other people's characters.
		MODE_ICONS 0x 8 + icon
		' familiarchars applyword	
	
	($ "Modo de personajes raros" .. WINSRARE $) $mode
		"La mayoria de los reclutas que encuentras en la carretera ahora son personajes especiales con habilidades unicas!		Esto suele hacer las cosas un poco mas faciles.		Pero no siempre." $desc
		MODE_ICONS 0x 3 + icon
		' specialchars applyword
		
	($ "Modo corto hasta el infierno" .. WINSSHORT $) $mode
		"Para personas impacientes que quieren un corto camino peligroso!		Toma 9 dias de conduccion para llegar a Canada, en lugar de los 15 dias por defecto.		Mantente atento, esto significa menos dias para prepararse para el final!" $desc
		MODE_ICONS 0x 1 + icon
		' shortroad applyword
		gstats{ wins-normal 1 < wins-special 1 < wins-family 1 < } and and if 1 locked
		"Un modo rapido de 9 dias.		Desbloqueado al superar cualquiera de las dificultades normales. Modo de muerte normal, Modo de personajes familiares o Modo de personajes raros." $desc
		then
		
	($ "Modo largo y sinuoso" .. WINSLONG $) $mode
		"Para las personas que les gusta relajarse y tomarse el tiempo.		Toma 25 dias de conduccion para llegar a Canada, en lugar de los 15 dias habituales.		La progression de dificultad comienza de la misma manera, pero se vuelve mas alta! Al menos tienes mas tiempo para prepararte." $desc
		MODE_ICONS 0x 2 + icon
		' longroad applyword
		gstats{ wins-normal 1 < wins-special 1 < wins-family 1 < } and and if 1 locked
		"Un modo largo de 25 dias.		Desbloqueado al superar cualquiera de las dificultades normales. Modo de muerte normal, Modo de personajes familiares o Modo de personajes raros." $desc
		then

	($ "Modo Cuatro Idiotas" .. WINS4JERKS $) $mode
		"Empiece con hasta 4 personas, si creaste Personajes Personalizados!		Disponible para cooperacion de 4 jugadores o si simplemente quieres un coche lleno al principio.		En compensacion, aproximadamente el 30% mas de zombis se desencadenaran." $desc
		MODE_ICONS 0x 5 + icon
		' 4jerksmode applyword
		
	($ "Modo Carretera Mas Mortal" .. WINSDEADLY $) $mode
		"30% mas de peligro! 30% mas de emocion!		Aproximadamente 30% mas de zombis.		Los bandidos son mas crueles." $desc
		MODE_ICONS 0x 4 + icon
		' deadlier applyword
		gstats{ wins-normal 1 < wins-special 1 < wins-family 1 < } and and if 1 locked
		"Un desafio mas dificil! Puerta de enlace a modos mas dificiles!		Desbloquea al superar cualquiera de las dificultades normales. Modo normal de Death Road, modo de personajes familiares o modo de personajes raros." $desc
		then
		
	($ "Familiar " .. RAINBOW .. "EXTREMO" .. WHITE .. WINSFAMEX $) $mode
		"La mayoria de los reclutas que conoces son personajes familiares!		Asegurate de que tus personajes personalizados sean fuertes y trabajen bien juntos, porque se enfrentaran al 160% de la cantidad habitual de zombis.		Los bandidos son mas crueles." $desc
		MODE_ICONS 0x a + icon
		' familiarcharsEX applyword
		gstats{ wins-deadlier 1 < wins-family 1 < } or if 1 locked
		"Desafio muy dificil con personajes personalizados!		Desbloquealo superando el modo Deadlier Road y el modo Familiar Characters." $desc
		then
				
	($ "Raro " .. RAINBOW .. "EXTREMO" .. WHITE .. WINSRAREEX $) $mode
		"La mayoria de los reclutas que conoces son personajes especiales!		Esto se combina con la cantidad de zombis establecida en 160%. Pueden los personajes unicos que encuentres sobrevivir a gigantescos muros de muertos vivientes?		Los bandidos son mas crueles." $desc
		MODE_ICONS 0x 6 + icon
		' specialcharsEX applyword
		gstats{ wins-deadlier 1 < wins-special 1 < } or if 1 locked
		"Desafio muy dificil con personajes especiales!		Desbloquealo superando el modo Deadlier Road y el modo Rare Characters." $desc
		then
		
	($ "Maraton" fbold .. "los" .. WINSMARATHON $) $mode
		"Un desafio agotador.		Se necesitan 30 dias de conduccion para llegar a Canada, en lugar de los 15 dias habituales. Aproximadamente un mes de dolor!		La cantidad de zombis comienza un 50% mas alta de lo normal y finalmente se duplica. 		Los bandidos son mas crueles." $desc
		MODE_ICONS 0x 9 + icon
		' marathonmode applyword
		gstats{ wins-deadlier 1 < wins-long 1 < } or if 1 locked
		"Desafio extremadamente dificil, con 30 dias de conduccion!		Desbloquealo superando el modo Deadlier Road y el modo Long Winding Road." $desc
		then
		
	($ "K*E*P*A " fbold .. "MODO" .. WINSKEPA $) $mode
		"Kepa Jugador experto modo avanzado.		El doble de zombis, el doble de diversion.		Comienza con un Kepa. NO permitas que Kepa muera. El desafio definitivo.		Los bandidos son mas crueles." $desc
		MODE_ICONS 0x 5 + icon
		' kepamode applyword
		gstats{ wins-specialEX 1 < wins-familyEX 1 < wins-marathon 1 < } or or if 1 locked
		". of players have unlocked this." $desc
		then
		
	($ "Cuatro Idiotas " .. RAINBOW .. "EXTREMO" .. WHITE .. WINS4JERKSEX $) $mode
		"Empieza con un coche lleno de idiotas, ahora con mas zombis!		Aproximadamente un 150 % mas de zombis apareceran. Mas del doble, pero menos del triple!		El enfrentamiento final tendra el doble de zombis de lo normal!		Los bandidos son mas crueles." $desc
		MODE_ICONS 0x 5 + icon
		' 4jerksmodeEX applyword
		gstats{ wins-4jerks 1 < } if 1 locked
		"Jerks x zombies" $desc
		then
		
	($ "INFINITO " fbold .. "MODO" .. WINSENDLESS $) $mode
		"Canada is a myth perpetuated by the former government!
		America extends northward forever! Wake up sheeple!!!
		Travel forever-ish. See how far you can get.
		Bandits are more cruel." $desc
		MODE_ICONS 0x 5 + icon
		' endlessmode applyword
		gstats{ wins-marathon 1 < } if 1 locked
		"X" $desc
		then
		
	($ "O*P*P " rainbold .. "MODO" .. WINSOPP $) $mode
		"Fiesta con superpoderes! El enfrentamiento final dura el doble!		Consigue un comienzo especial que te permite elegir cualquier personaje especial que quieras y otros regalos!		Lucha contra el triple de la cantidad predeterminada de zombis! Los bandidos son mas crueles. Las victorias aqui no cuentan para las rachas!" $desc
		MODE_ICONS 0x 3 + icon
		' OPPmode applyword
		gstats{ wins-specialEX 1 < wins-familyEX 1 < } or if 1 locked
		"Un modo divertido que te permite comenzar con cualquier personaje raro que desees!		Desbloquealo venciendo a Personajes familiares extremos y Personajes raros extremos." $desc
		then
		
	($ "Muerte rapida " fbold .. "MODO" .. WINSQUICKDEATH $) $mode
		"Para cualquiera que quiera morir RAPIDO!		Solo toma 9 dias de conduccion llegar a Canada!		El triple de la cantidad predeterminada de zombis!		Los bandidos son mas crueles." $desc
		MODE_ICONS 0x 1 + icon
		' quicknightmare applyword
		gstats{ wins-deadlier 1 < wins-short 1 < } or if 1 locked
		"Un rapido modo de 9 dias de conduccion, ahora con el triple de zombis!		Desbloquealo venciendo tanto el Modo Camino mas mortal como el Modo Viaje corto al infierno." $desc
		then
		
;

modedefs

}
