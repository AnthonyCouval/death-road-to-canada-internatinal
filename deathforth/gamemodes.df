
// This gets saved/loaded for use in misc gamemode logic checks via the gamemode? word
0 value gamemode-word

: gamemode? gamemode-word v= ;

gamedef{

(*
	USAGE:

	The 'gamemode' word contains the current mode in the form of the word set with 'applyword'. To check the current
	mode against a specific mode, use: ' <gamemode word to check> gamemode? if ...

	To call the word for the currently selected mode, use: gamemode execute
*)

: 13diffscalar road{ 1.3 to diff-scalar } ;
: 15diffscalar road{ 1.5 to diff-scalar } ;
: 16diffscalar road{ 1.6 to diff-scalar } ;
: 2diffscalar road{ 2 to diff-scalar } ;
: 3diffscalar road{ 3 to diff-scalar } ;

: ezbandit road{ 1 to easybandit-mode } ;
: specialmode road{ 1 to specialchar-mode } ;
: familiarmode road{ 1 to familiar-mode } ;

: defaultmode
	ezbandit
;

: longroad
	road{ 25 to nearcanada-day }
	ezbandit
;

: specialchars
	specialmode
	ezbandit
;

: familiarchars
	familiarmode
	ezbandit
;

: specialcharsEX
	specialmode
	16diffscalar
;

: familiarcharsEX
	familiarmode
	16diffscalar
;

: make-a-kepa 0 args( charnum )
	char-gen -> charnum ;

: kepamode
	char-gen to recruitee 
	"Kepa" recruitee .name!
	0 recruitee .female!
	0 recruitee .hairtype!
	0 recruitee .bodytype!
	6 recruitee .headtype!
	0 recruitee .torsotype!
	2 recruitee .legstype!
	0 recruitee .facetype!
	1 recruitee .hairtype!
	0 recruitee .hattype!
	0 recruitee .glassestype!
	0 recruitee .specialtype!
	0 recruitee .speed_bonus!
	0 recruitee .skincolour!
	15 recruitee .haircolour!
	1234512345 recruitee .seed!
	"E KEPA" recruitee .trait!
	($ "ti promette un " .. "''cheevo'" fbold .. "  se lo porti in Canada." $) recruitee .job!
	"PROGETTISTA DI GIOCHI" recruitee .perk!
	WEAPON_CARDBOARD recruitee .weapona!
	5 recruitee .shooting! 5 recruitee .strength! 3 recruitee .fitness!	2 recruitee .morale!
	0 recruitee .wits! 0 recruitee .attitude! 0 recruitee .composure! 0 recruitee .loyalty!
	recruitee .fitnessREV recruitee .strengthREV recruitee .shootingREV
	recruitee .witsREV recruitee .attitudeREV recruitee .temperREV recruitee .loyaltyREV
	1 recruitee .vitality! 1 recruitee .health! recruitee .recruit
	2diffscalar
;

: shortroad
	road{ 9 to nearcanada-day }
	ezbandit
;

: marathonmode
	road{ 30 to nearcanada-day }
	15diffscalar
;

: deadlier
	13diffscalar
;

: endlessmode
	road{ 1000 to nearcanada-day }
	15diffscalar
;

: OPPmode
	3diffscalar
;

: quicknightmare
	road{ 9 to nearcanada-day }
	3diffscalar
;

: 4jerksmode
	ezbandit
	13diffscalar
;

: 4jerksmodeEX
	road{ 2.5 to diff-scalar }
;

: UNLOCKM cr$ .. cr$ .. "SBLOCCA: " rbold ;

: WINSNORM gstats{ wins-normal } dup print 0 > if ($ RED .. "  VITTORIE: " .. gstats{ wins-normal } $) else "" then ;

: WINSFAM gstats{ wins-family } 0 > if RED .. ($ "  VITTORIE: " .. gstats{ wins-family } $) else "" then ;
: WINSRARE gstats{ wins-special } 0 > if RED .. ($ "  VITTORIE: " .. gstats{ wins-special } $) else "" then ;
: WINSSHORT gstats{ wins-short } 0 > if RED .. ($ "  VITTORIE: " .. gstats{ wins-short } $) else "" then ;
: WINSLONG gstats{ wins-long } 0 > if RED .. ($ "  VITTORIE: " .. gstats{ wins-long } $) else "" then ;
: WINSDEADLY gstats{ wins-deadlier } 0 > if RED .. ($ "  VITTORIE: " .. gstats{ wins-deadlier } $) else "" then ;
: WINSRAREEX gstats{ wins-specialEX } 0 > if RED .. ($ "  VITTORIE: " .. gstats{ wins-specialEX } $) else "" then ;
: WINSFAMEX gstats{ wins-familyEX } 0 > if RED .. ($ "  VITTORIE: " .. gstats{ wins-familyEX } $) else "" then ;
: WINSMARATHON gstats{ wins-marathon } 0 > if RED .. ($ "  VITTORIE: " .. gstats{ wins-marathon } $) else "" then ;
: WINSKEPA gstats{ wins-kepa } 0 > if RED .. ($ "  VITTORIE: " .. gstats{ wins-kepa } $) else "" then ;

// HUMERUS

: endless-win-day 
	gstats{ best-endless } 0 > if "  GIORNI: " .. gstats{ best-endless } else "" then
;

: WINSENDLESS gstats{ wins-endless } 0 > if 
	RED .. ($ "  VITTORIE: " .. gstats{ wins-endless } .. endless-win-day $)
	else 
		gstats{ best-endless } 0 > if RED .. ($ "  MIGLIORE: " .. gstats{ best-endless } $) 
		else "" then
	then
;
: WINSOPP gstats{ wins-opp } 0 > if RED .. ($ "  VITTORIE: " .. gstats{ wins-opp } $) else "" then ;
: WINSQUICKDEATH gstats{ wins-quickdeath } 0 > if RED .. ($ "  VITTORIE: " .. gstats{ wins-quickdeath } $) else "" then ;

// KIDNEY

: WINS4JERKS gstats{ wins-4jerks } 0 > if RED .. ($ "  VITTORIE: " .. gstats{ wins-4jerks } $) else "" then ;
: WINS4JERKSEX gstats{ wins-4jerksEX } 0 > if RED .. ($ "  VITTORIE: " .. gstats{ wins-4jerksEX } $) else "" then ;


icons16_id 0x 20 + constant MODE_ICONS

: modedefs init
	($ "Death Road Normal Mode" .. WINSNORM $) $mode
		($ "The normal, default game mode.
		Get your skis, pack a toque... we're going to CANADA!
		Most road recruits you find will be random, but sometimes you'll be more lucky." $) $desc
		MODE_ICONS 0 + icon
		' defaultmode applyword
		
	($ "Familiar Characters Mode" .. WINSFAM $) $mode
		"'La maggior parte delle reclute che incontri per strada ora sono personaggi familiari, invece che casuali!		Questi sono personaggi che hai creato e salvato. Crea i tuoi amici e la tua famiglia e appariranno nel gioco!" $desc
		// You can also import other people's characters.
		MODE_ICONS 0x 8 + icon
		' familiarchars applyword	
	
	($ "Rare Characters Mode" .. WINSRARE $) $mode
		"La maggior parte delle reclute che incontri per strada ora sono personaggi speciali con abilita uniche!		Questo di solito puo rendere le cose un po piu facili.		Ma non sempre." $desc
		MODE_ICONS 0x 3 + icon
		' specialchars applyword
		
	($ "Short Trip to Heck Mode" .. WINSSHORT $) $mode
		"Per le persone impazienti che vogliono una scorciatoia rischiosa!		Ci vogliono 9 giorni di guida per arrivare in Canada, anziche i 15 giorni predefiniti.		Fai attenzione, questo significa meno giorni per prepararti per la fine!" $desc
		MODE_ICONS 0x 1 + icon
		' shortroad applyword
		gstats{ wins-normal 1 < wins-special 1 < wins-family 1 < } and and if 1 locked
		"Una rapida modalita di 9 giorni di guida.		Sblocca battendo una qualsiasi delle difficolta normali. Death Road Normal Mode, Familiar Characters Mode o Rare Characters Mode." $desc
		then
		
	($ "Long Winding Road Mode" .. WINSLONG $) $mode
		"Per le persone che amano rilassarsi e prendersela comoda. Ci vogliono 25 giorni di guida per arrivare in Canada, invece dei soliti 15 giorni. La progressione della difficolta inizia allo stesso modo, ma diventa piu alta! Almeno hai piu tempo per prepararti." $desc
		MODE_ICONS 0x 2 + icon
		' longroad applyword
		gstats{ wins-normal 1 < wins-special 1 < wins-family 1 < } and and if 1 locked
		"Una modalita di guida piu lunga di 25 giorni. Sblocca battendo una qualsiasi delle difficolta normali. Death Road Normal Mode, Familiar Characters Mode o Rare Characters Mode." $desc
		then

	($ "Modalita Quattro Stronzi" .. WINS4JERKS $) $mode
		"Inizia con un massimo di 4 persone, se hai creato personaggi personalizzati! Fatto per la modalita cooperativa a 4 giocatori o se vuoi semplicemente unauto piena allinizio. In cambio, verranno generati circa il 30% di zombi in piu." $desc
		MODE_ICONS 0x 5 + icon
		' 4jerksmode applyword
		
	($ "Modalita Deadlier Road" .. WINSDEADLY $) $mode
		"30% in piu di pericolo! 30% in piu di eccitazione! Circa il 30% in piu di zombi. I banditi sono piu crudeli." $desc
		MODE_ICONS 0x 4 + icon
		' deadlier applyword
		gstats{ wins-normal 1 < wins-special 1 < wins-family 1 < } and and if 1 locked
		"Una sfida piu difficile! Porta alle modalita piu difficili! Sblocca battendo una qualsiasi delle difficolta normali. Death Road Normal Mode, Familiar Characters Mode o Rare Characters Mode." $desc
		then
		
	($ "Familiare " .. RAINBOW .. "ESTREMO" .. WHITE .. WINSFAMEX $) $mode
		"La maggior parte delle reclute che incontri sono personaggi familiari! Assicurati che i tuoi personaggi personalizzati siano forti e lavorino bene insieme, perche dovranno affrontare il 160% della solita quantita di zombi. I banditi sono piu crudeli." $desc
		MODE_ICONS 0x a + icon
		' familiarcharsEX applyword
		gstats{ wins-deadlier 1 < wins-family 1 < } or if 1 locked
		"Sfida molto difficile con personaggi personalizzati! Sblocca battendo sia Deadlier Road Mode che Familiar Characters Mode." $desc
		then
				
	($ "Raro " .. RAINBOW .. "ESTREMO" .. WHITE .. WINSRAREEX $) $mode
		"La maggior parte delle reclute che incontri sono personaggi speciali! Questo e combinato con la quantita di zombi impostata al 160%. Gli unici personaggi che trovi possono sopravvivere a gigantesche mura di non morti? I banditi sono piu crudeli." $desc
		MODE_ICONS 0x 6 + icon
		' specialcharsEX applyword
		gstats{ wins-deadlier 1 < wins-special 1 < } or if 1 locked
		"Sfida molto difficile con personaggi speciali! Sblocca battendo sia Deadlier Road Mode che Rare Characters Mode." $desc
		then
		
	($ "Maratona" fbold .. "loro" .. WINSMARATHON $) $mode
		"Una sfida estenuante. Ci vogliono 30 giorni di guida per arrivare in Canada, invece dei soliti 15 giorni. Circa un mese di dolore! La quantita di zombi inizia con il 50% in piu del normale e alla fine arriva al doppio. I banditi sono piu crudeli." $desc
		MODE_ICONS 0x 9 + icon
		' marathonmode applyword
		gstats{ wins-deadlier 1 < wins-long 1 < } or if 1 locked
		"Italiano" $desc
		then
		
	($ "K*E*P*A " fbold .. "MODA" .. WINSKEPA $) $mode
		"Kepa esperto giocatore modalita avanzata.		Raddoppia gli zombie, raddoppia il divertimento.		Inizia con un Kepa. NON lasciare morire Kepa. La sfida finale.		I banditi sono piu crudeli." $desc
		MODE_ICONS 0x 5 + icon
		' kepamode applyword
		gstats{ wins-specialEX 1 < wins-familyEX 1 < wins-marathon 1 < } or or if 1 locked
		"Lasciate ogni speranza voi chentrate.		Sblocca battendo tutte le difficolta difficili. Personaggi familiari estremi, personaggi rari estremi e modalita maratona." $desc
		then
		
	($ "Quattro stronzi " .. RAINBOW .. "ESTREMO" .. WHITE .. WINS4JERKSEX $) $mode
		"Inizia con unauto piena di stronzi, ora con piu zombi!		Circa il 150% in piu di zombi apparira. Oltre il doppio, non proprio il triplo!		La resa dei conti finale avra il doppio degli zombi normali!		I banditi sono piu crudeli." $desc
		MODE_ICONS 0x 5 + icon
		' 4jerksmodeEX applyword
		gstats{ wins-4jerks 1 < } if 1 locked
		"Piu zombi! Ancora quattro stronzi.		Sblocca battendo la modalita Four Jerks." $desc
		then
		
	($ "INFINITO " fbold .. "MODA" .. WINSENDLESS $) $mode
		"Canada is a myth perpetuated by the former government!
		America extends northward forever! Wake up sheeple!!!
		Travel forever-ish. See how far you can get.
		Bandits are more cruel." $desc
		MODE_ICONS 0x 5 + icon
		' endlessmode applyword
		gstats{ wins-marathon 1 < } if 1 locked
		"Una sfida impossibile senza fine in vista!		Sblocca battendo la modalita Marathon." $desc
		then
		
	($ "O*P*P " rainbold .. "MODA" .. WINSOPP $) $mode
		"Festa super potente! La resa dei conti finale e lunga il doppio!		Ottieni uno speciale inizio che ti consente di scegliere tutti i personaggi speciali che desideri e altri gadget!		Combatti il triplo della quantita di zombi predefinita!! I banditi sono piu crudeli. Le vittorie qui non contano per le serie." $desc
		MODE_ICONS 0x 3 + icon
		' OPPmode applyword
		gstats{ wins-specialEX 1 < wins-familyEX 1 < } or if 1 locked
		"Una modalita per divertimento che ti consente di iniziare con qualsiasi personaggio raro che desideri!		Sblocca battendo Familiar Characters Extreme e Rare Characters Extreme." $desc
		then
		
	($ "Morte rapida " fbold .. "MODA" .. WINSQUICKDEATH $) $mode
		"Per chiunque voglia morire VELOCE!		Ci vogliono solo 9 giorni di guida per arrivare in Canada!		Triplica la quantita di zombi predefinita!!		I banditi sono piu crudeli." $desc
		MODE_ICONS 0x 1 + icon
		' quicknightmare applyword
		gstats{ wins-deadlier 1 < wins-short 1 < } or if 1 locked
		"Una rapida modalita di 9 giorni di guida, ora con il triplo degli zombi!		Sblocca battendo sia la modalita Deadlier Road che la modalita Short Trip to Heck." $desc
		then
		
;

modedefs

}
