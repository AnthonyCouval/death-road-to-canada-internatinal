
// This gets saved/loaded for use in misc gamemode logic checks via the gamemode? word
0 value gamemode-word

: gamemode? gamemode-word v= ;

gamedef{

(*
	USAGE:

	The 'gamemode' word contains the current mode in the form of the word set with 'applyword'. To check the current
	mode against a specific mode, use: ' <gamemode word to check> gamemode? if ...

	To call the word for the currently selected mode, use: gamemode execute
*)

: 13diffscalar road{ 1.3 to diff-scalar } ;
: 15diffscalar road{ 1.5 to diff-scalar } ;
: 16diffscalar road{ 1.6 to diff-scalar } ;
: 2diffscalar road{ 2 to diff-scalar } ;
: 3diffscalar road{ 3 to diff-scalar } ;

: ezbandit road{ 1 to easybandit-mode } ;
: specialmode road{ 1 to specialchar-mode } ;
: familiarmode road{ 1 to familiar-mode } ;

: defaultmode
	ezbandit
;

: longroad
	road{ 25 to nearcanada-day }
	ezbandit
;

: specialchars
	specialmode
	ezbandit
;

: familiarchars
	familiarmode
	ezbandit
;

: specialcharsEX
	specialmode
	16diffscalar
;

: familiarcharsEX
	familiarmode
	16diffscalar
;

: make-a-kepa 0 args( charnum )
	char-gen -> charnum ;

: kepamode
	char-gen to recruitee 
	"Kepa" recruitee .name!
	0 recruitee .female!
	0 recruitee .hairtype!
	0 recruitee .bodytype!
	6 recruitee .headtype!
	0 recruitee .torsotype!
	2 recruitee .legstype!
	0 recruitee .facetype!
	1 recruitee .hairtype!
	0 recruitee .hattype!
	0 recruitee .glassestype!
	0 recruitee .specialtype!
	0 recruitee .speed_bonus!
	0 recruitee .skincolour!
	15 recruitee .haircolour!
	1234512345 recruitee .seed!
	"E KEPA" recruitee .trait!
	($ "promete a voce um " .. "''cheevo'" fbold .. "  se voce levalo para o Canada." $) recruitee .job!
	"DESIGNER DE JOGO" recruitee .perk!
	WEAPON_CARDBOARD recruitee .weapona!
	5 recruitee .shooting! 5 recruitee .strength! 3 recruitee .fitness!	2 recruitee .morale!
	0 recruitee .wits! 0 recruitee .attitude! 0 recruitee .composure! 0 recruitee .loyalty!
	recruitee .fitnessREV recruitee .strengthREV recruitee .shootingREV
	recruitee .witsREV recruitee .attitudeREV recruitee .temperREV recruitee .loyaltyREV
	1 recruitee .vitality! 1 recruitee .health! recruitee .recruit
	2diffscalar
;

: shortroad
	road{ 9 to nearcanada-day }
	ezbandit
;

: marathonmode
	road{ 30 to nearcanada-day }
	15diffscalar
;

: deadlier
	13diffscalar
;

: endlessmode
	road{ 1000 to nearcanada-day }
	15diffscalar
;

: OPPmode
	3diffscalar
;

: quicknightmare
	road{ 9 to nearcanada-day }
	3diffscalar
;

: 4jerksmode
	ezbandit
	13diffscalar
;

: 4jerksmodeEX
	road{ 2.5 to diff-scalar }
;

: UNLOCKM cr$ .. cr$ .. "DESBLOQUEAR: " rbold ;

: WINSNORM gstats{ wins-normal } dup print 0 > if ($ RED .. "  VITORIAS: " .. gstats{ wins-normal } $) else "" then ;

: WINSFAM gstats{ wins-family } 0 > if RED .. ($ "  VITORIAS: " .. gstats{ wins-family } $) else "" then ;
: WINSRARE gstats{ wins-special } 0 > if RED .. ($ "  VITORIAS: " .. gstats{ wins-special } $) else "" then ;
: WINSSHORT gstats{ wins-short } 0 > if RED .. ($ "  VITORIAS: " .. gstats{ wins-short } $) else "" then ;
: WINSLONG gstats{ wins-long } 0 > if RED .. ($ "  VITORIAS: " .. gstats{ wins-long } $) else "" then ;
: WINSDEADLY gstats{ wins-deadlier } 0 > if RED .. ($ "  VITORIAS: " .. gstats{ wins-deadlier } $) else "" then ;
: WINSRAREEX gstats{ wins-specialEX } 0 > if RED .. ($ "  VITORIAS: " .. gstats{ wins-specialEX } $) else "" then ;
: WINSFAMEX gstats{ wins-familyEX } 0 > if RED .. ($ "  VITORIAS: " .. gstats{ wins-familyEX } $) else "" then ;
: WINSMARATHON gstats{ wins-marathon } 0 > if RED .. ($ "  VITORIAS: " .. gstats{ wins-marathon } $) else "" then ;
: WINSKEPA gstats{ wins-kepa } 0 > if RED .. ($ "  VITORIAS: " .. gstats{ wins-kepa } $) else "" then ;

// HUMERUS

: endless-win-day 
	gstats{ best-endless } 0 > if "  DIAS: " .. gstats{ best-endless } else "" then
;

: WINSENDLESS gstats{ wins-endless } 0 > if 
	RED .. ($ "  VITORIAS: " .. gstats{ wins-endless } .. endless-win-day $)
	else 
		gstats{ best-endless } 0 > if RED .. ($ "  MELHOR: " .. gstats{ best-endless } $) 
		else "" then
	then
;
: WINSOPP gstats{ wins-opp } 0 > if RED .. ($ "  VITORIAS: " .. gstats{ wins-opp } $) else "" then ;
: WINSQUICKDEATH gstats{ wins-quickdeath } 0 > if RED .. ($ "  VITORIAS: " .. gstats{ wins-quickdeath } $) else "" then ;

// KIDNEY

: WINS4JERKS gstats{ wins-4jerks } 0 > if RED .. ($ "  VITORIAS: " .. gstats{ wins-4jerks } $) else "" then ;
: WINS4JERKSEX gstats{ wins-4jerksEX } 0 > if RED .. ($ "  VITORIAS: " .. gstats{ wins-4jerksEX } $) else "" then ;


icons16_id 0x 20 + constant MODE_ICONS

: modedefs init
	($ "Death Road Modo Normal" .. WINSNORM $) $mode
		($ "The normal, default game mode.
		Get your skis, pack a toque... we're going to CANADA!
		Most road recruits you find will be random, but sometimes you'll be more lucky." $) $desc
		MODE_ICONS 0 + icon
		' defaultmode applyword
		
	($ "Modo Personagens Familiares" .. WINSFAM $) $mode
		"'A maioria dos recrutas de estrada que voce encontra agora sao personagens familiares, em vez de aleatorios! Esses sao personagens que voce criou e salvou. Faca seus amigos e familiares, e eles aparecerao no jogo!" $desc
		// You can also import other people's characters.
		MODE_ICONS 0x 8 + icon
		' familiarchars applyword	
	
	($ "Modo de Personagens Raros" .. WINSRARE $) $mode
		"Mais viagens de recrutamento na estrada geralmente se encontram agora como personagens especiais com habilidades unicas!		Isso pode ajudar um pouco.		Mas nao sempre." $desc
		MODE_ICONS 0x 3 + icon
		' specialchars applyword
		
	($ "Viagem Curta para o Modo Infernal" .. WINSSHORT $) $mode
		"Para pessoas impacientes que desejam uma curva rapida!		Tem 9 dias de conducao para chegar no Canada, em vez dos 15 dias padrao.		Cuidado, isso significa menos dias para se preparar para o fim!" $desc
		MODE_ICONS 0x 1 + icon
		' shortroad applyword
		gstats{ wins-normal 1 < wins-special 1 < wins-family 1 < } and and if 1 locked
		"Uma rota mais rapida de 9 dias.		Desbloqueada derrotando qualquer uma das dificuldades normais. Death Road Normal Mode, Personagens Familiares Mode ou Rare Characters Mode." $desc
		then
		
	($ "Estrada Longa" .. WINSLONG $) $mode
		"Para pessoas que gostam de se relaxar e levar a seu tempo.		Tem 25 dias de conducao para chegar no Canada, em vez dos 15 dias normais.		A progressao de dificuldade comeca da mesma forma, mas fica mais alta! No minimo, voce tem mais tempo para se preparar." $desc
		MODE_ICONS 0x 2 + icon
		' longroad applyword
		gstats{ wins-normal 1 < wins-special 1 < wins-family 1 < } and and if 1 locked
		"Uma rota mais longa de 25 dias.		Desbloqueada derrotando qualquer uma das dificuldades normais. Death Road Normal Mode, Personagens Familiares Mode ou Rare Characters Mode." $desc
		then

	($ "Modo Quatro Coelhinhos" .. WINS4JERKS $) $mode
		"Comece com ate 4 pessoas, se voce criou Personagens Custom!		Criado para cooperacao de 4 jogadores, ou se voce quiser um carro cheio no inicio.		Em troca, aproximadamente 30% mais zumbis serao gerados." $desc
		MODE_ICONS 0x 5 + icon
		' 4jerksmode applyword
		
	($ "Estrada Mais Mortal" .. WINSDEADLY $) $mode
		"30% mais perigo! 30% mais acao!		Aproximadamente 30% mais zumbis.		Bandidos sao mais crueis." $desc
		MODE_ICONS 0x 4 + icon
		' deadlier applyword
		gstats{ wins-normal 1 < wins-special 1 < wins-family 1 < } and and if 1 locked
		"Uma desafio mais dificil! Caminho para modos mais dificeis!		Desbloqueada derrotando qualquer uma das dificuldades normais. Death Road Normal Mode, Personagens Familiares Mode ou Rare Characters Mode." $desc
		then
		
	($ "Familiar " .. RAINBOW .. "EXTREMO" .. WHITE .. WINSFAMEX $) $mode
		"A maioria dos recrutas que voce encontra sao personagens familiares!		Certifiquese de que seus personagens personalizados sejam fortes e trabalhem bem juntos, porque eles estarao enfrentando 160% da quantidade usual de zumbis.		Bandidos sao mais crueis." $desc
		MODE_ICONS 0x a + icon
		' familiarcharsEX applyword
		gstats{ wins-deadlier 1 < wins-family 1 < } or if 1 locked
		"Desafio muito dificil com personagens personalizados!		Desbloqueie vencendo o Modo Estrada Mais Mortal e o Modo Personagens Familiares." $desc
		then
				
	($ "Raro " .. RAINBOW .. "EXTREMO" .. WHITE .. WINSRAREEX $) $mode
		"A maioria dos recrutas que voce encontra sao personagens especiais!		Isso e combinado com a quantidade de zumbis definida para 160%. Os personagens unicos que voce encontra podem sobreviver a paredes gigantescas de mortosvivos?		Bandidos sao mais crueis." $desc
		MODE_ICONS 0x 6 + icon
		' specialcharsEX applyword
		gstats{ wins-deadlier 1 < wins-special 1 < } or if 1 locked
		"Desafio muito dificil com personagens especiais!		Desbloqueie vencendo o Modo Estrada Mais Mortal e o Modo Personagens Raros." $desc
		then
		
	($ "Maratona" fbold .. "eles" .. WINSMARATHON $) $mode
		"Um desafio cansativo.		Leva 30 dias de conducao para chegar ao Canada, em vez dos habituais 15 dias. Cerca de um mes de dor!		A quantidade de zumbis comeca 50% maior que o normal e, eventualmente, chega ao dobro. 		Bandidos sao mais crueis." $desc
		MODE_ICONS 0x 9 + icon
		' marathonmode applyword
		gstats{ wins-deadlier 1 < wins-long 1 < } or if 1 locked
		"Desafio extremamente dificil, com 30 dias de conducao!		Desbloqueie vencendo o Modo Estrada Mais Mortal e o Modo Estrada Longa e Sinuosa." $desc
		then
		
	($ "K*E*P*A " fbold .. "MODO" .. WINSKEPA $) $mode
		"Kepa Expert Player Advanced Mode.		O dobro de zumbis, o dobro da diversao.		Comece com um Kepa. NaO deixe Kepa morrer. O desafio final.		Bandidos sao mais crueis." $desc
		MODE_ICONS 0x 5 + icon
		' kepamode applyword
		gstats{ wins-specialEX 1 < wins-familyEX 1 < wins-marathon 1 < } or or if 1 locked
		"Abandone toda a esperanca, vos que entrais aqui.		Desbloqueie vencendo todas as dificuldades dificeis. Personagens Familiares Extremo, Personagens Raros Extremo e Modo Maratona." $desc
		then
		
	($ "Quatro Idiotas " .. RAINBOW .. "EXTREMO" .. WHITE .. WINS4JERKSEX $) $mode
		"Comece com um carro cheio de idiotas, agora com mais zumbis!	Cerca de 150% mais zumbis irao aparecer. Mais que o dobro, mas nao o triplo!	O confronto final tera o dobro de zumbis que o normal!	Bandidos sao mais crueis." $desc
		MODE_ICONS 0x 5 + icon
		' 4jerksmodeEX applyword
		gstats{ wins-4jerks 1 < } if 1 locked
		"4" $desc
		then
		
	($ "SEM FIM " fbold .. "MODO" .. WINSENDLESS $) $mode
		"Canada is a myth perpetuated by the former government!
		America extends northward forever! Wake up sheeple!!!
		Travel forever-ish. See how far you can get.
		Bandits are more cruel." $desc
		MODE_ICONS 0x 5 + icon
		' endlessmode applyword
		gstats{ wins-marathon 1 < } if 1 locked
		"Desafio impossivel sem fim em vista!		Desbloqueado derrotando o Modo Maratona." $desc
		then
		
	($ "OPP " rainbold .. "MODO" .. WINSOPP $) $mode
		"Partida Super Poderosa! A ultima batalha e duas vezes mais longa!		Obtenha uma boa saida que permite escolher qualquer personagem especial desejado e outros itens!		Lutar tres vezes a quantidade de zumbis padrao!! Bandidos sao mais crueis. Vitorias aqui nao contam para as sequencias." $desc
		MODE_ICONS 0x 3 + icon
		' OPPmode applyword
		gstats{ wins-specialEX 1 < wins-familyEX 1 < } or if 1 locked
		"Um modo divertido que permite comecar com quaisquer personagens raras desejadas!		Desbloqueado derrotando Familiares Extremos e Personagens Raros Extremos." $desc
		then
		
	($ "Morte Rapida " fbold .. "MODO" .. WINSQUICKDEATH $) $mode
		"Para quem quer morrer RAPIDO!		Apenas leva 9 dias de viagem para chegar no Canada!		Tres vezes a quantidade de zumbis padrao!!		Bandidos sao mais crueis." $desc
		MODE_ICONS 0x 1 + icon
		' quicknightmare applyword
		gstats{ wins-deadlier 1 < wins-short 1 < } or if 1 locked
		"Um modo de conducao rapido de 9 dias, agora com o triplo de zumbis!		Desbloqueie vencendo o Modo Estrada Mortal e o Modo Viagem Curta para o Inferno." $desc
		then
		
;

modedefs

}
