
: branchinfo "Death Road " BRANCHNAME ..
	TEST_BRANCH if " " .. then;
	DEBUG_BUILD if " " .. then;
;

: specialthanks3
	cyoa-start
	"Ringraziamenti speciali" cyoa-title!
	$( "Ringraziamenti speciali: " .. "Jetro K, Kelvin M, Britt S, Mikael B, Lorissa B, Marius W, Hinterland, Per Kristian B, Cybolt, Chankit P, Thomas S, Noel, Matthew C, Dalton H, Sean, Gary M, Richie B, Seth, Brando, Nick E, Fraser W, Mcmotu, Yousif A, Emerson G, Ben S, Dashiell S, Kerri C, Conatus Creative, Adrian A, Nick K, Richie191, Alex V, Luca F, Nerve Software, Ronald G, Ian M" bbold $) text!
	choice( "GRAZIE A TUTTI!" )choice
;

: specialthanks2
	cyoa-start
	"Ringraziamenti speciali" cyoa-title!
	$( "Ringraziamenti speciali: " .. "'Smoochie Walrus, Thadeus 'ilikain' Dietzen, Keith Shepherd, LuiB, Cansin Akcasoy, Chris Lundin, Sir Baldhasir, Joshua Skelton, Matt Rix, AbdulAziz Al Kaboor, James McEneely, Jeff Sulz, Hellblazer1138, Matt 'Zebe' Lee, Gustav Wedholm, Trace, James H, Kirbogon, Dustin Mierau" bbold $) text!
	choice( "MORE... " )choice: specialthanks3
;
	
: specialthanks
	cyoa-start
	"Ringraziamenti speciali" cyoa-title!
	($ "'Death Road to Canada non sarebbe esistito senza tutti i nostri sostenitori di Kickstarter! Ringraziamenti speciali: " .. "MagicalTux" fbold .. "  e " bbold .. "Kevin Clark" fbold .. "'	Lena Cardell, Jonas Winje, Ahmed Al Mutawa	Sean R Parker, Asten Yeo, Black Pants Studio, Christopher Gauss, Arlin 'FeXd' Schaffel, Greg Matyola, Chris 'Rosuav' Angelico, Mr S Zegar, Christopher Wilson" bbold $) text!
	choice( "MORE... " )choice: specialthanks2
;

: infocredits

	cyoa-start
	"Titoli di coda!" cyoa-title!
	($ "Sviluppatore: " .. "Paul Pridham" bbold .. "	Design: " .. "Kepa Auwae" bbold .. "	Artisti: " .. "'G.P. Lackey e 'Conzeit' Camilo Arturo" bbold .. "	Grafica addizionale: " .. "'Sven 'ptoing' Ruthner, Madgarden e Lyndsay Riches" bbold .. "	Musicista: " .. "Joey Grady" bbold .. "  	Supporto aggiuntivo: " .. "P1XL Games, Don Thacker, Jon Auwae" bbold $) text!
	
	
	choice( "Ringraziamenti speciali" )choice: specialthanks
;

defer statsback

: winstotal
	gstats{ 
		wins-normal wins-long wins-special wins-family wins-specialEX 
		wins-familyEX wins-kepa wins-short wins-marathon wins-deadlier
		wins-endless wins-opp wins-quickdeath wins-4jerks wins-4jerksEX
	} + + + + + + + + + + + + + +
;

: backtostats
	choice( "INDIETRO" )choice: statsback
;

: streakstats
	cyoa-start
	"*** WIN STREAK STATS ***" cyoa-title!
	($ "Totale serie di vittorie: " bbold .. gstats{ wins-streak } $) text!
		// ($ "*** Win Streak Stats ***" bbold $) +crtext
		($ "Modalita normale: " bbold .. gstats{ wins-normal-streak } $) +crtext
		($ "   Deadlier Road: " rbold .. gstats{ wins-deadlier-streak } $) +text
				
		($ "Personaggi rari " bbold .. gstats{ wins-special-streak } $) +crtext
		($ "   Rare Chars EX: " rbold .. gstats{ wins-specialEX-streak } $) +text
		
		($ "Caratteri familiari: " bbold .. gstats{ wins-family-streak } $) +crtext
		($ "   Familiar EX: " rbold .. gstats{ wins-familyEX-streak } $) +text
		
		($ "Lungo e tortuoso: " bbold .. gstats{ wins-long-streak } $) +crtext
		($ "   Marathon Mode: " rainbold .. gstats{ wins-marathon-streak } $) +text
		
		($ "Breve viaggio: " bbold .. gstats{ wins-short-streak } $) +crtext
		($ "   K*E*P*A Mode: " fbold .. gstats{ wins-kepa-streak } $) +text
		
		($ "Morte rapida: " rainbold .. gstats{ wins-quickdeath-streak } $) +crtext
		($ "   OverPowered: " rainbold .. gstats{ wins-opp-streak } $) +text
		
		($ "Quattro idioti: " rainbold .. gstats{ wins-4jerks-streak } $) +crtext
		($ "   Four Jerks EX: " rainbold .. gstats{ wins-4jerksEX-streak } $) +text
				
		gstats{ wins-endless-streak } 0 > if ($ "Infinito? Gia giusto: " fbold .. gstats{ wins-endless-streak } $) +crtext then
		// ($ "   Quick Death: " fbold .. gstats{ wins-quickdeath-streak } $) +text
	backtostats
;

defer infoback

: infostats

	cyoa-start
	"STATISTICHE STRADA DELLA MORTE" cyoa-title!
	($ "Bagni aperti: " bbold .. gstats{ toilets-opened } $) text!
	($ "   Zombies splatted: " bbold .. gstats{ total-kills } $) +text
	
	($ "Forza allenata: " bbold .. gstats{ total-str+ } $) +crtext
	($ "   Fitness trained: " bbold .. gstats{ total-fit+ } $) +text
	
	($ "Tiro allenato: " bbold .. gstats{ total-shoot+ } $) +crtext
	($ "   Mechanical trained: " bbold .. gstats{ total-mech+ } $) +text
		
		($ "Medicina allenata: " bbold .. gstats{ total-med+ } $) +crtext
	($ "   Teammates healed: " bbold .. gstats{ total-heal } $) +text
	
	($ "Morti alleate: " bbold .. gstats{ total-dead } $) +crtext
	
	
	($ "Vittorie totali " bbold .. winstotal $) +crtext
	($ "   Total Losses: " bbold .. gstats{ total-losses } $) +text
	($ "Vittorie consecutive " bbold .. gstats{ wins-streak } $) +crtext
	
	choice( "OK" )choice
	// choice( "INDIETRO" )choice: infoback
	// : main-event-do-info - Old, now this would reset the ZOMBO TOWN level
	gstats{ wins-streak } 1 > if 
		choice( "STATISTICHE STREAK" )choice: streakstats
	then
	
;


// FIXME: This is unused
: zombotown-end
	quit-to-title
	gstats{ save }
;

' infostats to statsback

: ztownhelp

cyoa-start
"Indicazioni per Zombo Town" cyoa-title!
"Cose da fare a Zombo Town:" bbold text!
"Ledificio a destra ti consente di visualizzare le tue statistiche e altre informazioni. Ledificio centrale ti consente di potenziare e sbloccare bonus e tratti. Puoi quindi utilizzarli per creare potenti personaggi iniziali o personalizzati!" +crtext 
"Attento allo Gnomo di sblocco!" fbold +crtext

choice( "USCITA" )choice
choice( "INDIETRO" )choice: infoback
// choice( "STATISTICHE" )choice: infostats
// choice( "ZOMBO TOWN" )choice: zombotown

;

: gameinfo 

cyoa-start
"Informazioni su Death Road" cyoa-title!
"Benvenuto su Death Road to Canada!" text! BLUE 
touch_controls@ 1 < if 
	"http://www.deathroadtocanada.com
	Follow us at www.twitter.com/rocketcatgames/
	More news: www.facebook.com/rocketcatgames/" 
else
	"http://www.deathroadtocanada.com
	Leave an App Store review if you enjoy this game!
	Constant news: www.twitter.com/rocketcatgames/"
then .. +crtext 

PURPLE branchinfo .. " " .. pbold RED .. buildstamp .. +crtext

choice( "OK" )choice
choice( "Modalita normale: " )choice: ztownhelp
choice( "CREDITI" )choice: infocredits
// choice( "STATISTICHE" )choice: infostats
// choice( "ZOMBO TOWN" )choice: zombotown

;

' gameinfo to infoback
// last to main-event-do-info

: zombotown 
	
	gstats{ load }
	gamedef{ modedefs }
	
	mission{ 1 to ZOMBOTOWN }
	1 no_time!

	' noop to delete-the-game

	0 saveslot! MAIN_EVENT_NEW main-post-event "events/unlock/zombotown.df" $load-region to-mission 

;

last to main-event-do-info
