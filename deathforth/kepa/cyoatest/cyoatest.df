: .open 1 swap .open! ;
: .close 0 swap .open! ;


// TESTFOOD

: test1 8 1500 tone ;
: testloot 1 LOOT_FOOD addloot ;
: give-food
	cyoa-start
		"'Jatos d'agua?" cyoa-title!
		"Sim, vou comer algo delicioso. " cyoa-text!
		cyoa-add-choice
			' testloot cyoa-choice-handler!
		cyoa-add-choice
			"0x00" cyoa-choice-text!
	cyoa-show
;
: does-nothing
	cyoa-start
		"00 " cyoa-title!
		"Isso nao fez muito." cyoa-text!
		cyoa-add-choice
			"Mas, infelizmente, isso e uma desgraca. " cyoa-choice-text!
	cyoa-show
;
: cyoa-test
	cyoa-start
	"Pelicula comica" cyoa-title!
	"Quereres clicar em um botao?" cyoa-text!
	cyoa-add-choice
		"Que?" cyoa-choice-text!
		' test1 cyoa-choice-handler!
	cyoa-add-choice
		"Im sorry, but Im hungry." cyoa-choice-text!
		' give-food cyoa-choice-handler!
	cyoa-add-choice
		"Claro." cyoa-choice-text!
		' does-nothing cyoa-choice-handler!
	cyoa-show
;
: cyoa-test-fridge cyoa-test .open clear-cyoa ;
: cyoa-fridge fridge noloot ' cyoa-test-fridge cyoa! ; 

// TOILETS

// TEST
: gimme 1 LOOT_COUNT 1- rnd 1 3 rnd addloot ;

: toiletsaying 50 %chance if "Chido " else "'Desolado, nao entendo muito bem o que queres dizer com OH COME ON. Talvez possas especificar um pouco mais?" then ;
: toilet-cyoa nearest ( DUP WAS REMOVED HERE ) .open toiletsaying player .say clear-cyoa ;
// : toilet-cyoa get-loot-act ;
// : noloot LOOT_BULLET loot! 3 amount! ;
: test-toilet-cyoa toilet noloot ' toilet-cyoa cyoa! ;

: zomb-toilet-act nearest dup .open .tpos anchor! 10 zombs
	"DESCULPA, NAO TE DEI CONTO BEM" player .say clear-cyoa ;
: death-toilet toilet noloot ' zomb-toilet-act cyoa! ;

// WISHING TOILET

: toiletwishA
	cyoa-start
		"Riquezas e ouro" cyoa-title!
		"Cai monedas de ouro da camara, seu tesouro se acumula." cyoa-text!
		nearest dup .open .tpos anchor! 10 zombs
	cyoa-show
;
: toiletwishB
	cyoa-start
		"A maldicao terrifica da imortalidade." cyoa-title!
		"Seu corpo se transformou em pedra, assim impedindo eficaz movimento como uma estatua permanente." cyoa-text!
		cyoa-add-choice
			"Claro, seja qual for a circunstancia. " cyoa-choice-text!
			// Turn the character that opened the CYOA gray for rest of game, maybe heal up to max health.
	cyoa-show
;
: toiletwishC
	cyoa-start
		"The power of friendship." cyoa-title!
		"The red divinity looks at me closely. I wouldnt have believed that someone would be interested in me." cyoa-text!
		// I want this one to replace the usually decorative genie that's spawned, and then have it follow you around, punching zombies.
	cyoa-show
;
: toiletwishD
	cyoa-start
		"Surpreendente resposta" cyoa-title!
		"O genio declara: o porao para as criancas da caneta. Depois te rodeia olhando fixamente. " cyoa-text!
		nearest dup .open .tpos anchor! 20 zombs
	cyoa-show
;
: cyoa-toiletwish
	cyoa-start
	"a ablucao dos votos" cyoa-title!
	"Faco o voto que minha viagem seja tranquila e feliz, assim como meus proximos encontros. Obrigado ao genio magico por minha libertacao." cyoa-text!
	cyoa-add-choice
		"Isso nao e vegas, meu amigo. " cyoa-choice-text!
		' toiletwishA cyoa-choice-handler!
	cyoa-add-choice
		"a imortalidade" cyoa-choice-text!
		' toiletwishB cyoa-choice-handler!
	cyoa-add-choice
		"A amizade" cyoa-choice-text!
		' toiletwishC cyoa-choice-handler!
	cyoa-add-choice
		"Real" cyoa-choice-text!
		' toiletwishD cyoa-choice-handler!
	cyoa-show
;
: cyoa-wishing-toilet cyoa-toiletwish .open clear-cyoa ;
: wishing-toilet toilet noloot ' cyoa-wishing-toilet cyoa! ; 

// PIGOUT FRIDGE

: poutloot 3 LOOT_FOOD addloot ;
: poutfridgeA
	cyoa-start
	"Fiesta das confeitarias" cyoa-title!
	"Voce se enche de confeitaria. Voce esta feliz o suficiente com esta decisao." cyoa-text!
	cyoa-add-choice	
		"Urgente tao cheio" cyoa-choice-text!
	// I'd like to make this increase morale for both characters, but make their sprites 30% wider for rest of game.
	cyoa-show
;
: poutfridgeB
	cyoa-start
	"Cogumelo de acucar" cyoa-title!
	"Voce coloca doces em um saco plastico para formar uma bola de massa pegajosa, que deve ser consumivel mais tarde." cyoa-text!
	cyoa-add-choice
		' poutloot cyoa-choice-handler!
	cyoa-show
;
: cyoa-poutfridge
	cyoa-start
	"Um refrigerador delicioso" cyoa-title!
	"Voce realmente deseja fazer isso?" cyoa-text!
	cyoa-add-choice
		"Coma muitos figos de agora em diante." cyoa-choice-text!
		' poutfridgeA cyoa-choice-handler!
	cyoa-add-choice
		"Tente inserir algo em sua mochila." cyoa-choice-text!
		' poutfridgeB cyoa-choice-handler!
	cyoa-show
;
: cyoa-pigout-fridge cyoa-poutfridge .open clear-cyoa ;
: pigout-fridge fridge noloot ' cyoa-pigout-fridge cyoa! ; 

// ZOMBMEAT FRIDGE

: zfridgeloot 7 LOOT_FOOD addloot ;
: zombfridgeA1
	cyoa-start
	"Recompensa inesperada" cyoa-title!
	"Doente sozinho, voce reune uma parte da carne do zumbi. Voce precisara de uma boa historia mais tarde para justificar como chegou a esta carne." cyoa-text!
	cyoa-add-choice	
		' zfridgeloot cyoa-choice-handler!
	// Add a bunch of food, take some morale away from party characters, but also add a flag for an event that happens some random amount of nights later
	cyoa-show
;
: zombfridgeA2
	cyoa-start
	"Mordidas de comida" cyoa-title!
	"Quando voce pega a carne, um zumbi se move. No fundo, outros permanecem em silencio e se aproximam de voce." cyoa-text!
	cyoa-add-choice	
		' testloot nearest dup .open .tpos anchor! 5 zombs cyoa-choice-handler!
	cyoa-show
;
: zfridgeroll 66 %chance if zombfridgeA1 else zombfridgeA2 then ;
: zombfridgeB
	cyoa-start
	"E melhor deixar sozinho." cyoa-title!
	"Eu nao sabia nada disso. Saber que eu nao estava com fome o suficiente para comer a carne dos zumbis me tranquiliza um pouco com relacao a esses acontecimentos " cyoa-text!
	cyoa-add-choice
		"Talvez pior ainda em silencio" cyoa-choice-text!
	// Later add a tiny morale bonus.
	cyoa-show
;
: cyoa-zombfridge
	cyoa-start
	"Geladeira com carne de zumbi" cyoa-title!
	"Voce realmente quer fazer isso?" cyoa-text!
	cyoa-add-choice
		"Traga uma parte cuidadosamente e nao conte a mais ninguem." cyoa-choice-text!
		' zfridgeroll cyoa-choice-handler!
	cyoa-add-choice
		"Ignore isso!" cyoa-choice-text!
		' zombfridgeB cyoa-choice-handler!
	cyoa-show
;
: cyoa-zomb-fridge cyoa-zombfridge .open clear-cyoa ;
: zomb-fridge fridge noloot ' cyoa-zomb-fridge cyoa! ; 

// LOVE TESTER

: ltestskill ;
: ltestgas 50 LOOT_GAS addloot ;
: ltestnames 1 5 rnd case 1 of "um estudante bem construido." endof 2 of "pousada e cafe da manha" endof 3 of "um encontro para ter " endof 4 of "foi libertado." endof 5 of "Un jeune homme joli / Une belle fille agreable" endof endcase ;
: ltestbad 1 5 rnd case 1 of "uma passagem de gas para tras" endof 2 of "uma bebida gelada a base de limonada e xarope de baunilha e chamada de frappe a la vanilla ou frappe ao xarope de baunilha. " endof 3 of "um grande porco que destruiu o equilibrio ou perturbou gravemente a situacao." endof 4 of "um instrumento ou um objeto particular." endof 5 of "um peixe fresco" endof endcase ;
: lovetestend 50 %chance if "Then the love detector emits smoke clouds, before exploding." else "O detector de amor faz um barulho horrivel e depois explode." then ;
: ltestbreak 1 3 rnd case
1 of "fazer golpes na maquina com armas mecanicas." cyoa-text-append 1 LOOT_BULLET addloot ltestskill "forcar" endof
2 of "Retira uma arma de fogo e tritura a maquina com balas." cyoa-text-append 2 LOOT_BULLET addloot ltestskill "limpar" endof
3 of "abra e cuidadosamente uma porta e retire com cuidado os condutores eletricos e circuitos impressos." cyoa-text-append 3 LOOT_BULLET addloot ltestskill "Mecanica" endof endcase ;
// For ltestbreak, currently just using rnd case but I want it to check to see what skills the target doesn't have maxed, then pick one at random to increase. Also check if that character has a gun/melee weapon.
: lovetestboom ;
// Need a line named "teste de amor bum" that makes the love tester object break apart/send the piece flying.
: ltestuse1
	cyoa-start
	"'O teste de l'amour afirma que seu nome e o amor da sua vida." cyoa-text-append ltestnames cyoa-text-append cyoa-text-cr2
	lovetestend cyoa-text-append cyoa-text-cr2 "Uma pessoa chamada cesar obteria portanto 10 pontos de inteligencia." cyoa-text-append
	cyoa-add-choice	
		"BELO = BELO" cyoa-choice-text!
	// Add a handler that increases morale for the person that used it
	cyoa-show
;
: ltestuse2
	cyoa-start
	"'O teste de l'amour afirma que seu nome e o amor da sua vida." cyoa-text-append ltestbad cyoa-text-append cyoa-text-cr2
	"Nome grita com raiva para esta acusacao " cyoa-text-append ltestbreak cyoa-text-cr2 "O nome ja perdeu 15 pontos de moral, mas ganhou 1 " cyoa-text-append ltestskill cyoa-text-append
	// Add a handler that decreases morale for the person that used it, while adding 1 point in a skill.
	// If a skill is full, pick a different skill. If ALL skills are full, provide a different message?
	cyoa-show
;
: ltestsmash1
	cyoa-start
	"O nome grita que nao precisa de ninguem e se lanca na desconstrucao da maquina, pegando ocasionalmente pecas como lembrancas. Recebe dois pedacos de metal reciclado! . . 	50 unidades de gas retiradas por sifonagem! A moralidade do nome diminui em 10 pontos!" cyoa-text!
	// Picks a random character out of your duo to use for the name. Or just uses your only character, if solo. Adds scrap metal to loot.
	cyoa-show
;
: ltestsmash2
	cyoa-start
	"Nome da um grande e desajeitado chute ao lado do dispositivo, o que causa principalmente muita dor no pe de Nome. Um painel cai, revelando que esses antigos testes de amor funcionam com pequenos motores a gas! . . 	50 unidades de gas retiradas por sifonagem! A moralidade de nome diminui em 10 pontos!" cyoa-text!
	cyoa-add-choice
		' ltestgas cyoa-choice-handler!
	// After it picks someone for the name, it then reduces that character's morale by 10.
	cyoa-show
;
: lovetestsmashroll 50 %chance if ltestsmash1 else ltestsmash2 then ;
: lovetestuseroll 50 %chance if ltestuse2 else ltestuse1 then ;
: cyoa-lovetest
	cyoa-start
	"Conecte se a isso" cyoa-title!
	"Aproxime se e pressione o botao central para testar este teste de personalidade." cyoa-text!
	cyoa-add-choice
		"Faca com que [nom1] o use." cyoa-choice-text!
	// I want this to let you pick one of two characters in your mission party, while filling in their names. Then the result works on the character you picked.
		' lovetestuseroll cyoa-choice-handler!
	cyoa-add-choice
		"Faca com que [nom2] o use." cyoa-choice-text!
	// This won't show up if you're solo instead of in a duo.
		' lovetestuseroll cyoa-choice-handler!
	cyoa-add-choice
		"Esmague isso!" cyoa-choice-text!
		' lovetestsmashroll cyoa-choice-handler!
	cyoa-show
;
: cyoa-love-tester cyoa-lovetest clear-cyoa ;
: love-tester fridge noloot ' cyoa-love-tester cyoa! ; 

// GUN SAFE

: safebat baseball 5 LOOT_FOOD addloot ;
: safespatula spatula 5 LOOT_FOOD addloot ;
: safeplacehold1 50 LOOT_GAS addloot ;
: safeplacehold2 6 LOOT_GAS addloot 5 LOOT_MEDICAL addloot ;
: safeblowt blowtorch 20 LOOT_GAS addloot ;
: saferifle rifle 40 LOOT_RIFLE_SHELL addloot ;
: safeshot shotgun 30 LOOT_SHOTGUN_SHELL addloot ;
: saferevo dolt 50 LOOT_BULLET addloot ;
: safeuzi uzi 30 LOOT_BULLET addloot ;

: gunsafe4 1 2 rnd case 
1 of "Fuzil AK 47 sem municao" cyoa-choice-text! ' ak47 endof 
2 of "cinquenta e unidades de gas" cyoa-choice-text! ' safeplacehold1 endof endcase ;
: gunsafe3 1 2 rnd case
1 of "Trapo de oxigenio e vinte unidades de gas" cyoa-choice-text! ' safeblowt endof 
2 of "Seis unidades de gas e cinco remedios." cyoa-choice-text! ' safeplacehold2 endof endcase ;
: gunsafe2 1 3 rnd case 
1 of "Torradeira e cinco latas de comida" cyoa-choice-text! ' safespatula endof 
2 of "Fuzil e quarenta cartuchos" cyoa-choice-text! ' saferifle endof
3 of "Alguem deveria liberar o gas." cyoa-choice-text! ' safeshot endof endcase ;
: gunsafe1 1 3 rnd case 
1 of "Taco de beisebol" cyoa-choice-text! ' safebat endof 
2 of "Um lenco e cinquenta balas de um revolver ou rifle." cyoa-choice-text! ' saferevo endof
3 of "Quedate atras: quedate atras = se ha quedado atras." cyoa-choice-text! ' safeuzi endof endcase ;
// Need example of good way to spawn the weapons just south of the safe
: cyoa-gunsafe
	cyoa-start
	"Voila: voce tem a escolha da sua arma " cyoa-title!
	"uma nova arma brilhante" cyoa-text!
	cyoa-add-choice
		gunsafe2 cyoa-choice-handler!
	cyoa-add-choice
		gunsafe1 cyoa-choice-handler!
	cyoa-add-choice
		gunsafe3 cyoa-choice-handler!
	cyoa-add-choice
		gunsafe4 cyoa-choice-handler!	
	cyoa-show
;
: cyoa-gun-safe cyoa-gunsafe .open clear-cyoa ;
: gun-safe fridge noloot ' cyoa-gun-safe cyoa! ; 

// WEIRD SAFE

: safe50ammo 50 LOOT_BULLET addloot 50 LOOT_RIFLE_SHELL addloot 50 LOOT_SHOTGUN_SHELL addloot ;
: safechain chainsaw 100 LOOT_GAS addloot ;
: safechair 20 for chair scatter next ;
: safeskel 20 for skelscat next ;

: weirdsafe3 "100 litros de gasolina" cyoa-choice-text! ' safechain ;
: weirdsafe2 1 2 rnd case 
1 of "30 cadeiras" cyoa-choice-text! ' safechair endof 
2 of "50 cartuchos de todos os tipos de municao." cyoa-choice-text! ' safe50ammo endof endcase ;
: weirdsafe1 1 2 rnd case 
1 of "Caixa de ferramentas com chave " cyoa-choice-text! ' wrench endof 
2 of "Balde de tonelada" cyoa-choice-text! ' sledge endof endcase ;
// Need example of good way to spawn the weapons just south of the safe
: cyoa-weirdsafe
	cyoa-start
	"Voila: voce tem a escolha da sua arma " cyoa-title!
	"Ce coffre-fort semble vraiment etrange a vous, mais vous ne pouvez pas tout a fait le definir. il s'ouvre soudainement en vous approchant... . 	quelque chose s'ecoule du coffre-fort :" cyoa-text!
	cyoa-add-choice
		 "vinte guindastes esqueleticos " cyoa-choice-text!
		 ' safeskel "Ossos esqueleticos" player .say cyoa-choice-handler!
	cyoa-add-choice
		weirdsafe1 cyoa-choice-handler!
	cyoa-add-choice
		weirdsafe2 cyoa-choice-handler!
	cyoa-add-choice
		weirdsafe3 cyoa-choice-handler!	
	cyoa-show
;
: cyoa-weird-safe cyoa-weirdsafe .open clear-cyoa ;
: weird-safe fridge noloot ' cyoa-weird-safe cyoa! ; 

// GACHAPON

: gachafood1 2 LOOT_FOOD addloot ;
: gachafood2 3 LOOT_FOOD addloot ;
: gachatoys1 ;
: gachabullet 48 LOOT_BULLET addloot ;
: gachaooze "AUUUUUUUUUGH MUTAGENIC OOZE!!!" player .say ;
: gachamegaooze "AUUUUUUUGH COLLECTOR'S OOZE!!!" player .say ;
: gachar ;
: gacharpills "pilhagens." cyoa-text-append 6 LOOT_MEDICAL addloot gachar "seis unidades de suprimentos medicos." ;
: gacharbullets "para o equipamento." cyoa-text-append 48 LOOT_BULLET addloot gachar "oitenta e oito obuses." ;
// BUG: Getting a pistol or uzi from the gun-safe IMMEDIATELY after getting this seems to give way more bullets than it should.
: gacharesource 50 %chance if gacharpills else gacharbullets then ;
: gachafstat ;
: gachastr "GRANDE MUSCULATURA, MUITO FORTE." cyoa-text-append 1 LOOT_BULLET addloot gachafstat "forcar" ;
: gachafit "FLEXIVEL: SUAVE, ADAPTAVEL. " cyoa-text-append 1 LOOT_BULLET addloot gachafstat "esporte de saude ou fitness" ;
: gachashoot "OLHO DA MORTE " cyoa-text-append 1 LOOT_BULLET addloot gachafstat "Competicao de tiro" ;
: gachafigurine 33 %chance if gachastr else 50 %chance if gachafit else gachashoot then then ;
: gachacoin "AAA" ;
// : gachacoin "O nome gira a macaneta um quarto e faz com que as capsulas da maquina saiam a todo golpe." ;
// BUG: The longer gachacoin seems to crash the game with gachamega1 and gachamega3. "AAA" gachacoin doesn't.
: gachabreak 50 %chance if "A cubeta da maquina quebrou, mostrando as capsulas plasticas interiores." else "A maquina se esconde no arroz, oferecendo acesso a todas as capsulas." then ;

: gachamega1
	"As capsulas estao cheias de genetrope eooze que se abrem e sao bebidas de acordo com o nome. Felizmente, porem, este genetrope e uma edicao limitada e de colecionador!" cyoa-text-append
	cyoa-add-choice
		' gachamegaooze cyoa-choice-handler!
	// Adds 1 strength to this character. If strength is maxed, add a point of fitness instead. If that's also maxed, do nothing.
	cyoa-show
;
: gachamega2
	"alguns graos de arroz ou de trigo" cyoa-text-append gacharesource
	" ' ' Um jogo de dados para brinquedos infantis. 		 " cyoa-text-append gachar cyoa-text-append
	cyoa-show
;
: gachamega3
	"Os sacos estao cheios de estatuetas dudebros. Nom encontrou uma edicao limitada ultra rara sr." cyoa-text-append gachafigurine
	" ' ' o espirito de colecionismo de nomes sobe em 10 e o espirito de nomes de colecionador aumenta cada um em 10." cyoa-text-append gachafstat cyoa-text-append " ' ' esta definitivamente aumentado em 1 !" cyoa-text-append
	cyoa-add-choice
		"Muito bonito" cyoa-choice-text!
	cyoa-show
;
: gacha1
	"Todos ganham cinco pontos de moralidade ! " cyoa-text-append
	cyoa-add-choice
		"OBRIGADO POR ESTA RECOMPENSE." cyoa-choice-text!
		' gachatoys1 cyoa-choice-handler!
	// Food and morale 
	cyoa-show
;
: gacha2
	"Voce obteve tres unidades de alimentacao. A tropa ganha assim cinco pontos de moralidade cada um." cyoa-text-append
	cyoa-add-choice
		' gachafood2 cyoa-choice-handler!
	// Food and morale 
	cyoa-show
;
: gacha3
	"Esta capsula continha todos os gooches mutagenicos, era muito na moda entre as criancas antes do governo retira los do mercado novamente." cyoa-text-append
	cyoa-add-choice
		' gachaooze cyoa-choice-handler!
	// Turns the character you used to open it green.
	cyoa-show
;
: gacha4
	"Voce ganhou 2 unidades de comida!" cyoa-text-append
	cyoa-add-choice
		' gachafood1 cyoa-choice-handler!
	// After it picks someone for the name, it then reduces that character's morale by 10.
	cyoa-show
;
: gachaspecial cyoa-start gachacoin cyoa-text-append cyoa-text-cr2 1 3 rnd case 1 of gachamega1 endof 2 of gachamega2 endof 3 of gachamega3 endof endcase ;
: gacharoll cyoa-start gachabreak cyoa-text-append cyoa-text-cr2 1 4 rnd case 1 of gacha1 endof 2 of gacha2 endof 3 of gacha3 endof 4 of gacha4 endof endcase ;
: cyoa-gachapon
	cyoa-start
	"Maquina de capsulas de recompensas" cyoa-title!
	"'E uma maquina de venda automatica de capsulas de brinquedo. O visor esta apagado, entao nao ha como saber o que ha dentro das capsulas antes de abrir uma." cyoa-text!
	cyoa-add-choice
		"Pontos ganhos para os zumbis! " cyoa-choice-text!
		' gacharoll cyoa-choice-handler!
	cyoa-add-choice
		"Insira um quarto de euro." cyoa-choice-text!
	// Check if you have a quarter, get it from a previous CYOA event. If you don't have one, replaces this with a "empurre a maquina ao lado dela." option that is the same as "E jogado fora por".
		' gachaspecial cyoa-choice-handler!
	cyoa-show
;
: cyoa-gacha-pon cyoa-gachapon clear-cyoa ;
: gacha-pon fridge noloot ' cyoa-gacha-pon cyoa! ; 

// STRANGE COMPUTER

// Too much text, gets cut off for Strangehack1 and 2.
: strangehack1 
	cyoa-start
	"Cet programme a ete une secret tenu sous verrou pour plus de 30 ans et il est toujours cache sur chaque ordinateur.\" cyoa-text!
	// If full on strength, give different message and 15 morale instead.
	cyoa-show
; 
: strangehack2 
	cyoa-start
	"Of course the *regular* internet went down after civilization died off... but the Secret Hacker's Cyberspace internet is still alive and well.
	You browse www.friendlydads.SHC for the latest tips on grilling and firearms maintenance.
	Two hours pass! NAME gets 10 morale and 1 extra shooting skill! " cyoa-text!
	// If shooting skill is maxed, get 15 morale instead.
	cyoa-show
;
: strangehack3 
	cyoa-start
	"You do a SSHL/TCUP reverse loop into the Secret Hacker's Cyberspace and download the savvy hacker's favorite: ANARCHYGUIDE.TXT. Brushing up on it refreshes some of your skills!
	Four hours pass! NAME gets 1 point in Mechanics and Shooting!" cyoa-text!
	// Random selection of skills to give one point in
	cyoa-show
;  
: strangehack4 
	cyoa-start
	"> corrupcao de memoria detectada, memoria inacessivel. programa parado." cyoa-text!
	cyoa-add-choice
	"??????" cyoa-choice-text!
	// Increases that character's stats to max, but adds a flag that makes the character have worse "a coletaneja de zumbis" until they glitch out of existence.
	cyoa-show
; 
: strangecomphack 
	cyoa-start
	"VOLUNTEIRO NA ZONA DE HACKAGEM." cyoa-title!
	"Teve sucesso ao hackear o servidor principal apos ter cruzado um labirinto 3D complexo cheio de programas de seguranca de arame farpado." cyoa-text!
	cyoa-add-choice
		"Aquecendo" cyoa-choice-text!
		' strangehack1 cyoa-choice-handler!
	cyoa-add-choice
		"Navegue pela INTERNET." cyoa-choice-text!
		' strangehack2 cyoa-choice-handler!
	cyoa-add-choice
		"ANARCHYGUIDE.TXT" cyoa-choice-text!
		' strangehack3 cyoa-choice-handler!
	cyoa-add-choice
		"BATE RELOJO INFLAVEL PARA PISCINA" cyoa-choice-text!
	// Check for the even higher wits for the last two choices, or possibly flags for COMPUTER HACKER as a character background
		' strangehack4 cyoa-choice-handler!
	cyoa-show
;
: oldpcend cyoa-text-append cyoa-text-cr2 "A moral de nome e nome ganha 5 pontos!" cyoa-text-append cyoa-show 1 LOOT_BULLET addloot ;
: oldpcdesc cyoa-start "Um dia, nome e nome se divertem jogando um velho jogo de computador agradavelmente desviado. porem passa o tempo." cyoa-text-append cyoa-text-cr2 ;
// MAKE AN HOUR PASS
: oldpcdesc1 oldpcdesc "Jogo em que controlas uma serpente que come numeros. cada vez que comes um numero, a serpente se alarga." oldpcend ;
: oldpcdesc2 oldpcdesc "O jogo te obrigava a digitar numeros para determinar a trajetoria que o macaco usou para arremessar uma banana." oldpcend ;
: oldpcdesc3 oldpcdesc "Para evitar colisoes com animais, era necessario mudar de rota no carro tocando apenas um botao." oldpcend ;
// NOTE: IF the descriptions get any longer than they are now, the game crashes when trying to load them.
: cyoa-strangecomputer
	cyoa-start
	"Computador estranho" cyoa-title!
	"Este computador antigo funciona sem fonte de energia aparente. Isso parece inexplicavel. No entanto, e possivel que fontes de energia nao convencionais estejam envolvidas, como energia estatica ou magnetismo. E importante tomar precaucoes antes de interagir com o computador para evitar qualquer dano potencial. Uma analise detalhada e necessaria para entender esse fenomeno." cyoa-text!
	cyoa-add-choice
		"E UM PROGRAMA BASIC COM O NOME DE NIBBLES.BAS." cyoa-choice-text!
		' oldpcdesc1 cyoa-choice-handler!
	cyoa-add-choice
		"COMEDOR DE HOSPITAL" cyoa-choice-text!
		' oldpcdesc2 cyoa-choice-handler!
	// Look into a way to only show 2 options, picked randomly from a list of 4?
	cyoa-add-choice
		"ATIRAR: USAR UMA ARMA DE FOGO" cyoa-choice-text!
		' oldpcdesc3 cyoa-choice-handler!
	cyoa-add-choice
		"[USE COM CUIDADO SUAS HABILIDADES DE HACKER DE ELITE]" cyoa-choice-text!
	// Check for the highest WITS stat in your party. Add extra options if it's high enough.
		' strangecomphack cyoa-choice-handler!
	cyoa-show
;
: cyoa-strange-computer cyoa-strangecomputer clear-cyoa ;
: strange-computer fridge noloot ' cyoa-strange-computer cyoa! ;

: cyoatest1 zomb-fridge ;
: cyoatest2 love-tester ;
: cyoatest3 pigout-fridge ;
: cyoatest4 wishing-toilet ;
: cyoatest5 gun-safe ;
: cyoatest6 weird-safe ;
: cyoatest7 gacha-pon ;
: cyoatest8 strange-computer ;

load? kepa/cyoatest/testregion.df
load? kepa/cyoatest/testlocation.df
