: .open 1 swap .open! ;
: .close 0 swap .open! ;


// TESTFOOD

: test1 8 1500 tone ;
: testloot 1 LOOT_FOOD addloot ;
: give-food
	cyoa-start
		"'Jatos de agua?" cyoa-title!
		"Sim, eu vou comer algo delicioso. " cyoa-text!
		cyoa-add-choice
			' testloot cyoa-choice-handler!
		cyoa-add-choice
			"0x00" cyoa-choice-text!
	cyoa-show
;
: does-nothing
	cyoa-start
		"00 " cyoa-title!
		"Isso nao fez muito." cyoa-text!
		cyoa-add-choice
			"Mas infelizmente, isso e uma desgraca. " cyoa-choice-text!
	cyoa-show
;
: cyoa-test
	cyoa-start
	"Filme de comedia" cyoa-title!
	"Voce quer clicar em um botao?" cyoa-text!
	cyoa-add-choice
		"O que?" cyoa-choice-text!
		' test1 cyoa-choice-handler!
	cyoa-add-choice
		"Sinto muito, mas estou com fome." cyoa-choice-text!
		' give-food cyoa-choice-handler!
	cyoa-add-choice
		"Claro." cyoa-choice-text!
		' does-nothing cyoa-choice-handler!
	cyoa-show
;
: cyoa-test-fridge cyoa-test .open clear-cyoa ;
: cyoa-fridge fridge noloot ' cyoa-test-fridge cyoa! ; 

// TOILETS

// TEST
: gimme 1 LOOT_COUNT 1- rnd 1 3 rnd addloot ;

: toiletsaying 50 %chance if "Legal. " else "'Sinto muito, nao entendi muito bem o que voce quis dizer com 'OH COME ON'. Talvez voce possa especificar um pouco mais?" then ;
: toilet-cyoa nearest ( DUP WAS REMOVED HERE ) .open toiletsaying player .say clear-cyoa ;
// : toilet-cyoa get-loot-act ;
// : noloot LOOT_BULLET loot! 3 amount! ;
: test-toilet-cyoa toilet noloot ' toilet-cyoa cyoa! ;

: zomb-toilet-act nearest dup .open .tpos anchor! 10 zombs
	"DESCULPE, EU NaO ENTENDI BEM" player .say clear-cyoa ;
: death-toilet toilet noloot ' zomb-toilet-act cyoa! ;

// WISHING TOILET

: toiletwishA
	cyoa-start
		"'Riquezas e ouro'" cyoa-title!
		"'Voce cai monedas de ouro da caixaforte, seu tesouro se acumula.'" cyoa-text!
		nearest dup .open .tpos anchor! 10 zombs
	cyoa-show
;
: toiletwishB
	cyoa-start
		"'A maldicao terrifica da imortalidade.'" cyoa-title!
		"'Seu corpo se transformou em pedra, assim impedindo eficazmente o movimento como uma estatua permanente.'" cyoa-text!
		cyoa-add-choice
			"'Por certo, independentemente das circunstancias. ' " cyoa-choice-text!
			// Turn the character that opened the CYOA gray for rest of game, maybe heal up to max health.
	cyoa-show
;
: toiletwishC
	cyoa-start
		"'A forca da amizade.'" cyoa-title!
		"'A divindade vermelha me olha de perto. Nao teria imaginado que alguem se interessasse por mim.'" cyoa-text!
		// I want this one to replace the usually decorative genie that's spawned, and then have it follow you around, punching zombies.
	cyoa-show
;
: toiletwishD
	cyoa-start
		"'Resposta surpreendente'" cyoa-title!
		"'O genio declara: o basement aos criancas da pluma. Depois te rodeia olhandote fixamente. ' " cyoa-text!
		nearest dup .open .tpos anchor! 20 zombs
	cyoa-show
;
: cyoa-toiletwish
	cyoa-start
	"'A limpeza dos votos'" cyoa-title!
	"'Eu faco o voto que meu viagem reste tranquilo e feliz, assim como minhas proximas encontros. Obrigado ao genio magico por minha libertacao.'" cyoa-text!
	cyoa-add-choice
		"'Isso nao e Vegas, meu amigo. ' " cyoa-choice-text!
		' toiletwishA cyoa-choice-handler!
	cyoa-add-choice
		"immortality" cyoa-choice-text!
		' toiletwishB cyoa-choice-handler!
	cyoa-add-choice
		"A amizade" cyoa-choice-text!
		' toiletwishC cyoa-choice-handler!
	cyoa-add-choice
		"Nao, sou um assistente de linguagem programado. Nao sou nem bom nem mau, nao tenho sentimentos e nao posso ser um genio do mal antigo porque existo no mundo digital e nao no mundo" cyoa-choice-text!
		' toiletwishD cyoa-choice-handler!
	cyoa-show
;
: cyoa-wishing-toilet cyoa-toiletwish .open clear-cyoa ;
: wishing-toilet toilet noloot ' cyoa-wishing-toilet cyoa! ; 

// PIGOUT FRIDGE

: poutloot 3 LOOT_FOOD addloot ;
: poutfridgeA
	cyoa-start
	"Festa de doces" cyoa-title!
	"Voce se enche de doces. Voce esta feliz o suficiente com esta decisao." cyoa-text!
	cyoa-add-choice	
		"Urgente tao cheio" cyoa-choice-text!
	// I'd like to make this increase morale for both characters, but make their sprites 30% wider for rest of game.
	cyoa-show
;
: poutfridgeB
	cyoa-start
	"Cogumelo de acucar" cyoa-title!
	"Voce coloca doces em um saco plastico para formar uma bola de massa pegajosa, que deve ser consumivel mais tarde." cyoa-text!
	cyoa-add-choice
		' poutloot cyoa-choice-handler!
	cyoa-show
;
: cyoa-poutfridge
	cyoa-start
	"Uma geladeira deliciosa" cyoa-title!
	"Voce realmente quer fazer isso?" cyoa-text!
	cyoa-add-choice
		"Coma muitos figos de agora em diante." cyoa-choice-text!
		' poutfridgeA cyoa-choice-handler!
	cyoa-add-choice
		"Tente inserir algo em sua mochila." cyoa-choice-text!
		' poutfridgeB cyoa-choice-handler!
	cyoa-show
;
: cyoa-pigout-fridge cyoa-poutfridge .open clear-cyoa ;
: pigout-fridge fridge noloot ' cyoa-pigout-fridge cyoa! ; 

// ZOMBMEAT FRIDGE

: zfridgeloot 7 LOOT_FOOD addloot ;
: zombfridgeA1
	cyoa-start
	"Recompensa inesperada" cyoa-title!
	"Doente sozinho, voce reune uma parte da carne do zumbi. Voce precisara de uma boa historia mais tarde para justificar como chegou a essa carne." cyoa-text!
	cyoa-add-choice	
		' zfridgeloot cyoa-choice-handler!
	// Add a bunch of food, take some morale away from party characters, but also add a flag for an event that happens some random amount of nights later
	cyoa-show
;
: zombfridgeA2
	cyoa-start
	"Mordidas de comida" cyoa-title!
	"When you take the meat, a zombie starts moving. In the background, others remain silent and approach you." cyoa-text!
	cyoa-add-choice	
		' testloot nearest dup .open .tpos anchor! 5 zombs cyoa-choice-handler!
	cyoa-show
;
: zfridgeroll 66 %chance if zombfridgeA1 else zombfridgeA2 then ;
: zombfridgeB
	cyoa-start
	"Its better to leave it alone." cyoa-title!
	"I didnt know anything about this. Knowing that I wasnt hungry enough to eat the meat of the zombies calms me down a bit about these events. " cyoa-text!
	cyoa-add-choice
		"Maybe worse in silence" cyoa-choice-text!
	// Later add a tiny morale bonus.
	cyoa-show
;
: cyoa-zombfridge
	cyoa-start
	"Refrigerator with zombie meat" cyoa-title!
	"Do you really want to do that?" cyoa-text!
	cyoa-add-choice
		"Bring carefully a part and dont tell anyone else." cyoa-choice-text!
		' zfridgeroll cyoa-choice-handler!
	cyoa-add-choice
		"Ignore it!" cyoa-choice-text!
		' zombfridgeB cyoa-choice-handler!
	cyoa-show
;
: cyoa-zomb-fridge cyoa-zombfridge .open clear-cyoa ;
: zomb-fridge fridge noloot ' cyoa-zomb-fridge cyoa! ; 

// LOVE TESTER

: ltestskill ;
: ltestgas 50 LOOT_GAS addloot ;
: ltestnames 1 5 rnd case 1 of "um estudante bem construido." endof 2 of "pensao e desjejum" endof 3 of "uma data que ter " endof 4 of "se deixou livre." endof 5 of "Un jeune homme joli / Une belle fille agreable" endof endcase ;
: ltestbad 1 5 rnd case 1 of "um passageiro de gas atras" endof 2 of "uma bebida gelada baseada em limonada e xarope de vainilla se chama uma ‘frappe a vainilla’ ou ‘frappe ao xarope de vainilla’. " endof 3 of "um grande porco que destruiu a equilibrio ou perturbou gravemente a situacao." endof 4 of "um instrumento ou um objeto particular." endof 5 of "um peixe fresco" endof endcase ;
: lovetestend 50 %chance if "Depois o detectador de amor emite nuvens de fumaca, antes de explodir." else "O detector de amor faz um horrivel barulho de chirridos e entao explode." then ;
: ltestbreak 1 3 rnd case
1 of "bater no dispositivo com armas mecanicas." cyoa-text-append 1 LOOT_BULLET addloot ltestskill "force" endof
2 of "Remove a firearm and crush the machine with bullets." cyoa-text-append 2 LOOT_BULLET addloot ltestskill "clean" endof
3 of "open and carefully remove a door and carefully remove the electrical conductors and printed circuits." cyoa-text-append 3 LOOT_BULLET addloot ltestskill "Mechanics" endof endcase ;
// For ltestbreak, currently just using rnd case but I want it to check to see what skills the target doesn't have maxed, then pick one at random to increase. Also check if that character has a gun/melee weapon.
: lovetestboom ;
// Need a line named "teste de amor boom" that makes the love tester object break apart/send the piece flying.
: ltestuse1
	cyoa-start
	"The love test affirms that your name is the love of your life." cyoa-text-append ltestnames cyoa-text-append cyoa-text-cr2
	lovetestend cyoa-text-append cyoa-text-cr2 "10" cyoa-text-append
	cyoa-add-choice	
		"BELO = BEAUTIFUL" cyoa-choice-text!
	// Add a handler that increases morale for the person that used it
	cyoa-show
;
: ltestuse2
	cyoa-start
	"The love test affirms that your name is the love of your life." cyoa-text-append ltestbad cyoa-text-append cyoa-text-cr2
	" Nom grita en colera a esta acusacion. " cyoa-text-append ltestbreak cyoa-text-cr2 "O nome ja perdeu 15 pontos de moral, mas ganhou 1. " cyoa-text-append ltestskill cyoa-text-append
	// Add a handler that decreases morale for the person that used it, while adding 1 point in a skill.
	// If a skill is full, pick a different skill. If ALL skills are full, provide a different message?
	cyoa-show
;
: ltestsmash1
	cyoa-start
	"O nome grita que nao precisa de ninguem e se lanca na desconstrucao da maquina, pegando ocasionalmente pecas como lembrancas. Recebe dois pedacos de metal reciclado! . . 	50 unidades de gas retiradas por sifonagem! A moralidade do nome diminui em 10 pontos!" cyoa-text!
	// Picks a random character out of your duo to use for the name. Or just uses your only character, if solo. Adds scrap metal to loot.
	cyoa-show
;
: ltestsmash2
	cyoa-start
	"Name da um grande e desajeitado chute na lateral do dispositivo, o que causa principalmente muita dor no pe de Name. Um painel cai, revelando que esses velhos testes de amor funcionam com pequenos motores a gas! . . 	50 unidades de gas retiradas por sifonagem! A moralidade do nome diminui em 10 pontos!" cyoa-text!
	cyoa-add-choice
		' ltestgas cyoa-choice-handler!
	// After it picks someone for the name, it then reduces that character's morale by 10.
	cyoa-show
;
: lovetestsmashroll 50 %chance if ltestsmash1 else ltestsmash2 then ;
: lovetestuseroll 50 %chance if ltestuse2 else ltestuse1 then ;
: cyoa-lovetest
	cyoa-start
	"Conectese a isso" cyoa-title!
	"Aproximemse e pressionem o botao central para testar este teste de personalidade." cyoa-text!
	cyoa-add-choice
		"Faca com que [nom1] o use." cyoa-choice-text!
	// I want this to let you pick one of two characters in your mission party, while filling in their names. Then the result works on the character you picked.
		' lovetestuseroll cyoa-choice-handler!
	cyoa-add-choice
		"Faca com que [nom2] o use." cyoa-choice-text!
	// This won't show up if you're solo instead of in a duo.
		' lovetestuseroll cyoa-choice-handler!
	cyoa-add-choice
		"Esmague isso!" cyoa-choice-text!
		' lovetestsmashroll cyoa-choice-handler!
	cyoa-show
;
: cyoa-love-tester cyoa-lovetest clear-cyoa ;
: love-tester fridge noloot ' cyoa-love-tester cyoa! ; 

// GUN SAFE

: safebat baseball 5 LOOT_FOOD addloot ;
: safespatula spatula 5 LOOT_FOOD addloot ;
: safeplacehold1 50 LOOT_GAS addloot ;
: safeplacehold2 6 LOOT_GAS addloot 5 LOOT_MEDICAL addloot ;
: safeblowt blowtorch 20 LOOT_GAS addloot ;
: saferifle rifle 40 LOOT_RIFLE_SHELL addloot ;
: safeshot shotgun 30 LOOT_SHOTGUN_SHELL addloot ;
: saferevo dolt 50 LOOT_BULLET addloot ;
: safeuzi uzi 30 LOOT_BULLET addloot ;

: gunsafe4 1 2 rnd case 
1 of "Fuzil AK-47 sem municao" cyoa-choice-text! ' ak47 endof 
2 of "cinquenta e unidades de gas" cyoa-choice-text! ' safeplacehold1 endof endcase ;
: gunsafe3 1 2 rnd case
1 of "Pano de oxigenio e vinte unidades de gas" cyoa-choice-text! ' safeblowt endof 
2 of "Seis unidades de gas e cinco medicamentos." cyoa-choice-text! ' safeplacehold2 endof endcase ;
: gunsafe2 1 3 rnd case 
1 of "Torradeira e cinco latas de comida" cyoa-choice-text! ' safespatula endof 
2 of "Fuzil e quarenta cartuchos" cyoa-choice-text! ' saferifle endof
3 of "Someone should release the gas." cyoa-choice-text! ' safeshot endof endcase ;
: gunsafe1 1 3 rnd case 
1 of "Baseball bat" cyoa-choice-text! ' safebat endof 
2 of "Pano de mao e cinquenta balas de revolver ou fuzil." cyoa-choice-text! ' saferevo endof
3 of "Fique atras: Fique atras = se tenha ficado atras." cyoa-choice-text! ' safeuzi endof endcase ;
// Need example of good way to spawn the weapons just south of the safe
: cyoa-gunsafe
	cyoa-start
	"Voila: voce tem a escolha de sua arma. " cyoa-title!
	"uma nova arma brilhante" cyoa-text!
	cyoa-add-choice
		gunsafe2 cyoa-choice-handler!
	cyoa-add-choice
		gunsafe1 cyoa-choice-handler!
	cyoa-add-choice
		gunsafe3 cyoa-choice-handler!
	cyoa-add-choice
		gunsafe4 cyoa-choice-handler!	
	cyoa-show
;
: cyoa-gun-safe cyoa-gunsafe .open clear-cyoa ;
: gun-safe fridge noloot ' cyoa-gun-safe cyoa! ; 

// WEIRD SAFE

: safe50ammo 50 LOOT_BULLET addloot 50 LOOT_RIFLE_SHELL addloot 50 LOOT_SHOTGUN_SHELL addloot ;
: safechain chainsaw 100 LOOT_GAS addloot ;
: safechair 20 for chair scatter next ;
: safeskel 20 for skelscat next ;

: weirdsafe3 "cem litros de gasolina" cyoa-choice-text! ' safechain ;
: weirdsafe2 1 2 rnd case 
1 of "trinta cadeiras" cyoa-choice-text! ' safechair endof 
2 of "cinquenta balas de todos os tipos de municao." cyoa-choice-text! ' safe50ammo endof endcase ;
: weirdsafe1 1 2 rnd case 
1 of "Caixa de ferramentas com chave " cyoa-choice-text! ' wrench endof 
2 of "Cubo de tonelada" cyoa-choice-text! ' sledge endof endcase ;
// Need example of good way to spawn the weapons just south of the safe
: cyoa-weirdsafe
	cyoa-start
	"Voila: voce tem a escolha de sua arma. " cyoa-title!
	"Ce coffre-fort semble vraiment etrange a vous, mais vous ne pouvez pas tout a fait le definir. il s'ouvre soudainement en vous approchant... . 	quelque chose s'ecoule du coffre-fort :" cyoa-text!
	cyoa-add-choice
		 "vinte gruas esqueleticas " cyoa-choice-text!
		 ' safeskel "Ossoes esqueleticos" player .say cyoa-choice-handler!
	cyoa-add-choice
		weirdsafe1 cyoa-choice-handler!
	cyoa-add-choice
		weirdsafe2 cyoa-choice-handler!
	cyoa-add-choice
		weirdsafe3 cyoa-choice-handler!	
	cyoa-show
;
: cyoa-weird-safe cyoa-weirdsafe .open clear-cyoa ;
: weird-safe fridge noloot ' cyoa-weird-safe cyoa! ; 

// GACHAPON

: gachafood1 2 LOOT_FOOD addloot ;
: gachafood2 3 LOOT_FOOD addloot ;
: gachatoys1 ;
: gachabullet 48 LOOT_BULLET addloot ;
: gachaooze "AUUUUUUUUUGH MUTAGENIC OOZE!!!" player .say ;
: gachamegaooze "AUUUUUUUGH COLLECTOR'S OOZE!!!" player .say ;
: gachar ;
: gacharpills "assaltos." cyoa-text-append 6 LOOT_MEDICAL addloot gachar "six units of medical supply." ;
: gacharbullets "to the team." cyoa-text-append 48 LOOT_BULLET addloot gachar "88 obuses." ;
// BUG: Getting a pistol or uzi from the gun-safe IMMEDIATELY after getting this seems to give way more bullets than it should.
: gacharesource 50 %chance if gacharpills else gacharbullets then ;
: gachafstat ;
: gachastr "BIG MUSCULATURE, VERY STRONG." cyoa-text-append 1 LOOT_BULLET addloot gachafstat "force" ;
: gachafit " FLEXIBLE : SUAVE, ADAPTABLE. " cyoa-text-append 1 LOOT_BULLET addloot gachafstat "esporte de saude ou fitness" ;
: gachashoot "OLHO DA MORTE " cyoa-text-append 1 LOOT_BULLET addloot gachafstat "Competicao de tiro" ;
: gachafigurine 33 %chance if gachastr else 50 %chance if gachafit else gachashoot then then ;
: gachacoin "AAA" ;
// : gachacoin "O nome gira a macaneta um quarto e faz com que as capsulas da maquina saiam todas de uma vez." ;
// BUG: The longer gachacoin seems to crash the game with gachamega1 and gachamega3. "AAA" gachacoin doesn't.
: gachabreak 50 %chance if "O balde da maquina quebrou, mostrando as capsulas plasticas internas." else "A maquina se esconde no arroz, oferecendo acesso a todas as capsulas." then ;

: gachamega1
	"As capsulas estao cheias de eooze genetropo que sao abertas e bebidas de acordo com o nome. Felizmente, porem, este genetropo e uma edicao limitada e de colecionador!" cyoa-text-append
	cyoa-add-choice
		' gachamegaooze cyoa-choice-handler!
	// Adds 1 strength to this character. If strength is maxed, add a point of fitness instead. If that's also maxed, do nothing.
	cyoa-show
;
: gachamega2
	"alguns graos de arroz ou de trigo" cyoa-text-append gacharesource
	" ' ' Um jogo de dados para brinquedos infantis. 		 " cyoa-text-append gachar cyoa-text-append
	cyoa-show
;
: gachamega3
	"Os sacos estao cheios de figuras dudebros. Nom encontrou uma edicao limitada ultra-rara sr." cyoa-text-append gachafigurine
	" ' ' o espirito de colecionismo de noms sobe em 10 e o espirito de noms colecionadores aumenta cada um em 10." cyoa-text-append gachafstat cyoa-text-append " ' ' definitivamente aumentou em 1!" cyoa-text-append
	cyoa-add-choice
		"Muito bonito" cyoa-choice-text!
	cyoa-show
;
: gacha1
	"Todos ganham cinco pontos de moralidade! " cyoa-text-append
	cyoa-add-choice
		"THANKS FOR THIS REward." cyoa-choice-text!
		' gachatoys1 cyoa-choice-handler!
	// Food and morale 
	cyoa-show
;
: gacha2
	"You have obtained three units of food. The troop gains five points of morality each." cyoa-text-append
	cyoa-add-choice
		' gachafood2 cyoa-choice-handler!
	// Food and morale 
	cyoa-show
;
: gacha3
	"'Esta capsula na verdade continha todas as gooches mutagenicas, era realmente moda entre as criancas antes do governo retiralas do mercado novamente.'" cyoa-text-append
	cyoa-add-choice
		' gachaooze cyoa-choice-handler!
	// Turns the character you used to open it green.
	cyoa-show
;
: gacha4
	"Voce ganhou 2 unidades de comida!" cyoa-text-append
	cyoa-add-choice
		' gachafood1 cyoa-choice-handler!
	// After it picks someone for the name, it then reduces that character's morale by 10.
	cyoa-show
;
: gachaspecial cyoa-start gachacoin cyoa-text-append cyoa-text-cr2 1 3 rnd case 1 of gachamega1 endof 2 of gachamega2 endof 3 of gachamega3 endof endcase ;
: gacharoll cyoa-start gachabreak cyoa-text-append cyoa-text-cr2 1 4 rnd case 1 of gacha1 endof 2 of gacha2 endof 3 of gacha3 endof 4 of gacha4 endof endcase ;
: cyoa-gachapon
	cyoa-start
	"Maquina de capsulas de recompensas" cyoa-title!
	"'E uma maquina de venda de capsulas de brindes. A tela esta apagada, portanto, nao ha como saber o que esta dentro das capsulas antes de abrila." cyoa-text!
	cyoa-add-choice
		"Pontos ganhos para os zumbis! " cyoa-choice-text!
		' gacharoll cyoa-choice-handler!
	cyoa-add-choice
		"Insira 050€." cyoa-choice-text!
	// Check if you have a quarter, get it from a previous CYOA event. If you don't have one, replaces this with a "empurre a maquina adjacente." option that is the same as "E retirado da fora por".
		' gachaspecial cyoa-choice-handler!
	cyoa-show
;
: cyoa-gacha-pon cyoa-gachapon clear-cyoa ;
: gacha-pon fridge noloot ' cyoa-gacha-pon cyoa! ; 

// STRANGE COMPUTER

// Too much text, gets cut off for Strangehack1 and 2.
: strangehack1 
	cyoa-start
	"Cet programme a ete une secret tenu sous verrou pour plus de 30 ans et il est toujours cache sur chaque ordinateur.\" cyoa-text!
	// If full on strength, give different message and 15 morale instead.
	cyoa-show
; 
: strangehack2 
	cyoa-start
	"Of course the *regular* internet went down after civilization died off... but the Secret Hacker's Cyberspace internet is still alive and well.
	You browse www.friendlydads.SHC for the latest tips on grilling and firearms maintenance.
	Two hours pass! NAME gets 10 morale and 1 extra shooting skill! " cyoa-text!
	// If shooting skill is maxed, get 15 morale instead.
	cyoa-show
;
: strangehack3 
	cyoa-start
	"You do a SSHL/TCUP reverse loop into the Secret Hacker's Cyberspace and download the savvy hacker's favorite: ANARCHYGUIDE.TXT. Brushing up on it refreshes some of your skills!
	Four hours pass! NAME gets 1 point in Mechanics and Shooting!" cyoa-text!
	// Random selection of skills to give one point in
	cyoa-show
;  
: strangehack4 
	cyoa-start
	"> Deteccao de corrupcao de memoria, memoria inacessivel. Programa interrompido." cyoa-text!
	cyoa-add-choice
	"??????" cyoa-choice-text!
	// Increases that character's stats to max, but adds a flag that makes the character have worse "a coleta de zumbis" until they glitch out of existence.
	cyoa-show
; 
: strangecomphack 
	cyoa-start
	"VOLUNTARIO NA ZONA HACK." cyoa-title!
	"Teve sucesso ao hackear o servidor principal apos ter cruzado um labirinto 3D complexo cheio de programas de seguranca de arame farpado." cyoa-text!
	cyoa-add-choice
		"Aquecendo" cyoa-choice-text!
		' strangehack1 cyoa-choice-handler!
	cyoa-add-choice
		"Navegue pela INTERNET." cyoa-choice-text!
		' strangehack2 cyoa-choice-handler!
	cyoa-add-choice
		"ANARCHYGUIDE.TXT" cyoa-choice-text!
		' strangehack3 cyoa-choice-handler!
	cyoa-add-choice
		"BASTaO INFLAVEL PARA PISCINA" cyoa-choice-text!
	// Check for the even higher wits for the last two choices, or possibly flags for COMPUTER HACKER as a character background
		' strangehack4 cyoa-choice-handler!
	cyoa-show
;
: oldpcend cyoa-text-append cyoa-text-cr2 "A moral de nome e nome aumenta 5 pontos!" cyoa-text-append cyoa-show 1 LOOT_BULLET addloot ;
: oldpcdesc cyoa-start "Um dia, nome e nome se divertem jogando um velho jogo de computador agradavelmente desviado. mas o tempo passa." cyoa-text-append cyoa-text-cr2 ;
// MAKE AN HOUR PASS
: oldpcdesc1 oldpcdesc "Jogo no qual voce controla uma cobra que come numeros. cada vez que voce come um numero, a cobra fica maior." oldpcend ;
: oldpcdesc2 oldpcdesc "O jogo te obrigava a inserir numeros para determinar a trajetoria que o macaco usou para atirar uma banana." oldpcend ;
: oldpcdesc3 oldpcdesc "Para evitar colisoes com animais, era necessario mudar de via no automovel pulsando apenas um botao." oldpcend ;
// NOTE: IF the descriptions get any longer than they are now, the game crashes when trying to load them.
: cyoa-strangecomputer
	cyoa-start
	"Computador estranho" cyoa-title!
	"Este antigo computador funciona sem fonte de energia aparente. Isto parece inexplicavel. No entanto, e possivel que fontes de energia nao convencionais estejam envolvidas, como a energia estatica ou o magnetismo. E importante tomar precaucoes antes de interagir com o computador para evitar qualquer dano potencial. Uma analise detalhada e necessaria para compreender este fenomeno." cyoa-text!
	cyoa-add-choice
		"E UM PROGRAMA BASIC COM O NOME DE NIBBLES.BAS." cyoa-choice-text!
		' oldpcdesc1 cyoa-choice-handler!
	cyoa-add-choice
		"LEITEIRO DE HOSPITAL" cyoa-choice-text!
		' oldpcdesc2 cyoa-choice-handler!
	// Look into a way to only show 2 options, picked randomly from a list of 4?
	cyoa-add-choice
		"ATIRAR: USAR UMA ARMA DE FOGO" cyoa-choice-text!
		' oldpcdesc3 cyoa-choice-handler!
	cyoa-add-choice
		"[USE CUIDADOSAMENTE SUAS HABILIDADES DE HACKER DE ELITE]" cyoa-choice-text!
	// Check for the highest WITS stat in your party. Add extra options if it's high enough.
		' strangecomphack cyoa-choice-handler!
	cyoa-show
;
: cyoa-strange-computer cyoa-strangecomputer clear-cyoa ;
: strange-computer fridge noloot ' cyoa-strange-computer cyoa! ;

: cyoatest1 zomb-fridge ;
: cyoatest2 love-tester ;
: cyoatest3 pigout-fridge ;
: cyoatest4 wishing-toilet ;
: cyoatest5 gun-safe ;
: cyoatest6 weird-safe ;
: cyoatest7 gacha-pon ;
: cyoatest8 strange-computer ;

load? kepa/cyoatest/testregion.df
load? kepa/cyoatest/testlocation.df
